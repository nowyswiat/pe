(()=>{var e={275:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(601),o=n.n(r),i=n(314),a=n.n(i)()(o());a.push([e.id,"/*\n! tailwindcss v3.4.4 | MIT License | https://tailwindcss.com\n*//*\n1. Prevent padding and border from affecting element width. (https://github.com/mozdevs/cssremedy/issues/4)\n2. Allow adding a border to an element by just adding a border-width. (https://github.com/tailwindcss/tailwindcss/pull/116)\n*/\n\n*,\n::before,\n::after {\n  box-sizing: border-box; /* 1 */\n  border-width: 0; /* 2 */\n  border-style: solid; /* 2 */\n  border-color: #e5e7eb; /* 2 */\n}\n\n::before,\n::after {\n  --tw-content: '';\n}\n\n/*\n1. Use a consistent sensible line-height in all browsers.\n2. Prevent adjustments of font size after orientation changes in iOS.\n3. Use a more readable tab size.\n4. Use the user's configured `sans` font-family by default.\n5. Use the user's configured `sans` font-feature-settings by default.\n6. Use the user's configured `sans` font-variation-settings by default.\n7. Disable tap highlights on iOS\n*/\n\nhtml,\n:host {\n  line-height: 1.5; /* 1 */\n  -webkit-text-size-adjust: 100%; /* 2 */\n  -moz-tab-size: 4; /* 3 */\n  -o-tab-size: 4;\n     tab-size: 4; /* 3 */\n  font-family: ui-sans-serif, system-ui, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\"; /* 4 */\n  font-feature-settings: normal; /* 5 */\n  font-variation-settings: normal; /* 6 */\n  -webkit-tap-highlight-color: transparent; /* 7 */\n}\n\n/*\n1. Remove the margin in all browsers.\n2. Inherit line-height from `html` so users can set them as a class directly on the `html` element.\n*/\n\nbody {\n  margin: 0; /* 1 */\n  line-height: inherit; /* 2 */\n}\n\n/*\n1. Add the correct height in Firefox.\n2. Correct the inheritance of border color in Firefox. (https://bugzilla.mozilla.org/show_bug.cgi?id=190655)\n3. Ensure horizontal rules are visible by default.\n*/\n\nhr {\n  height: 0; /* 1 */\n  color: inherit; /* 2 */\n  border-top-width: 1px; /* 3 */\n}\n\n/*\nAdd the correct text decoration in Chrome, Edge, and Safari.\n*/\n\nabbr:where([title]) {\n  -webkit-text-decoration: underline dotted;\n          text-decoration: underline dotted;\n}\n\n/*\nRemove the default font size and weight for headings.\n*/\n\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  font-size: inherit;\n  font-weight: inherit;\n}\n\n/*\nReset links to optimize for opt-in styling instead of opt-out.\n*/\n\na {\n  color: inherit;\n  text-decoration: inherit;\n}\n\n/*\nAdd the correct font weight in Edge and Safari.\n*/\n\nb,\nstrong {\n  font-weight: bolder;\n}\n\n/*\n1. Use the user's configured `mono` font-family by default.\n2. Use the user's configured `mono` font-feature-settings by default.\n3. Use the user's configured `mono` font-variation-settings by default.\n4. Correct the odd `em` font sizing in all browsers.\n*/\n\ncode,\nkbd,\nsamp,\npre {\n  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace; /* 1 */\n  font-feature-settings: normal; /* 2 */\n  font-variation-settings: normal; /* 3 */\n  font-size: 1em; /* 4 */\n}\n\n/*\nAdd the correct font size in all browsers.\n*/\n\nsmall {\n  font-size: 80%;\n}\n\n/*\nPrevent `sub` and `sup` elements from affecting the line height in all browsers.\n*/\n\nsub,\nsup {\n  font-size: 75%;\n  line-height: 0;\n  position: relative;\n  vertical-align: baseline;\n}\n\nsub {\n  bottom: -0.25em;\n}\n\nsup {\n  top: -0.5em;\n}\n\n/*\n1. Remove text indentation from table contents in Chrome and Safari. (https://bugs.chromium.org/p/chromium/issues/detail?id=999088, https://bugs.webkit.org/show_bug.cgi?id=201297)\n2. Correct table border color inheritance in all Chrome and Safari. (https://bugs.chromium.org/p/chromium/issues/detail?id=935729, https://bugs.webkit.org/show_bug.cgi?id=195016)\n3. Remove gaps between table borders by default.\n*/\n\ntable {\n  text-indent: 0; /* 1 */\n  border-color: inherit; /* 2 */\n  border-collapse: collapse; /* 3 */\n}\n\n/*\n1. Change the font styles in all browsers.\n2. Remove the margin in Firefox and Safari.\n3. Remove default padding in all browsers.\n*/\n\nbutton,\ninput,\noptgroup,\nselect,\ntextarea {\n  font-family: inherit; /* 1 */\n  font-feature-settings: inherit; /* 1 */\n  font-variation-settings: inherit; /* 1 */\n  font-size: 100%; /* 1 */\n  font-weight: inherit; /* 1 */\n  line-height: inherit; /* 1 */\n  letter-spacing: inherit; /* 1 */\n  color: inherit; /* 1 */\n  margin: 0; /* 2 */\n  padding: 0; /* 3 */\n}\n\n/*\nRemove the inheritance of text transform in Edge and Firefox.\n*/\n\nbutton,\nselect {\n  text-transform: none;\n}\n\n/*\n1. Correct the inability to style clickable types in iOS and Safari.\n2. Remove default button styles.\n*/\n\nbutton,\ninput:where([type='button']),\ninput:where([type='reset']),\ninput:where([type='submit']) {\n  -webkit-appearance: button; /* 1 */\n  background-color: transparent; /* 2 */\n  background-image: none; /* 2 */\n}\n\n/*\nUse the modern Firefox focus style for all focusable elements.\n*/\n\n:-moz-focusring {\n  outline: auto;\n}\n\n/*\nRemove the additional `:invalid` styles in Firefox. (https://github.com/mozilla/gecko-dev/blob/2f9eacd9d3d995c937b4251a5557d95d494c9be1/layout/style/res/forms.css#L728-L737)\n*/\n\n:-moz-ui-invalid {\n  box-shadow: none;\n}\n\n/*\nAdd the correct vertical alignment in Chrome and Firefox.\n*/\n\nprogress {\n  vertical-align: baseline;\n}\n\n/*\nCorrect the cursor style of increment and decrement buttons in Safari.\n*/\n\n::-webkit-inner-spin-button,\n::-webkit-outer-spin-button {\n  height: auto;\n}\n\n/*\n1. Correct the odd appearance in Chrome and Safari.\n2. Correct the outline style in Safari.\n*/\n\n[type='search'] {\n  -webkit-appearance: textfield; /* 1 */\n  outline-offset: -2px; /* 2 */\n}\n\n/*\nRemove the inner padding in Chrome and Safari on macOS.\n*/\n\n::-webkit-search-decoration {\n  -webkit-appearance: none;\n}\n\n/*\n1. Correct the inability to style clickable types in iOS and Safari.\n2. Change font properties to `inherit` in Safari.\n*/\n\n::-webkit-file-upload-button {\n  -webkit-appearance: button; /* 1 */\n  font: inherit; /* 2 */\n}\n\n/*\nAdd the correct display in Chrome and Safari.\n*/\n\nsummary {\n  display: list-item;\n}\n\n/*\nRemoves the default spacing and border for appropriate elements.\n*/\n\nblockquote,\ndl,\ndd,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6,\nhr,\nfigure,\np,\npre {\n  margin: 0;\n}\n\nfieldset {\n  margin: 0;\n  padding: 0;\n}\n\nlegend {\n  padding: 0;\n}\n\nol,\nul,\nmenu {\n  list-style: none;\n  margin: 0;\n  padding: 0;\n}\n\n/*\nReset default styling for dialogs.\n*/\ndialog {\n  padding: 0;\n}\n\n/*\nPrevent resizing textareas horizontally by default.\n*/\n\ntextarea {\n  resize: vertical;\n}\n\n/*\n1. Reset the default placeholder opacity in Firefox. (https://github.com/tailwindlabs/tailwindcss/issues/3300)\n2. Set the default placeholder color to the user's configured gray 400 color.\n*/\n\ninput::-moz-placeholder, textarea::-moz-placeholder {\n  opacity: 1; /* 1 */\n  color: #9ca3af; /* 2 */\n}\n\ninput::placeholder,\ntextarea::placeholder {\n  opacity: 1; /* 1 */\n  color: #9ca3af; /* 2 */\n}\n\n/*\nSet the default cursor for buttons.\n*/\n\nbutton,\n[role=\"button\"] {\n  cursor: pointer;\n}\n\n/*\nMake sure disabled buttons don't get the pointer cursor.\n*/\n:disabled {\n  cursor: default;\n}\n\n/*\n1. Make replaced elements `display: block` by default. (https://github.com/mozdevs/cssremedy/issues/14)\n2. Add `vertical-align: middle` to align replaced elements more sensibly by default. (https://github.com/jensimmons/cssremedy/issues/14#issuecomment-634934210)\n   This can trigger a poorly considered lint error in some tools but is included by design.\n*/\n\nimg,\nsvg,\nvideo,\ncanvas,\naudio,\niframe,\nembed,\nobject {\n  display: block; /* 1 */\n  vertical-align: middle; /* 2 */\n}\n\n/*\nConstrain images and videos to the parent width and preserve their intrinsic aspect ratio. (https://github.com/mozdevs/cssremedy/issues/14)\n*/\n\nimg,\nvideo {\n  max-width: 100%;\n  height: auto;\n}\n\n/* Make elements with the HTML hidden attribute stay hidden by default */\n[hidden] {\n  display: none;\n}\n\n*, ::before, ::after {\n  --tw-border-spacing-x: 0;\n  --tw-border-spacing-y: 0;\n  --tw-translate-x: 0;\n  --tw-translate-y: 0;\n  --tw-rotate: 0;\n  --tw-skew-x: 0;\n  --tw-skew-y: 0;\n  --tw-scale-x: 1;\n  --tw-scale-y: 1;\n  --tw-pan-x:  ;\n  --tw-pan-y:  ;\n  --tw-pinch-zoom:  ;\n  --tw-scroll-snap-strictness: proximity;\n  --tw-gradient-from-position:  ;\n  --tw-gradient-via-position:  ;\n  --tw-gradient-to-position:  ;\n  --tw-ordinal:  ;\n  --tw-slashed-zero:  ;\n  --tw-numeric-figure:  ;\n  --tw-numeric-spacing:  ;\n  --tw-numeric-fraction:  ;\n  --tw-ring-inset:  ;\n  --tw-ring-offset-width: 0px;\n  --tw-ring-offset-color: #fff;\n  --tw-ring-color: rgb(59 130 246 / 0.5);\n  --tw-ring-offset-shadow: 0 0 #0000;\n  --tw-ring-shadow: 0 0 #0000;\n  --tw-shadow: 0 0 #0000;\n  --tw-shadow-colored: 0 0 #0000;\n  --tw-blur:  ;\n  --tw-brightness:  ;\n  --tw-contrast:  ;\n  --tw-grayscale:  ;\n  --tw-hue-rotate:  ;\n  --tw-invert:  ;\n  --tw-saturate:  ;\n  --tw-sepia:  ;\n  --tw-drop-shadow:  ;\n  --tw-backdrop-blur:  ;\n  --tw-backdrop-brightness:  ;\n  --tw-backdrop-contrast:  ;\n  --tw-backdrop-grayscale:  ;\n  --tw-backdrop-hue-rotate:  ;\n  --tw-backdrop-invert:  ;\n  --tw-backdrop-opacity:  ;\n  --tw-backdrop-saturate:  ;\n  --tw-backdrop-sepia:  ;\n  --tw-contain-size:  ;\n  --tw-contain-layout:  ;\n  --tw-contain-paint:  ;\n  --tw-contain-style:  ;\n}\n\n::backdrop {\n  --tw-border-spacing-x: 0;\n  --tw-border-spacing-y: 0;\n  --tw-translate-x: 0;\n  --tw-translate-y: 0;\n  --tw-rotate: 0;\n  --tw-skew-x: 0;\n  --tw-skew-y: 0;\n  --tw-scale-x: 1;\n  --tw-scale-y: 1;\n  --tw-pan-x:  ;\n  --tw-pan-y:  ;\n  --tw-pinch-zoom:  ;\n  --tw-scroll-snap-strictness: proximity;\n  --tw-gradient-from-position:  ;\n  --tw-gradient-via-position:  ;\n  --tw-gradient-to-position:  ;\n  --tw-ordinal:  ;\n  --tw-slashed-zero:  ;\n  --tw-numeric-figure:  ;\n  --tw-numeric-spacing:  ;\n  --tw-numeric-fraction:  ;\n  --tw-ring-inset:  ;\n  --tw-ring-offset-width: 0px;\n  --tw-ring-offset-color: #fff;\n  --tw-ring-color: rgb(59 130 246 / 0.5);\n  --tw-ring-offset-shadow: 0 0 #0000;\n  --tw-ring-shadow: 0 0 #0000;\n  --tw-shadow: 0 0 #0000;\n  --tw-shadow-colored: 0 0 #0000;\n  --tw-blur:  ;\n  --tw-brightness:  ;\n  --tw-contrast:  ;\n  --tw-grayscale:  ;\n  --tw-hue-rotate:  ;\n  --tw-invert:  ;\n  --tw-saturate:  ;\n  --tw-sepia:  ;\n  --tw-drop-shadow:  ;\n  --tw-backdrop-blur:  ;\n  --tw-backdrop-brightness:  ;\n  --tw-backdrop-contrast:  ;\n  --tw-backdrop-grayscale:  ;\n  --tw-backdrop-hue-rotate:  ;\n  --tw-backdrop-invert:  ;\n  --tw-backdrop-opacity:  ;\n  --tw-backdrop-saturate:  ;\n  --tw-backdrop-sepia:  ;\n  --tw-contain-size:  ;\n  --tw-contain-layout:  ;\n  --tw-contain-paint:  ;\n  --tw-contain-style:  ;\n}\n/*.mybtn {\n    @apply m-2 text-base font-semibold text-center text-gray-800 rounded-lg bg-gray-500 hover:text-black hover:bg-gray-300;\n  }*/\n.mybtn {\n  margin: 0px;\n  height: 4rem;\n  border-radius: 0.5rem;\n  --tw-bg-opacity: 1;\n  background-color: rgb(107 114 128 / var(--tw-bg-opacity));\n  text-align: center;\n  font-size: 1.5rem;\n  line-height: 2rem;\n  --tw-text-opacity: 1;\n  color: rgb(255 255 255 / var(--tw-text-opacity));\n}\n.mybtn:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(209 213 219 / var(--tw-bg-opacity));\n  --tw-text-opacity: 1;\n  color: rgb(0 0 0 / var(--tw-text-opacity));\n}\n/*.center {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 200px;\n    border: 3px solid green;\n  }*/\n.visible {\n  visibility: visible;\n}\n.absolute {\n  position: absolute;\n}\n.relative {\n  position: relative;\n}\n.m-1 {\n  margin: 0.25rem;\n}\n.mx-0 {\n  margin-left: 0px;\n  margin-right: 0px;\n}\n.mx-4 {\n  margin-left: 1rem;\n  margin-right: 1rem;\n}\n.my-auto {\n  margin-top: auto;\n  margin-bottom: auto;\n}\n.mb-2 {\n  margin-bottom: 0.5rem;\n}\n.ml-2 {\n  margin-left: 0.5rem;\n}\n.ml-auto {\n  margin-left: auto;\n}\n.mr-auto {\n  margin-right: auto;\n}\n.mt-2 {\n  margin-top: 0.5rem;\n}\n.mt-3 {\n  margin-top: 0.75rem;\n}\n.flex {\n  display: flex;\n}\n.hidden {\n  display: none;\n}\n.h-10 {\n  height: 2.5rem;\n}\n.h-20 {\n  height: 5rem;\n}\n.h-\\[100\\%\\] {\n  height: 100%;\n}\n.h-screen {\n  height: 100vh;\n}\n.w-20 {\n  width: 5rem;\n}\n.w-28 {\n  width: 7rem;\n}\n.w-48 {\n  width: 12rem;\n}\n.w-full {\n  width: 100%;\n}\n.max-w-20 {\n  max-width: 5rem;\n}\n.grow {\n  flex-grow: 1;\n}\n.basis-0 {\n  flex-basis: 0px;\n}\n.basis-1\\/2 {\n  flex-basis: 50%;\n}\n.list-disc {\n  list-style-type: disc;\n}\n.flex-row {\n  flex-direction: row;\n}\n.flex-col {\n  flex-direction: column;\n}\n.items-center {\n  align-items: center;\n}\n.justify-center {\n  justify-content: center;\n}\n.gap-1 {\n  gap: 0.25rem;\n}\n.overflow-auto {\n  overflow: auto;\n}\n.rounded-md {\n  border-radius: 0.375rem;\n}\n.bg-customBlue-dark {\n  --tw-bg-opacity: 1;\n  background-color: rgb(179 212 252 / var(--tw-bg-opacity));\n}\n.bg-customBlue-light {\n  --tw-bg-opacity: 1;\n  background-color: rgb(194 222 253 / var(--tw-bg-opacity));\n}\n.bg-customBlue-lighter {\n  --tw-bg-opacity: 1;\n  background-color: rgb(209 231 253 / var(--tw-bg-opacity));\n}\n.bg-customBlue-lightest {\n  --tw-bg-opacity: 1;\n  background-color: rgb(224 241 254 / var(--tw-bg-opacity));\n}\n.bg-customBlue-pale {\n  --tw-bg-opacity: 1;\n  background-color: rgb(239 250 255 / var(--tw-bg-opacity));\n}\n.bg-red-100 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(254 226 226 / var(--tw-bg-opacity));\n}\n.bg-red-400 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(248 113 113 / var(--tw-bg-opacity));\n}\n.p-1 {\n  padding: 0.25rem;\n}\n.p-2 {\n  padding: 0.5rem;\n}\n.px-1 {\n  padding-left: 0.25rem;\n  padding-right: 0.25rem;\n}\n.px-2 {\n  padding-left: 0.5rem;\n  padding-right: 0.5rem;\n}\n.px-8 {\n  padding-left: 2rem;\n  padding-right: 2rem;\n}\n.py-1 {\n  padding-top: 0.25rem;\n  padding-bottom: 0.25rem;\n}\n.py-2 {\n  padding-top: 0.5rem;\n  padding-bottom: 0.5rem;\n}\n.pb-1 {\n  padding-bottom: 0.25rem;\n}\n.pb-2 {\n  padding-bottom: 0.5rem;\n}\n.pl-4 {\n  padding-left: 1rem;\n}\n.pt-1 {\n  padding-top: 0.25rem;\n}\n.pt-2 {\n  padding-top: 0.5rem;\n}\n.pt-4 {\n  padding-top: 1rem;\n}\n.pt-6 {\n  padding-top: 1.5rem;\n}\n.text-center {\n  text-align: center;\n}\n.text-2xl {\n  font-size: 1.5rem;\n  line-height: 2rem;\n}\n.text-lg {\n  font-size: 1.125rem;\n  line-height: 1.75rem;\n}\n.text-xl {\n  font-size: 1.25rem;\n  line-height: 1.75rem;\n}\n.accent-blue-400 {\n  accent-color: #60a5fa;\n}\n.filter {\n  filter: var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow);\n}",""]);const s=a},314:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,o,i){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(a[l]=!0)}for(var c=0;c<e.length;c++){var d=[].concat(e[c]);r&&a[d[0]]||(void 0!==i&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=i),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),o&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=o):d[4]="".concat(o)),t.push(d))}},t}},601:e=>{"use strict";e.exports=function(e){return e[1]}},65:function(e,t,n){var r,o;!function(i,a){"use strict";r=function(){var e=function(){},t="undefined",n=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),r=["trace","debug","info","warn","error"],o={},i=null;function a(e,t){var n=e[t];if("function"==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(t){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function s(){console.log&&(console.log.apply||Function.prototype.apply.apply(console.log,[console,arguments])),console.trace}function l(r){return"debug"===r&&(r="log"),typeof console!==t&&("trace"===r&&n?s:void 0!==console[r]?a(console,r):void 0!==console.log?a(console,"log"):e)}function c(){for(var n=this.getLevel(),o=0;o<r.length;o++){var i=r[o];this[i]=o<n?e:this.methodFactory(i,n,this.name)}if(this.log=this.debug,typeof console===t&&n<this.levels.SILENT)return"No console available for logging"}function d(e){return function(){typeof console!==t&&(c.call(this),this[e].apply(this,arguments))}}function u(e,t,n){return l(e)||d.apply(this,arguments)}function p(e,n){var a,s,l,d=this,p="loglevel";function f(e){var n=(r[e]||"silent").toUpperCase();if(typeof window!==t&&p){try{return void(window.localStorage[p]=n)}catch(e){}try{window.document.cookie=encodeURIComponent(p)+"="+n+";"}catch(e){}}}function h(){var e;if(typeof window!==t&&p){try{e=window.localStorage[p]}catch(e){}if(typeof e===t)try{var n=window.document.cookie,r=encodeURIComponent(p),o=n.indexOf(r+"=");-1!==o&&(e=/^([^;]+)/.exec(n.slice(o+r.length+1))[1])}catch(e){}return void 0===d.levels[e]&&(e=void 0),e}}function m(){if(typeof window!==t&&p){try{window.localStorage.removeItem(p)}catch(e){}try{window.document.cookie=encodeURIComponent(p)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}}function y(e){var t=e;if("string"==typeof t&&void 0!==d.levels[t.toUpperCase()]&&(t=d.levels[t.toUpperCase()]),"number"==typeof t&&t>=0&&t<=d.levels.SILENT)return t;throw new TypeError("log.setLevel() called with invalid level: "+e)}"string"==typeof e?p+=":"+e:"symbol"==typeof e&&(p=void 0),d.name=e,d.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},d.methodFactory=n||u,d.getLevel=function(){return null!=l?l:null!=s?s:a},d.setLevel=function(e,t){return l=y(e),!1!==t&&f(l),c.call(d)},d.setDefaultLevel=function(e){s=y(e),h()||d.setLevel(e,!1)},d.resetLevel=function(){l=null,m(),c.call(d)},d.enableAll=function(e){d.setLevel(d.levels.TRACE,e)},d.disableAll=function(e){d.setLevel(d.levels.SILENT,e)},d.rebuild=function(){if(i!==d&&(a=y(i.getLevel())),c.call(d),i===d)for(var e in o)o[e].rebuild()},a=y(i?i.getLevel():"WARN");var g=h();null!=g&&(l=y(g)),c.call(d)}(i=new p).getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=o[e];return t||(t=o[e]=new p(e,i.methodFactory)),t};var f=typeof window!==t?window.log:void 0;return i.noConflict=function(){return typeof window!==t&&window.log===i&&(window.log=f),i},i.getLoggers=function(){return o},i.default=i,i},void 0===(o="function"==typeof r?r.call(t,n,t,e):r)||(e.exports=o)}()},72:e=>{"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var i={},a=[],s=0;s<e.length;s++){var l=e[s],c=r.base?l[0]+r.base:l[0],d=i[c]||0,u="".concat(c," ").concat(d);i[c]=d+1;var p=n(u),f={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==p)t[p].references++,t[p].updater(f);else{var h=o(f,r);r.byIndex=s,t.splice(s,0,{identifier:u,updater:h,references:1})}a.push(u)}return a}function o(e,t){var n=t.domAPI(t);n.update(e);return function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var i=r(e=e||[],o=o||{});return function(e){e=e||[];for(var a=0;a<i.length;a++){var s=n(i[a]);t[s].references--}for(var l=r(e,o),c=0;c<i.length;c++){var d=n(i[c]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}i=l}}},659:e=>{"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},540:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},56:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},825:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},113:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},84:(e,t,n)=>{e=n.nmd(e),function(t){"use strict";var n,r="function"==typeof(n=t.atob)?n:"function"==typeof Buffer?function(e){return new Buffer(e,"base64").toString("binary")}:"object"==typeof t.base64js?function(e){var n=t.base64js.b64ToByteArray(e);return Array.prototype.map.call(n,(function(e){return String.fromCharCode(e)})).join("")}:function(){throw new Error("You're probably in an old browser or an iOS webworker. It might help to include beatgammit's base64-js.")};t.atob=r,e&&e.exports&&(e.exports=r)}(window)},631:function(e,t,n){var r,o;!function(i,a){"use strict";r=function(){var e=function(){},t="undefined",n=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),r=["trace","debug","info","warn","error"];function o(e,t){var n=e[t];if("function"==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(t){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function i(){console.log&&(console.log.apply||Function.prototype.apply.apply(console.log,[console,arguments])),console.trace}function a(r){return"debug"===r&&(r="log"),typeof console!==t&&("trace"===r&&n?i:void 0!==console[r]?o(console,r):void 0!==console.log?o(console,"log"):e)}function s(t,n){for(var o=0;o<r.length;o++){var i=r[o];this[i]=o<t?e:this.methodFactory(i,t,n)}this.log=this.debug}function l(e,n,r){return function(){typeof console!==t&&(s.call(this,n,r),this[e].apply(this,arguments))}}function c(e,t,n){return a(e)||l.apply(this,arguments)}function d(e,n,o){var i,a=this;n=null==n?"WARN":n;var l="loglevel";function d(e){var n=(r[e]||"silent").toUpperCase();if(typeof window!==t&&l){try{return void(window.localStorage[l]=n)}catch(e){}try{window.document.cookie=encodeURIComponent(l)+"="+n+";"}catch(e){}}}function u(){var e;if(typeof window!==t&&l){try{e=window.localStorage[l]}catch(e){}if(typeof e===t)try{var n=window.document.cookie,r=n.indexOf(encodeURIComponent(l)+"=");-1!==r&&(e=/^([^;]+)/.exec(n.slice(r))[1])}catch(e){}return void 0===a.levels[e]&&(e=void 0),e}}function p(){if(typeof window!==t&&l){try{return void window.localStorage.removeItem(l)}catch(e){}try{window.document.cookie=encodeURIComponent(l)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}}"string"==typeof e?l+=":"+e:"symbol"==typeof e&&(l=void 0),a.name=e,a.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},a.methodFactory=o||c,a.getLevel=function(){return i},a.setLevel=function(n,r){if("string"==typeof n&&void 0!==a.levels[n.toUpperCase()]&&(n=a.levels[n.toUpperCase()]),!("number"==typeof n&&n>=0&&n<=a.levels.SILENT))throw"log.setLevel() called with invalid level: "+n;if(i=n,!1!==r&&d(n),s.call(a,n,e),typeof console===t&&n<a.levels.SILENT)return"No console available for logging"},a.setDefaultLevel=function(e){n=e,u()||a.setLevel(e,!1)},a.resetLevel=function(){a.setLevel(n,!1),p()},a.enableAll=function(e){a.setLevel(a.levels.TRACE,e)},a.disableAll=function(e){a.setLevel(a.levels.SILENT,e)};var f=u();null==f&&(f=n),a.setLevel(f,!1)}var u=new d,p={};u.getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=p[e];return t||(t=p[e]=new d(e,u.getLevel(),u.methodFactory)),t};var f=typeof window!==t?window.log:void 0;return u.noConflict=function(){return typeof window!==t&&window.log===u&&(window.log=f),u},u.getLoggers=function(){return p},u.default=u,u},void 0===(o="function"==typeof r?r.call(t,n,t,e):r)||(e.exports=o)}()},962:(e,t,n)=>{const r=n(631).getLogger("audiolib"),o=n(943).assert,i=n(101),a="CDEFGABcdefgab",s=[".","~","H","L","M","O","P","S","T","u","v"],l={NOTE:{groups:["NCR"]},CHORD:{groups:["NCR"]},REST:{groups:["NCR"]},PPP:{groups:["DYNAMICS","DYNAMIC_LEVELS"]},PP:{groups:["DYNAMICS","DYNAMIC_LEVELS"]},P:{groups:["DYNAMICS","DYNAMIC_LEVELS"]},MP:{groups:["DYNAMICS","DYNAMIC_LEVELS"]},MF:{groups:["DYNAMICS","DYNAMIC_LEVELS"]},F:{groups:["DYNAMICS","DYNAMIC_LEVELS"]},FF:{groups:["DYNAMICS","DYNAMIC_LEVELS"]},FFF:{groups:["DYNAMICS","DYNAMIC_LEVELS"]},START_CRESC:{groups:["DYNAMICS","START_CRESC_DECRESCS"]},END_CRESC:{groups:["DYNAMICS","END_CRESC_DECRESCS"]},START_DECRESC:{groups:["DYNAMICS","START_CRESC_DECRESCS"]},END_DECRESC:{groups:["DYNAMICS","END_CRESC_DECRESCS"]},PED:{groups:["DYNAMICS"],data:[i.Symbols.ControllerTypes.holdPedal,127]},PED_UP:{groups:["DYNAMICS"],data:[i.Symbols.ControllerTypes.holdPedal,0]}},c={};for(let e of Object.keys(l))for(let t of l[e].groups)c[t]=c[t]||[],c[t].push(e);const d={"!ppp!":"PPP","!pp!":"PP","!p!":"P","!mp!":"MP","!mf!":"MF","!f!":"F","!ff!":"FF","!fff!":"FFF","!<(!":"START_CRESC","!crescendo(!":"START_CRESC","!<)!":"END_CRESC","!crescendo)!":"END_CRESC","!>(!":"START_DECRESC","!diminuendo(!":"START_DECRESC","!>)!":"END_DECRESC","!diminuendo)!":"END_DECRESC","!ped!":"PED","!ped-up!":"PED_UP"},u=["!>!","!accent!","!emphasis!","!^!","!marcato!","!sfz!"],p={PPP:[30,20,10,1],PP:[45,35,20,1],P:[60,50,35,1],MP:[75,65,50,1],MF:[90,80,65,1],F:[105,95,80,1],FF:[120,110,95,1],FFF:[127,125,110,1]};let f={};function h(e,t){return Math.abs(e-t)<.001}function m(e){return e.replace(/".*?"/g,"")}function y(e){let t={},n=e.indexOf("/");if(n<0){let n=`No / in ${e}`;return r.error("audiolib.abc-utils.parseFraction()",n),t.error=n,t}let o="";for(let t=n+1;t<e.length;t++)"0123456789".indexOf(e[t])>-1&&(o+=e[t]);if(!o){let n=`No denominator in ${e}`;return r.error("audiolib.abc-utils.parseFraction()",n),t.error=n,t}t.denominator=Number(o);let i="";for(let t=n-1;t>-1;t--)"0123456789".indexOf(e[t])>-1&&(i=e[t]+i);if(!i){let n=`No numerator in ${e}`;return r.error("audiolib.abc-utils.parseFraction()",n),t.error=n,t}return t.numerator=Number(i),t}function g(e){let t={},n=e.indexOf("="),o=e.indexOf("/");if(n<0||o<0)return t;let i="";for(let t=n+1;t<e.length;t++)"0123456789".indexOf(e[t])>-1&&(i+=e[t]);i||r.error("audiolib.abc-utils.parseQ() Bad Q (bpm): "+e),t.bpm=Number(i);let a,s=e.substr(0,n),l=/\d*\/.\d*/g,c={numerator:0,denominator:1};for(;null!==(a=l.exec(s));){let e=y(a[0]);u=e,c={numerator:(d=c).numerator*u.denominator+u.numerator*d.denominator,denominator:d.denominator*u.denominator}}var d,u;return t.numerator=c.numerator,t.denominator=c.denominator,t}function b(e){if((e=e.trim().replace("[","").replace("]","")).indexOf(":")>-1&&(e=e.split(":")[1]),"none"==e.toLowerCase()||""==e)return{value:"none",numerator:0,denominator:0};"C"==e?e="4/4":"C|"==e&&(e="2/2");let t=y(e);return t.value=e,t}function v(e){return(e=e.trim().replace("[","").replace("]","")).indexOf(":")>-1&&(e=e.split(":")[1]),y(e)}function _(e){let t={};return(e=e.trim().replace("[","").replace("]","")).indexOf(":")>-1&&(e=e.split(":")[1]),t.value=e,t}function x(e){let t,n=e.split("beat ");if(n.length<2)r.error(`Bad MIDI beat: ${e}`),t=p.MF;else{t=[];let o=n[1].split(" ");for(let e of o)t.push(Number(e));t.length<4&&(r.error(`Bad MIDI beat: ${e}`),t=p.MF)}return t}function w(e){let t=(e=e.trim()).split("beatstring");return t.length<2?"":t[1].trim()}function E(e){let t=(e=e.trim()).split("channel");return t.length<2?(r.error(`Bad MIDI channel: ${e}`),1):Number(t[1].trim())}function A(e,t){let n,r,i=(e=e.trim()).split("program")[1].trim().split(" ");return i.length<2?(o(t,`Only one param for MIDI program, but current Channel not specified ${e}`),n=Number(t),r=Number(i[0])):(n=Number(i[0]),r=Number(i[1])),[n,r]}function C(e){o("string"==typeof e||e instanceof String,`${e} is not a string`);let t={};(e=e.trim().replace("[","").replace("]","")).startsWith("I:")&&(e=e.substr(2));let n=e.split(" ");if(1==n.length)t.type=(n[0]?n[0]:"TODObad_I").toUpperCase();else{let o=n[0].toUpperCase();"MIDI"==o?(t.type=o+n[1].toUpperCase(),"MIDIBEAT"==t.type?t.value=x(e):"MIDIBEATSTRING"==t.type?t.value=w(e):"MIDICHANNEL"==t.type?t.value=E(e):"MIDIPROGRAM"==t.type?t.value=A(e):"MIDICONTROL"==t.type&&(t.value=function(e){let t,n,o=(e=e.trim()).split("control")[1].trim().split(" ");return o.length<2?(r.error(`Bad MIDI control: '${e}'`),t=0,n=0):(t=Number(o[0]),n=Number(o[1])),[t,n]}(e))):(t.type=o,t.value=n.slice(1))}return t}function S(e){let t={};t.sLenMod=e;let n=0,r="";for(;n<t.sLenMod.length&&!isNaN(parseInt(t.sLenMod[n],10));)r+=t.sLenMod[n],n++;t.numerator=r?parseInt(r,10):1;let o=1;for(;n<t.sLenMod.length&&"/"==t.sLenMod[n];){let e="",r=n+1;for(;r<t.sLenMod.length&&!isNaN(parseInt(t.sLenMod[r],10));)e+=t.sLenMod[r],r++;n=r,o=e?o*parseInt(e,10):2*o}return t.denominator=o,t}function k(e){let t=!0;for(let n=0;n<e.length;n++)if("0123456789".indexOf(e[n])<0){t=!1;break}return t}function N(e,t){let n=t,r="";for(;t<e.length&&"0123456789".indexOf(e[t])>-1;)r+=e[t],t++;return{num:r?Number(r):NaN,len:t-n}}function O(e,t){let n={},i=t;o.ok("("==e[t],`Tuplet ${e} does not begin with (`);let a=N(e,++t);o.ok(!isNaN(a.num),`Tuplet ${e} does not have number after (`),n.p=a.num,t+=a.len;let s=!1;if(3==n.p?(n.q=2,n.r=3):2==n.p?(n.q=3,n.r=2):s=!0,":"==e[t]){if(t++,!isNaN(e[t])){let r=N(e,t);n.q=r.num,t+=r.len}if(":"==e[t]&&(t++,!isNaN(e[t]))){let r=N(e,t);n.r=r.num,t+=r.len}}return n.len=t-i,!s||n.q&&n.r||(r.error(`No default tuplet q/r values for ${n.p}`),n.q||r.error("No q specified"),n.r||r.error("No r specified"),r.error(JSON.stringify(n))),n}function D(e,t,n){let r;return"Z"==e.letter||"X"==e.letter?(o.ok(n,"Cannot evaluate X or Z without Metre."),r=e.postfix.lenMod.numerator*n.numerator*4/n.denominator):r=t.numerator/t.denominator*4*(e.postfix.lenMod.numerator/e.postfix.lenMod.denominator),r}function M(e,t,n){JSON.stringify(e);let r=e;if(t){let e=0;for(let o of t)if("M"==o.type){if(r=o.obj,e==n)break}else if(("BAR"==o.type||"END"==o.type)&&(e++,e>n))break}return o(r,"Could not find M"),o("none"!=r.value&&r.denominator>0,"Cannot work out quarter notes per bar if there is no metre."),r.numerator/r.denominator*4}function T(e,t,n,r){let o=0,i=n,a=r,s=0;for(let n of e)if(c.NCR.indexOf(n.type)>-1)s==t&&(o+=D(n,i,a));else if("L"==n.type)i=n.obj;else if("M"==n.type)a=n.obj;else if("BAR"==n.type&&(s++,s>t))break;return o}function I(e,t,n,r){let o;if(0==r.numerator||0==r.denominator)o=1;else{o=T(e,t,n,r)/M(r,e,r)}return o}function L(e,t,n){const r={"1/1":1/16,"1/2":1/8,"2/2":1/16,"3/2":1/24,"2/4":1/8,"3/4":1/12,"4/4":1/16,"5/4":.05,"3/8":1/6,"5/8":.1,"6/8":1/12,"9/8":1/18},i={"1/1":1,"1/2":1,"2/2":2,"3/2":3,"2/4":2,"3/4":3,"4/4":4,"5/4":5,"3/8":3,"5/8":5,"6/8":2,"9/8":3},a="L.=c",s=".=C",l={"1/1":`${a}4`,"1/2":`${a}2`,"2/2":`${a}2`,"3/2":`${a}2`,"2/4":`${a}`,"3/4":`${a}`,"4/4":`${a}`,"5/4":`${a}`,"3/8":`${a}/`,"5/8":`${a}/`,"6/8":`${a}3/`,"9/8":`${a}3/`},c={"1/1":`${s}4`,"1/2":`${s}2`,"2/2":`${s}2`,"3/2":`${s}2`,"2/4":`${s}`,"3/4":`${s}`,"4/4":`${s}`,"5/4":`${s}`,"3/8":`${s}/`,"5/8":`${s}/`,"6/8":`${s}3/`,"9/8":`${s}3/`},d={"1/1":`${a}4|`,"1/2":`${a}2|`,"2/2":`${a}2${s}2|`,"3/2":`${a}2${s}2${s}2|`,"2/4":`${a}${s}|`,"3/4":`${a}${s}${s}|`,"4/4":`${a}${s}${s}${s}|`,"3/8":`${a}/${s}/${s}/|`,"5/8":`${a}/${s}/${s}/${s}/${s}/|`,"6/8":`${a}3/${s}3/|`,"9/8":`${a}3/${s}3/${s}3/|`},u={"1/1":["=D4"],"1/2":["=D2"],"2/2":["=D2","=E2"],"3/2":["=D2","=E2","=F2"],"2/4":["=D","=E"],"3/4":["=D","=E","=F"],"4/4":["=D","=E","=F","=G"],"5/4":["=D","=E","=F","=G","=A"],"3/8":["=D/","=E/","=F/"],"5/8":["=D/","=E/","=F/","=G/","=A/"],"6/8":["=D3/","=E3/"],"9/8":["=D3/","=E3/","=F3/"]},p={"1/1":u["1/1"].join("")+"|","1/2":u["1/2"].join("")+"|","2/2":u["2/2"].join("")+"|","3/2":u["3/2"].join("")+"|","2/4":u["2/4"].join("")+"|","3/4":u["3/4"].join("")+"|","4/4":u["4/4"].join("")+"|","5/4":u["5/4"].join("")+"|","3/8":u["3/8"].join("")+"|","5/8":u["5/8"].join("")+"|","6/8":u["6/8"].join("")+"|","9/8":u["9/8"].join("")+"|"};let f=b(t);if(0==f.numerator)return["","","","",""];o.ok(c[f.value],`Could not look up Metro Note for M=${t}`),o.ok(l[f.value],`Could not look up Metro Note for M=${t}`),o.ok(d[f.value],`Could not look up Metro Full Bar for M=${t}`),o.ok(u[f.value],`Could not look up Count Notes for M=${t}`),o.ok(p[f.value],`Could not look up Count Full Bar for M=${t}`);let m=r[f.value];o.ok(m,`Could not look up delta for M=${f.value}`);let y=U(e);o(y>0,`Bar count is zero. || at end? ${e}`);let g,_=G({raw:e},null),x=v(n),w=I(_,0,x,f);o(!(w>1),`fracBarComplete ${w} > 1.`),g=y>1?I(_,y-1,x,f):0;let E="",A=0,C="",S=1-w;if(h(S,1))E="Z";else{for(;S>0&&!h(S,0);)S-=m,3==A?(C+="z",E="",A=0):(A++,E+="z//");E=C+E}let k="",N=0,O="";if(S=1-g,1==y);else if(h(S,1))k="Z";else{for(;S>0&&!h(S,0);)S-=m,3==N?(O+="z",k="",N=0):(N++,k+="z//");k+=O}let D="",M="",T=0,L="",R="";m=r[f.value];let F=0,B=1/r[f.value]/i[f.value];for(S=w;S>0&&!h(S,0);)D="z//"+D,T+=1,h(T,B)&&(F++,F==i[f.value]?(L=l[f.value]+L,R=u[f.value][0]+R):(L=c[f.value]+L,R=u[f.value][i[f.value]-F]+R),T=0,D="",M=""),T>0&&T%4==0&&(M+="z",D=""),S-=m;let $=`${M}${D}${L}|`,P=`${M}${D}${R}|`,j="",z="";if(1==y);else{let e=1;for(m=1/i[f.value],S=g;S>0&&!h(S,0);)1==e?(j+=l[f.value],z+=u[f.value][0]):(j+=c[f.value],z+=u[f.value][e-1]),e+=1,S-=m}let K="",V="";for(beatNum=1,m=1/i[f.value],S=1-w;S>0&&!h(S,0);)1==beatNum?(K+=l[f.value],V+=u[f.value][0]):(K+=c[f.value],V+=u[f.value][beatNum-1]),beatNum+=1,S-=m;f.value,f.value;let H=[E,k,$,j,K,P,z,V,d[f.value],p[f.value]];return H}function R(e,t,n){let r=e[0],o=e[1],i=`[L:${n}][Q:${t}]`,a="[L:1/4]";return a+="Z"==r&&"Z"==o?`Z|Z|${i}`:""==r?""==o?`Z|Z|${i}`:`${o}|Z|${i}`:""==o?`Z|${r}${i}`:o+"|Z|"+r+i,a}function F(e,t,n,r){o(a.indexOf(e)>-1,`Invalid note ${e}`);let i=e,s=4,l=0;i==i.toLowerCase()&&(i=i.toUpperCase(),s++);for(let e=0;e<t.length;e++){let n=t[e];o("',".indexOf(n)>-1),s+={"'":1,",":-1}[n]}if(n){for(let e=0;e<n.length;e++){let t=n[e];o("^=_".indexOf(t)>-1),"="==t?l=0:l+={"^":1,_:-1}[t]}Math.abs(l)>2&&(l=2*Math.sign(l))}else l=f[r]&&f[r][i]||0;return{name:i+s,semitones:l}}function B(e,t=1,n=0){o(2==e.length,`Bad absNote ${e}`);const r="CDEFGAB";n+=Math.floor(Math.abs(t)/7)*Math.sign(t),t%=7;let i=r.indexOf(e[0])+t;i<0?(n--,i+=7):i>6&&(n++,i-=7);let a=Number(e[1]);return r[i]+(a+n)}function $(e){let t=e[0];o("CDEFGAB".indexOf(t)>-1,`Invalid absNote ${e}`),o("0123456789".indexOf(e[1])>-1,`Invalid octave ${e}`);let n=Number(e[1]),r=t;n>4&&(r=t.toLowerCase());let i="";return n<4?i=",".repeat(4-n):n>5&&(i="'".repeat(n-5)),{abcLetter:r,octaveModifier:i}}function P(e,t,n){let r={raw:""},o="",i=t-1;for(;i>n&&"^_=".indexOf(e[i])>-1;)r.raw=e[i]+r.raw,o=e[i]+o,i--;o=o.slice(-2);o&&["__","_","=","^","^^"].indexOf(o)<0&&(o=o.charAt(o.length-1));let a=[],l=!1;const c=s;for(;i>n;){if(l){let t=i;for(;t>-1&&"!"!=e[t];)t--;if("!"!=e[t])break;{let n=e.slice(t,i+2);r.raw=n+r.raw,a.unshift(n),l=!1,i=t}}else if("!"==e[i])l=!0;else{if(c.indexOf(e[i])<0)break;r.raw=e[i]+r.raw,a.unshift(e[i])}i--}return r.sAcc=o,r.decArray=a,r}function j(e,t,n){let r={raw:""};if(r.raw=e.slice(t,n),"["==e[t]){let r=-1;for(let o=t;o<n;o++)if("]"==e[o]){r=o;break}if(r<0)throw Error(`Could not find ] in ${e}`);t=r}let o=t,i="";for(let a=t+1;a<n;a++){let t=e[a];if("ABCDEFGabcdefgZzXx[!".indexOf(t)>-1)break;"-"==t?(r.tied=!0,o=a):"<"!=t&&">"!=t||(i+=t,o=a)}["<","<<","<<<",">",">>",">>>"].indexOf(i)>-1&&(r.brokenRhythm=i);let a=t+1,s="";for(;a<n&&"-><',".indexOf(e[a])>-1;){let t=e[a];if("ABCDEFGabcdefgZzXx[!".indexOf(t)>-1)break;"',".indexOf(e[a])>-1&&(s+=e[a],a>o&&(o=a)),a++}r.sOctMod=s;let l="";for(;a<n&&("-></".indexOf(e[a])>-1||!isNaN(parseInt(e[a],10)));)"-><".indexOf(e[a])>-1||(l+=e[a],a>o&&(o=a)),a++;return r.lenMod=S(l),r.raw=e.slice(t+1,o+1),r}function G(e,t){let n=m(e.raw),o=[{type:"START",idx:-1,endIdx:-1},{type:"END",idx:n.length,endIdx:n.length}],i=o.slice(),s=1;for(let e=0;e<i.length-1;e++){let t=i[e],a=i[e+1];for(let e=t.endIdx+1;e<a.idx;e++){if("{"==n[e]){let t=n.indexOf("}",e+1);if(t<0)r.error("Unterminated {");else{let r={type:"GRACE",idx:e,endIdx:t,str:n.slice(e,t+1)};o.splice(s,0,r),s++,e=t}}}s++}i=o.slice(),s=1;for(let e=0;e<i.length-1;e++){let t=i[e],r=i[e+1];for(let e=t.endIdx+1;e<r.idx;e++){if("["==n[e]&&e<r.idx-1){let t=n[e+1];if("MLQKI".indexOf(t)>-1){let r=n.indexOf("]",e),i=n.slice(e,r+1);if(r>-1){let a,l=t;"M"==t?a=b(i):"L"==t?a=v(i):"Q"==t?a=g(i):"K"==t?a=_(i):(a=C(i),l=a.type),o.splice(s,0,{type:l,raw:n.slice(e,r+1),idx:e,endIdx:r,obj:a}),s++,e=r}}}}s++}i=o.slice(),s=1;for(let e=0;e<i.length-1;e++){let t=i[e],r=i[e+1];for(let e=t.endIdx+1;e<r.idx;e++){let t=n[e],r=e<n.length-1?n[e+1]:"";if("("==t&&k(r)){let t=O(n,e),r=e+t.len-1,i={type:"TUPLET",raw:n.slice(e,r+1),idx:e,endIdx:r,obj:t};o.splice(s,0,i),s++,e=r}}s++}i=o.slice(),s=1;let l=c.DYNAMICS;for(let e=0;e<i.length-1;e++){let t=i[e],a=i[e+1];for(let e=t.endIdx+1;e<a.idx;e++){if("!"==n[e]){let t=n.indexOf("!",e+1);if(t<0)r.error("Unterminated !");else{let r=n.slice(e,t+1),i=d[r];if(l.indexOf(i)>-1){let n={type:i,idx:e,endIdx:t};o.splice(s,0,n),s++}e=t}}}s++}i=o.slice(),s=1;for(let e=0;e<i.length-1;e++){let t=i[e],r=i[e+1],a=0;for(let e=t.endIdx+1;e<r.idx;e++){let t=n[e];if("("==t||")"==t){a="("==t?a++:a--;let n={type:"("==t?"SLUR":"END_SLUR",nestLevel:a,idx:e,endIdx:e};o.splice(s,0,n),s++}}s++}const u=["|","|]","||","[|","|:",":|","::","[|]"];i=o.slice(),s=1;for(let e=0;e<i.length-1;e++){let t=i[e],r=i[e+1];for(let e=t.endIdx+1;e<r.idx;e++){let t=n[e],i="";if("|"==t){i=t;let o="";e<r.idx-1&&(o=n[e+1]),"]"!=o&&"|"!=o&&":"!=o||(i+=o)}else if("["==t){let o="";e<r.idx-1&&(o=n[e+1],"|"==o&&(i=t+o,o=n[e+2],"]"==o&&(i+=o)))}else if(":"==t){let o="";e<r.idx-1&&(o=n[e+1]),"|"!=o&&":"!=o||(i=t+o)}if(u.indexOf(i)>-1){let t={type:"BAR",idx:e,endIdx:e+i.length-1,sBar:i};o.splice(s,0,t),s++,e+=i.length-1}}s++}i=o.slice(),s=1;for(let e=0;e<i.length-1;e++){let t=i[e],r=i[e+1];for(let e=t.endIdx+1;e<r.idx;e++){if("["==n[e]){let i=n.indexOf("]",e);if(i>-1){let l=n.slice(e,i+1),c=P(n,e,t.endIdx),d=j(n,e,r.idx),u={type:"CHORD",raw:c.raw+l+d.raw,idx:e-c.raw.length,endIdx:e+l.length-1+d.raw.length,sChord:l,prefix:c,postfix:d};o.splice(s,0,u),u.notes=[];let p=0,f=!0;for(let e=0;e<l.length;e++)if(a.indexOf(l[e])>-1){let t=P(l,e,p),n=j(l,e,l.length-1);u.notes.push({type:"CHORD_NOTE",raw:t.raw+l[e]+n.raw,letter:l[e],prefix:t,postfix:n}),f&&(u.postfix.lenMod=S(n.lenMod.sLenMod+u.postfix.lenMod.sLenMod),f=!1),p=e,e+=n.raw.length}s++,e+=l.length+-1+d.raw.length}}}s++}const p=["z","Z","x","X"];i=o.slice(),s=1;for(let e=0;e<i.length-1;e++){let t=i[e],r=i[e+1],a=!1;for(let e=t.endIdx+1;e<r.idx;e++){let t=n[e];if(a="!"==t?!a:a,!a&&p.indexOf(t)>-1){let i=j(n,e,r.idx);o.splice(s,0,{type:"REST",raw:t+i.raw,idx:e,endIdx:e+i.raw.length,letter:t,postfix:i}),s++,e+=i.raw.length}}s++}i=o.slice(),s=1;for(let e=0;e<i.length-1;e++){let t=i[e],r=i[e+1],l=!1;for(let e=t.endIdx+1;e<r.idx;e++){let i=n[e];if(l="!"==i?!l:l,!l&&a.indexOf(i)>-1){let a=P(n,e,t.endIdx),l=j(n,e,r.idx);o.splice(s,0,{type:"NOTE",raw:a.raw+i+l.raw,idx:e-a.raw.length,endIdx:e+l.raw.length,letter:i,prefix:a,postfix:l}),s++,e+=l.raw.length}}s++}const f={">":[[3,2],[1,2]],">>":[[7,4],[1,4]],">>>":[[15,8],[1,8]],"<":[[1,2],[3,2]],"<<":[[1,4],[7,4]],"<<<":[[1,8],[15,8]]};for(let e=0;e<o.length;e++){let t=o[e];if(("NOTE"==t.type||"CHORD"==t.type)&&t.postfix.brokenRhythm){let n=t,r=f[n.postfix.brokenRhythm];n.postfix.lenMod.numerator*=r[0][0],n.postfix.lenMod.denominator*=r[0][1];let i=null;for(let t=e+1;t<o.length;t++)if("NOTE"==o[t].type||"CHORD"==o[t].type){i=o[t];break}i&&(i.postfix.lenMod.numerator*=r[1][0],i.postfix.lenMod.denominator*=r[1][1])}}e:for(let e=0;e<o.length;e++){let t=o[e];if("TUPLET"==t.type){let n=0;for(let r=e+1;r<o.length;r++){let e=o[r];if(!(c.NCR.indexOf(e.type)<0)&&(n++,e.postfix.lenMod.numerator*=t.obj.q,e.postfix.lenMod.denominator*=t.obj.p,n==t.obj.r))continue e}r.warn("Too few notes/chords/rests follow tuplet.")}}let h=0,y=null,x=null;for(let e=0;e<o.length;e++){let t=o[e];if("SLUR"==t.type)h++;else if("END_SLUR"==t.type){if(h--,y){y.inSlur=!1;for(let e=x+1;e<o.length;e++){let n=o[e];if("REST"==n.type)break;if("NOTE"==n.type||"CHORD"==t.type){y.lastInSlur=!0;break}}}}else h>0&&("NOTE"==t.type||"CHORD"==t.type)&&(t.inSlur=!0,y=t,x=e)}return o}function U(e,t=!1){let n=G({raw:e});return t?n.filter((e=>"BAR"==e.type&&"[|]"!=e.sBar)).length:n.filter((e=>"BAR"==e.type)).length}function z(e,t){o("ABCDEFG".indexOf(e)>-1,`Bad note letter ${e}`),o(f[t],`Bad key ${t}`);let n=f[t][e]||0;return n++,e+{0:"b",1:"",2:"#"}[n]}function K(e){o("string"==typeof e||e instanceof String,"notes parameter should be a string");let t=G({id:"null",raw:e}),n=null;for(let e=0;e<t.length;e++){let r=t[e];if("NOTE"==r.type){n=r;break}}return n}function V(e,t,n=2){let r=0,i=0,a=0,s=G({id:"null",raw:e});for(let e=0;e<s.length;e++){let o=s[e],l=0;if("BAR"==o.type){if(r++,r>n-1)break}else if("NOTE"==o.type)l=W.getMidiKey(o.letter,o.postfix.sOctMod,o.prefix.sAcc,t),i+=l,a++;else if("CHORD"==o.type)for(let e=0;e<o.notes.length;e++){let n=o.notes[e];l=W.getMidiKey(n.letter,n.postfix.sOctMod,n.prefix.sAcc,t),i+=l,a++}}o(a>0,"Cannot work out average MidiKey value key if no notes.");let l=i/a;return l}f.C={},f.G=Object.assign({F:1},f.C),f.D=Object.assign({C:1},f.G),f.A=Object.assign({G:1},f.D),f.E=Object.assign({D:1},f.A),f.B=Object.assign({A:1},f.E),f["F#"]=Object.assign({E:1},f.B),f["C#"]=Object.assign({B:1},f["F#"]),f.F=Object.assign({B:-1},f.C),f.Bb=Object.assign({E:-1},f.F),f.Eb=Object.assign({A:-1},f.Bb),f.Ab=Object.assign({D:-1},f.Eb),f.Db=Object.assign({G:-1},f.Ab),f.Gb=Object.assign({C:-1},f.Db),f.Cb=Object.assign({F:-1},f.Gb),f.Am={},f.Dm=Object.assign({B:-1},f.Am),f.Gm=Object.assign({E:-1},f.Dm),f.Cm=Object.assign({A:-1},f.Gm),f.Fm=Object.assign({D:-1},f.Cm),f.Bbm=Object.assign({G:-1},f.Fm),f.Ebm=Object.assign({C:-1},f.Bbm),f.Abm=Object.assign({F:-1},f.Ebm),f.Em=Object.assign({F:1},f.Am),f.Bm=Object.assign({C:1},f.Em),f["F#m"]=Object.assign({G:1},f.Bm),f["C#m"]=Object.assign({D:1},f["F#m"]),f["G#m"]=Object.assign({A:1},f["C#m"]),f["D#m"]=Object.assign({E:1},f["G#m"]);const H={treble:{A:["A,","C","E","A"],B:["B,","D","F","B"],C:["C","E","G","c"],D:["D","F","A","d"],E:["E","G","B","e"],F:["F","A","c","f"],G:["G","B","d","g"]},bass:{A:["A,,","C,","E,","A,"],B:["B,,","D,","F,","B,"],C:["C,","E,","G,","C"],D:["D,","F,","A,","D"],E:["E,","G,","B,","E"],F:["F,","A,","C","F"],G:["G,","B,","D","G"]}},Q={"A,,":[],"B,,":[],"C,":["C,,"],"D,":["D,,"],"E,":["E,,"],"F,":["F,,"],"G,":["G,,"],"A,":["A,,"],"B,":["B,,"],C:["C,"],D:["D,"],E:["E,"],F:["F,"],G:["G,"]};function q(e,t,n=""){let r=e[0];o("ABCDEFG".indexOf(r)>-1,`Bad key ${e}`),o(["treble","bass"].indexOf(t)>-1,`Bad clef ${t}`);let i=H[t][r];if(n){let o=i[0],a=o.substr(1),s=W.getMidiKey(o[0],a,"",e),l=i[i.length-1];a=l.substr(1);let c=W.getMidiKey(l[0],a,"",e),d=V(n,e,2);"treble"==t&&d<s?(t="bass",i=H.bass[r]):"bass"==t&&d>c&&(t="treble",i=H.treble[r])}return JSON.stringify(i),[i.slice(),t]}let W={__test__:{getTuplet:O,getNumFromStr:N,getAvgMidiKey:V},Defaults:{M:{numerator:0,denominator:0,value:"none"},Q:{numerator:1,denominator:4,bpm:120}},Tokens:d,TokenTypes:l,TokenTypeGroups:c,NOTE_LETTERS:a,DECORATION_SHORTHANDS:s,CONTROL:["!ped!","!ped-up!"],MIDI_BEATS:p,MIDI_BEATSTRING_DFLT:{none:"m","1/1":"f","2/2":"fm","2/4":"fm","3/4":"fpp","4/4":"fpmp","5/4":"f","3/8":"fpp","5/8":"f","6/8":"fppmpp","9/8":"fppmppmpp","12/8":"fppmppmppmpp"},getAbsNote:F,incAbsNote:B,getAbcNote:$,incAbcNote:function(e,t=1){o(e,"abc-utils.incAbcNote() called with empty input.");let n="",r=0;for(;r<e.length&&"^_=".indexOf(e[r])>-1;)n+=e[r],r++;let i=e[r],s=a.indexOf(i);o(s>-1,`Bad note ${i}`),r++;let l="";for(;r<e.length&&",'".indexOf(e[r])>-1;)l+=e[r],r++;let c=$(B(F(i,l,"","C").name,t));return n+c.abcLetter+c.octaveModifier},getMidiKey:function(e,t,n,r){let o=F(e,t,n,r);return i.getMidiKey(o.name,o.semitones)},getDegreesBetweenAbcNotes:function(e,t){function n(t){let n=t[0],r={C:0,D:1,E:2,F:3,G:4,A:5,B:6}[n.toUpperCase()];n==n.toUpperCase()||(r+=7);let o=1;for(;o<t.length;)"'"==t[o]?r+=7:","==e[o]&&(r-=7),o++;return r}return n(t)-n(e)},getArticulatedDuration:function(e){let t=!1,n=!1,r=!1;e.prefix.decArray.indexOf(".")>-1&&(t=!0),e.prefix.decArray.indexOf("!wedge!")>-1&&(r=!0),e.prefix.decArray.indexOf("!tenuto!")>-1&&(n=!0);let o=e.durationInTicks;return t||r?n||e.inSlur?Math.floor(.75*o):Math.floor(.5*o):e.lastInSlur?Math.floor(.7*o):n||e.inSlur?o-1:Math.floor(.95*o)},getPlayedAcc:function(e,t,n,r){let o=e.prefix.sAcc;if(e.prefix.sAcc)o=e.prefix.sAcc;else if(t.accidentals[e.noteName])o=t.accidentals[e.noteName];else if(n)n.postfix.tied&&n.playedAcc&&e.noteName==n.noteName&&(o=n.playedAcc);else if(r)for(let t of r.notes)(r.postfix.tied||t.postfix.tied)&&t.playedAcc&&e.noteName==t.noteName&&(o=t.playedAcc);return o},getVelocity:function(e,t,n,r){const o=1/1024;for(let e of r)if(u.indexOf(e)>-1){return Math.min(Math.floor(1.2*n[0]),127)}for(let r of t.f)if(Math.abs(e-r)<o)return n[0];for(let r of t.m)if(Math.abs(e-r)<o)return n[1];return n[2]},getStressedBeats:function(e){let t={f:[],m:[]};for(let n=0;n<e.length;n++)"f"==e[n]?t.f.push(n):"m"==e[n]&&t.m.push(n);return t},parseLenMod:S,removeAnnotations:m,parseFraction:y,parseQ:g,removeTextFromQ:function(e){let t=e.lastIndexOf('"');return t<0?e:e.slice(t+1).trim()},extractTextFromQ:function(e){let t=e.lastIndexOf('"');return t<0?"":e.slice(0,t+1).trim()},parseM:b,parseL:v,parseK:_,getKeyName:function(e){let t;return t="m"==e.slice(-1)?e.slice(0,-1)+" minor":e+" major",t},parseMIDIbeat:x,parseMIDIbeatstring:w,parseMidiChannel:E,parseMidiProgram:A,parseI:C,parseVoice:G,getNoteLengthInQuarterNotes:D,getQuarterNotesPerBar:M,getQuarterNotesInBar:T,getFracCompleteBar:I,getFirstLastComplements:L,repeatNotes:function(e,t,n,r,i=1){o(t,"Missing parameter Q"),o(n,"Missing parameter M"),o(r,"Missing parameter L");let a=R(L(e,n,r),t,r),s=e;for(let t=0;t<i;t++)s+=a+e;return s},appendNotes:function(e,t,n,r,i){o(r,"Missing parameter M"),o(i,"Missing parameter L");let a=e+R(L(e,r,i),n,i)+t;return a},getRhythm:function(e){let t=G({raw:e},null),n="";for(let e of t)if(["NOTE","CHORD"].indexOf(e.type)>-1){let t=`.=C${e.postfix.lenMod.sLenMod}`;t=`${t}${e.postfix.tied?"-":""}`,t=`${t}${e.postfix.brokenRhythm||""}`,n+=t}else["TUPLET"].indexOf(e.type)>-1||["REST","Q","M","L"].indexOf(e.type)>-1?n+=e.raw:["BAR"].indexOf(e.type)>-1&&(n+=e.sBar);return n="!ff![I:MIDI program 0 115]"+n,n},getQuarterNotesBetween:function(e,t,n,r,o){let i=0;for(let a=r;a<o+1;a++){let r=n[a];c.NCR.indexOf(r.type)>-1&&(i+=D(r,e,t))}return i},getEndDynChangeTokenIdx:function(e,t){for(let n=t;n<e.length;n++){let t=e[n];if(c.END_CRESC_DECRESCS.indexOf(t.type)>-1)return n}return e.length-1},getCrescMIDIbeat:function(e,t){o.ok(Array.isArray(e.startMIDIbeat)),o.ok(Array.isArray(e.endMIDIbeat)),o.ok(!Boolean(e.startCumQN>t)),o.ok(!Boolean(t-1/1024>e.endCumQN));let n=[...e.startMIDIbeat],r=(t-e.startCumQN)/(e.endCumQN-e.startCumQN);for(let t=0;t<3;t++)n[t]=n[t]+Math.trunc((e.endMIDIbeat[t]-e.startMIDIbeat[t])*r);for(let e=0;e<3;e++)o.ok(!(n[e]>127||n[e]<0),`getCrescMIDIbeat value out of range (0-127) ${JSON.stringify(n)}`);return n},getEndMIDIbeat:function(e,t,n,r){o.ok(Array.isArray(n)),o.ok(n.length>=3);let i=null,a=!1;for(let o=t;o<e.length;o++){let t=e[o];if(c.END_CRESC_DECRESCS.indexOf(t.type)>-1)a=!0;else{if("MIDIBEAT"==t.type){i=[...t.obj.value];break}if(c.DYNAMIC_LEVELS.indexOf(t.type)>-1){i=[...p[t.type]];break}if(a&&c.NCR.indexOf(t.type)>-1){let e=[...n];for(let t=0;t<3;t++)e[t]=Math.max(Math.min(e[t]+r,127),0);throw"CRESC/DECRESC DOES NOT HAVE DYNAMIC MARKER IMMEDIATELY AFTER (OR DURING)"}}}if(!i)throw"Probably you did not end a cresc/decresc";return i},countBars:U,countNCR:function(e){return G({raw:e}).filter((e=>c.NCR.indexOf(e.type)>-1)).length},getFirstNote:function(e,t){o("string"==typeof e||e instanceof String,"notes parameter should be a string");let n=K(e);o(n,"No first note"),o(""==n.prefix.sAcc,`First note should not have an accidental ${n.raw}`);let r=z(n.letter.toUpperCase(),t);o(r,`Could not look up note name for ${n.letter} for key ${t}`);let i=n.postfix.sOctMod;return rv=[r,n.letter+i],rv},getFirstNoteToken:K,getNoteName:z,octaveDown:function(e){o("string"==typeof e||e instanceof String,"notes parameter should be a string");let t="";for(let n=0;n<e.length;n++){let r=e[n];"CDEFGAB".indexOf(r.toUpperCase())>-1?r==r.toUpperCase()?t+=r+",":t+=r.toUpperCase():t+=r}return t},getKeyChordNoteArray:q,getSkcNotes:function(e,t,n=""){let r=t[0];o.ok("ABCDEFG".indexOf(r)>-1,`Bad key ${r}`);let i=q(t,e,n);JSON.stringify(i);let a=i[0];return JSON.stringify(a),a},getBassNotes:function(e){o(e,"Must supply lowestSkcNote");let t=Q[e];o(t,`Could not look up BASS_NOTES from "${e}"`);let n=[];for(let e=0;e<t.length;e++)n.push(t[e]);return n},getKeyChord:function(e,t,n,r=""){let i=e[0];o("ABCDEFG".indexOf(i)>-1,`Bad key ${e}`),o(["treble","bass"].indexOf(t)>-1,`Bad clef ${t}`);let a=q(e,t,r)[0],s="[";return n&&(s+=Q[a[0]].join("")),s+=a.join(""),s+="]",s},getKeyNote:function(e,t,n=""){let r=e[0];o.ok("ABCDEFG".indexOf(r)>-1,`Bad key ${e}`),o(["treble","bass"].indexOf(t)>-1,`Bad clef ${t}`);let i,a=H[t][r];if(n){let r=V(n,e),s=a[0],l=s.substr(1),c=W.getMidiKey(s[0],l,"",e),d=a[a.length-1];l=d.substr(1);let u=W.getMidiKey(d[0],l,"",e);i=Math.pow(c-r,2)>Math.pow(u-r,2)?d:s,o(i,`Could not find keyNote. key:${e} clef:${t} notes:${n}`)}else i=a[0];return i},preProcess:function(e,t,n=-1){o("string"==typeof e||e instanceof String,"abc parameter should be a string."),o("S"==t||"P"==t,`Bad parameter target ${t}`),o(Number.isInteger(n),`Param abcEditMode ${n} not an integer.`);let i=e;return i="P"==t?function(e){o("string"==typeof e||e instanceof String,"Param abc should be a string.");let t=e,n=/\[I\:ss\].*?\[I\:se\]/g;t=t.replace(n,""),n=/\[I\:ps\]/g,t=t.replace(n,""),n=/\[I\:pe\]/g,t=t.replace(n,"");let r=[/\[I:n:.*?\]/,/\[I:pos.*?\]/,/\[I:clef.*?\]/,/\[I:staff.*?\]/,/\[I:shiftunison.*?\]/,/\[I:tuplets.*?\]/,/\[I:ottava.*?\]/,/\[I:graceslurs.*?\]/,/\[I:end\]/];for(let e=0;e<r.length;e++)t=t.replace(new RegExp(r[e],"g"),"");n=/"_ppp"|"_pp"|"_p"|"_mp"|"_mf"|"_f"|"_ff"|"_fff"/g,t=t.replace(n,""),r=['"_D0"','"_D1"','"_D2"','"_D3"','"_D4"','"_D5"','"_D6"','"_D7"'],dest=["[I:MIDI beat 30 20 10 1]","[I:MIDI beat 45 35 20 1]","[I:MIDI beat 60 50 35 1]","[I:MIDI beat 75 65 50 1]","[I:MIDI beat 90 80 65 1]","[I:MIDI beat 105 95 80 1]","[I:MIDI beat 120 110 95 1]","[I:MIDI beat 127 125 110 1]"],o(r.length==dest.length);for(let e=0;e<r.length;e++)t=t.replace(new RegExp(r[e],"g"),dest[e]);r=['"_cs"','"_ce"','"_ds"','"_de"'],dest=["!<(!","!<)!","!>(!","!>)!"],o(r.length==dest.length);for(let e=0;e<r.length;e++)t=t.replace(new RegExp(r[e],"g"),dest[e]);return n=/\[I\:Q\:.*?\]/g,t=t.replace(n,""),n=/^\s*$/gm,t=t.replace(n,""),t}(i):function(e,t){o("string"==typeof e||e instanceof String,"abc parameter should be a string."),o(Number.isInteger(t),`Param abcEditMode ${t} not an integer.`);let n=e;if(t>-1)if(o([0,1,2,3].indexOf(t)>-1,`Param abcEdtMode ${t} should be 0-2.`),0==t);else if(1==t){let e=/\[I\:ps\]/g;n=n.replace(e,'"^'),e=/\[I\:pe\]/g,n=n.replace(e,'"         ')}else if(2==t){let e=/(\[I:ps\])(.*?)(\[I:pe\])/g;n=n.replace(e,(function(e,t,n,r){return"[I:ps "+"=".repeat(n.length)+" I:pe]"}))}else if(3==t){let e=/(\[I:ss\])(.*?)(\[I:se\])/g;n=n.replace(e,(function(e,t,n,r){return"[I:ss "+"=".repeat(n.length)+" I:se]"}))}else r.error(`audiolib.abc-utils.processPreRender() Bad abcEdtMode ${t}. Should be 0,1,2.`);else{let e=/\[I\:ps\].*?\[I\:pe\]/g;n=n.replace(e,""),e=/\[I\:ss\]/g,n=n.replace(e,""),e=/\[I\:se\]/g,n=n.replace(e,"");let t=['"_ppp"','"_pp"','"_p"','"_mp"','"_mf"','"_f"','"_ff"','"_fff"'],r=["!ppp!","!pp!","!p!","!mp!","!mf!","!f!","!ff!","!fff!"];o(t.length==r.length);for(let e=0;e<t.length;e++)n=n.replace(new RegExp(t[e],"g"),r[e]);e=/"_D0"|"_D1"|"_D2"|"_D3"|"_D4"|"_D5"|"_D6"|"_D7"/g,n=n.replace(e,""),e=/"_cs"|"_ce"|"_ds"|"_de"/g,n=n.replace(e,""),e=/\[Q\:[^\]]*\]/g,n=n.replace(e,""),e=/I\:Q/g,n=n.replace(e,"Q"),e=/\[I:MIDI.*?\]/,n=n.replace(e,"")}return n}(i,n),i}};e.exports=W},42:(e,t,n)=>{const r=n(631).getLogger("audiolib"),o=n(943).assert,i=n(962),a=n(101),s=a.Symbols;let l={abc2AbcObj:function(e){let t={header:{},voices:[]},n={},o={id:"DFLT",raw:""};n.DFLT=o,t.voices.push(o);let a=n.DFLT,s=e.split("\n"),l=!0;for(let e=0;e<s.length;e++){let o=s[e].trim();if(!o)break;if(o.startsWith("%")&&!o.startsWith("%%MIDI"))continue;let c=o.indexOf("%",2);if(c>-1&&(o=o.slice(0,c)),l)if(o.startsWith("X:"))t.header.X=o.substr(2).trim();else if(o.startsWith("%%MIDI")){let e=o.split(" ")[1];"beat"==e?t.header.MIDIbeat=i.parseMIDIbeat(o):"beatstring"==e?t.header.MIDIbeatstring=i.parseMIDIbeatstring(o):"channel"==e||"program"==e||"control"==e?a.raw+="[I:"+o.slice(2)+"]":r.info(`Unhandled abc MIDI directive ${o}`)}else if(o.startsWith("T:"))t.header.T=o.substr(2).trim();else if(o.startsWith("Q:"))t.header.Q=i.parseQ(o.split(":")[1]);else if(o.startsWith("M:"))t.header.M=i.parseM(o);else if(o.startsWith("L:"))t.header.L=i.parseL(o);else if(o.startsWith("V:")){let e=o.split(":")[1],r=e.indexOf(" ");r>-1&&(e=e.slice(0,r));let i={id:e,raw:""};n[e]=i,t.voices.push(i),a=i}else o.startsWith("K:")?(t.header.K=i.parseK(o),l=!1,a=n.DFLT):r.warn(`Unhandled line in header: ${o}`);else if(o.startsWith("V:")){let e=o.split(":")[1].split(" ")[0];if(a=n[e],!a){let r={id:e,raw:""};n[e]=r,t.voices.push(r),a=r}}else if(o.startsWith("L:"))a.raw+="["+o+"]";else if(o.startsWith("Q:"))a.raw+="["+o+"]";else if(o.startsWith("K:"))a.raw+="["+o+"]";else if(o.startsWith("M:"))a.raw+="["+o+"]";else if(o.startsWith("I:"))a.raw+="["+o+"]";else if(o.startsWith("%%MIDI")){let e=o.split(" ")[1];["beat","beatstring","channel","program","control"].indexOf(e)>-1?a.raw+=`[I:${o.slice(2)}]`:r.warn(`Unhandled MIDI command: ${o}`)}else for(let e=0;e<o.length;e++)if(e<o.length-4&&"["==o[e]&&"V"==o[e+1]&&":"==o[e+2]){let r=o.slice(e+3,o.indexOf("]",e+3));if(a=n[r],!a){let e={id:r,raw:""};n[r]=e,t.voices.push(e),a=e}e=o.indexOf("]",e+3)}else a.raw+=o[e]}if(l&&r.error("No K:"),t.header.M=t.header.M||i.Defaults.M,t.header.Q=t.header.Q||i.Defaults.Q,!t.header.L)if("none"==t.header.M.value)t.header.L={numerator:1,denominator:8};else{let e=t.header.M.numerator/t.header.M.denominator;t.header.L=e<.75?{numerator:1,denominator:16}:{numerator:1,denominator:8}}t.header.MIDIbeat=t.header.MIDIbeat||i.MIDI_BEATS.MF,t.header.MIDIbeatstring=t.header.MIDIbeatstring||i.MIDI_BEATSTRING_DFLT[t.header.M.value];for(let e=0;e<t.voices.length;e++){let n=t.voices[e];n.tokens=i.parseVoice(n)}return t},abcObj2MidiObj:function(e){let t={},n=[],r=480;for(let t=0;t<e.voices.length;t++){let n=e.voices[t],a=null,s=null,l=e.header.M,c=e.header.L,d=e.header.K,u=[],p={accidentals:{},cumQuarterNotes:0};if("none"!=l.value){let e=i.getQuarterNotesPerBar(l);p.cumQuarterNotes=(e-i.getQuarterNotesInBar(n.tokens,0,c,l))%e}u.push(p);let f=p.cumQuarterNotes,h=e.header.MIDIbeat,m=e.header.MIDIbeatstring,y=i.getStressedBeats(m),g=null;for(let e=0;e<n.tokens.length;e++){let t=n.tokens[e];if("BAR"==t.type)p={accidentals:{},cumQuarterNotes:0},u.push(p);else if("Q"==t.type)t.durationInTicks=0;else if("M"==t.type)l=t.obj,t.durationInTicks=0;else if("L"==t.type)c=t.obj,t.durationInTicks=0;else if("K"==t.type)d=t.obj,t.durationInTicks=0;else if("MIDIBEAT"==t.type)h=t.obj.value,t.durationInTicks=0;else if("MIDIBEATSTRING"==t.type)m=t.obj.value,y=i.getStressedBeats(m),t.durationInTicks=0;else if(i.TokenTypeGroups.DYNAMIC_LEVELS.indexOf(t.type)>-1)h=i.MIDI_BEATS[t.type],t.durationInTicks=0;else if(i.TokenTypeGroups.START_CRESC_DECRESCS.indexOf(t.type)>-1)if(t.durationInTicks=0,g)o.ok(!1,"Already in a cresc/decresc");else{g={startCumQN:f};let r=i.getEndDynChangeTokenIdx(n.tokens,e+1);g.endCumQN=f+i.getQuarterNotesBetween(c,l,n.tokens,e,r),g.startMIDIbeat=[...h];let o=15;"START_DECRESC"==t.type&&(o=-o),g.endMIDIbeat=i.getEndMIDIbeat(n.tokens,e+1,h,o)}else if(i.TokenTypeGroups.END_CRESC_DECRESCS.indexOf(t.type)>-1)t.durationInTicks=0,h=i.getCrescMIDIbeat(g,f),g=null;else if("REST"==t.type){let e=i.getNoteLengthInQuarterNotes(t,c,l);t.durationInTicks=e*r,p.cumQuarterNotes+=e,f+=e,s=null,a=null}else if("NOTE"==t.type){let e=t;if(e.noteName=i.getAbsNote(e.letter,e.postfix.sOctMod,"","C").name,e.prefix.sAcc&&(p.accidentals[e.noteName]=e.prefix.sAcc),e.playedAcc=i.getPlayedAcc(e,p,a,s),e.midiKeyNum=i.getMidiKey(e.letter,e.postfix.sOctMod,e.playedAcc,d.value),a)e.noteName==a.noteName&&e.playedAcc==a.playedAcc&&a.postfix.tied&&(a.holdToNext=!0,e.heldFromPrev=!0);else if(s)for(let t of s.notes)t.noteName==e.noteName&&t.playedAcc==e.playedAcc&&(s.postfix.tied||t.postfix.tied)&&(t.holdToNext=!0,e.heldFromPrev=!0);let n=i.getNoteLengthInQuarterNotes(t,c);e.durationInTicks=n*r;let o=p.cumQuarterNotes*l.denominator/4;if(g&&(h=i.getCrescMIDIbeat(g,f)),e.velocity=i.getVelocity(o,y,h,e.prefix.decArray),e.velocity>127||e.velocity<0)throw`Velocity out of range 0-127 ${e.velocity}`;p.cumQuarterNotes+=n,f+=n,s=null,a=e}else if("CHORD"==t.type){let e=i.getNoteLengthInQuarterNotes(t,c);t.durationInTicks=e*r;let n=p.cumQuarterNotes*l.denominator/4;if(g&&(h=i.getCrescMIDIbeat(g,f)),t.velocity=i.getVelocity(n,y,h,t.prefix.decArray),t.velocity>127||t.velocity<0)throw`Velocity out of range 0-127 ${t.velocity}`;p.cumQuarterNotes+=e,f+=e;for(let e=0;e<t.notes.length;e++){let n=t.notes[e];if(n.noteName=i.getAbsNote(n.letter,n.postfix.sOctMod,"","C").name,n.prefix.sAcc&&(p.accidentals[n.noteName]=n.prefix.sAcc),n.playedAcc=i.getPlayedAcc(n,p,a,s),n.midiKeyNum=i.getMidiKey(n.letter,n.postfix.sOctMod,n.playedAcc,d.value),a)n.noteName==a.noteName&&n.playedAcc==a.playedAcc&&a.postfix.tied&&(a.holdToNext=!0,n.heldFromPrev=!0);else if(s)for(let e of s.notes)e.noteName==n.noteName&&e.playedAcc==n.playedAcc&&(s.postfix.tied||e.postfix.tied)&&(e.holdToNext=!0,n.heldFromPrev=!0);let o=i.getNoteLengthInQuarterNotes(t,c);n.durationInTicks=o*r}s=t,a=null}}}for(let t=0;t<e.voices.length;t++){let r=e.voices[t],o={type:"MTrk",events:[]};o.voice=r,o.events.push({deltaTime:0,type:s.EventTypes.META,subtype:s.MetaTypes.text,type_desc:s.EventCodes[s.EventTypes.META],subtype_desc:s.MetaCodes[s.MetaTypes.text],data:"note track"}),e.header.Q&&0==t&&o.events.push({deltaTime:0,type:s.EventTypes.META,subtype:s.MetaTypes.tempo,type_desc:s.EventCodes[s.EventTypes.META],subtype_desc:s.MetaCodes[s.MetaTypes.tempo],data:Math.floor(60*e.header.Q.denominator*1e6/(4*e.header.Q.numerator*e.header.Q.bpm))}),!e.header.T||0!=t&&1!=t||o.events.push({deltaTime:0,type:s.EventTypes.META,subtype:s.MetaTypes.text,type_desc:s.EventCodes[s.EventTypes.META],subtype_desc:s.MetaCodes[s.MetaTypes.text],data:e.header.T}),n.push(o)}function l(e,t,n){let r=0,o=0;for(let i=0;i<n.length;i++){if(o+=n[i].deltaTime,o>t){let o=t-r;e.deltaTime=o,n[i].deltaTime-=o,n.splice(i,0,e);break}if(i==n.length-1){let r=t-o;e.deltaTime=r,n.push(e);break}r=o}}for(let e=0;e<n.length;e++){let t=n[e],r=0,o=0,c=a.Defaults.CHANNEL-1;for(let e=0;e<t.voice.tokens.length;e++){let a=t.voice.tokens[e];if("Q"==a.type){let e=Math.floor(60*a.obj.denominator*1e6/(4*a.obj.numerator*a.obj.bpm));l({type:s.EventTypes.META,subtype:s.MetaTypes.tempo,type_desc:s.EventCodes[s.EventTypes.META],subtype_desc:s.MetaCodes[s.MetaTypes.tempo],data:e},o,n[0].events)}else if("MIDICHANNEL"==a.type)c=a.obj.value-1;else if("MIDIPROGRAM"==a.type){let e=c;a.obj.value[0]&&(e=a.obj.value[0]-1),t.events.push({deltaTime:r,type:s.MidiTypes.program,type_desc:s.MidiCodes[s.MidiTypes.program],data:[e,a.obj.value[1]]}),r=0}else if("MIDICONTROL"==a.type)t.events.push({deltaTime:r,type:s.MidiTypes.control,type_desc:s.MidiCodes[s.MidiTypes.control],data:[c,a.obj.value[0],a.obj.value[1]]}),r=0;else if(["PED","PED_UP"].indexOf(a.type)>-1){let e=i.TokenTypes[a.type].data;t.events.push({deltaTime:r,type:s.MidiTypes.control,type_desc:s.MidiCodes[s.MidiTypes.control],data:[c,e[0],e[1]]}),r=0}else if("REST"==a.type)r+=a.durationInTicks;else if("NOTE"==a.type){let e;e=a.holdToNext?0:a.heldFromPrev?r+i.getArticulatedDuration(a):i.getArticulatedDuration(a),a.heldFromPrev||(t.events.push({deltaTime:r,type:s.MidiTypes.noteOn,type_desc:s.MidiCodes[s.MidiTypes.noteOn],data:[c,a.midiKeyNum,a.velocity]}),r=0),a.holdToNext||t.events.push({deltaTime:e,type:s.MidiTypes.noteOff,type_desc:s.MidiCodes[s.MidiTypes.noteOff],data:[c,a.midiKeyNum,0]}),a.holdToNext?r+=a.durationInTicks:r=a.heldFromPrev?a.durationInTicks-(e-r):a.durationInTicks-e}else if("CHORD"==a.type){for(let e=0;e<a.notes.length;e++){let n=a.notes[e];n.heldFromPrev||(t.events.push({deltaTime:r,type:s.MidiTypes.noteOn,type_desc:s.MidiCodes[s.MidiTypes.noteOn],data:[c,n.midiKeyNum,a.velocity]}),r=0)}let e;e=r+i.getArticulatedDuration(a),r+=a.durationInTicks;for(let n=0;n<a.notes.length;n++){let o=a.notes[n];o.holdToNext||(t.events.push({deltaTime:e,type:s.MidiTypes.noteOff,type_desc:s.MidiCodes[s.MidiTypes.noteOff],data:[c,o.midiKeyNum,0]}),r-=e,e=0)}}a.hasOwnProperty("durationInTicks")&&(o+=a.durationInTicks)}e>0&&t.events.push({deltaTime:r,type:s.EventTypes.META,subtype:s.MetaTypes.endOfTrack,type_desc:s.EventCodes[s.EventTypes.META],subtype_desc:s.MetaCodes[s.MetaTypes.endOfTrack],data:""})}return n[0].events.push({deltaTime:0,type:s.EventTypes.META,subtype:s.MetaTypes.endOfTrack,type_desc:s.EventCodes[s.EventTypes.META],subtype_desc:s.MetaCodes[s.MetaTypes.endOfTrack],data:""}),t.tracks=n,t.header={type:"MThd",len:6,format:1,tracks:t.tracks.length,ticksPerQuarterNote:480},a.dumpMidiObj(t),t},__test__:{}};e.exports=l},958:(e,t,n)=>{const r=n(631).getLogger("audiolib");let o="WARN";try{o="WARN"}catch(e){}r.setLevel(o),r.info("audiolib index.js");const i=n(369),a=n(101),s=n(42),l=n(962),c=n(943),d=n(233);let u={__test__:{utils:c},log:r,PlayerContext:i.PlayerContext,Player:i.Player,abc:s,abcUtils:l,midiUtils:a,utils:c,instr:d};e.exports=u},101:(e,t,n)=>{const r=n(631).getLogger("audiolib"),o=n(943).assert;let i;i="undefined"!=typeof TARGET&&"web"==TARGET?window.atob:n(84);const a={META:255,F0SYSEX:240,F7SYSEX:247},s={};Object.keys(a).reduce(((e,t)=>(e[a[t]]=t,e)),s);const l={seqNum:0,text:1,copyright:2,trackName:3,instrumentName:4,lyric:5,mark:6,cue:7,chPrefix:32,endOfTrack:47,tempo:81,SMTPE:84,timeSig:88,keySig:89,sequencerSpecific:127},c={};Object.keys(l).reduce(((e,t)=>(e[l[t]]=t,e)),c);const d={noteOff:128,noteOn:144,keyAftertouch:160,control:176,program:192,chAftertouch:208,bend:224},u={};Object.keys(d).reduce(((e,t)=>(e[d[t]]=t,e)),u);const p={volume:7,pan:160,holdPedal:64,allSoundOff:120,resetControllers:121,localControl:122,allNotesOff:123,omniModeOff:124,omniModeOn:125,monoModeOn:126,polyModeOn:127},f={};Object.keys(p).reduce(((e,t)=>(e[p[t]]=t,e)),f);function h(e){return("0"+e.toString(16)).slice(-2)}function m(e,t,n){let r="";for(let o=t;o<=n;o++)r+=h(e[o]);return parseInt(r,16)}function y(e,t,n){let r="";for(let o=t;o<=n;o++)r+=String.fromCharCode(e[o]);return r}function g(e,t){let n=255&e,r=e>>8&255;t.push(r),t.push(n)}function b(e,t){let n=_(e);for(let e=0;e<n.length;e++)t.push(n[e])}function v(e,t){for(let n=0;n<e.length;n++)t.push(e[n].charCodeAt(0))}function _(e){return arr=new Uint8Array([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e]),arr}function x(e){o(e<268435455,"too big");let t=[];return t.push(127&e),e>>7>0&&(t.unshift(e>>7&127|128),e>>14>0&&(t.unshift(e>>14&127|128),e>>21>0&&t.unshift(e>>21&127|128))),t}function w(e,t){let n=0,r=1,o=e[t];for(;128&o;)n<<=7,n|=127&o,o=e[t+r],r++;return n<<=7,n|=o,{val:n,len:r}}function E(e,t){let n=[];if(n=n.concat(x(e.deltaTime)),"MIDI"==e.type)if(e.subtype==S.MidiTypes.control)n.push(e.subtype|t),n.push(e.data[0]),n.push(e.data[1]);else if(e.subtype==S.MidiTypes.program)n.push(e.subtype|t),n.push(e.data);else{if(e.subtype!=S.MidiTypes.noteOff&&e.subtype!=S.MidiTypes.noteOn)throw`Unknown MIDI event ${e.subtype}`;n.push(e.subtype|t),n.push(e.data[0]),n.push(e.data[1])}else if("META"==e.type)if(e.subtype==S.MetaTypes.timeSig)n.push(255),n.push(e.subtype),n.push(4),n=n.concat(e.data);else if(e.subtype==S.MetaTypes.keySig)n.push(255),n.push(e.subtype),n.push(2),n.push(e.data[0]),n.push(e.data[1]);else if(e.subtype==S.MetaTypes.tempo){n.push(255),n.push(e.subtype),n.push(3);let t=numToBytes(e.data,3);o(e.data<16777215,`Tempo ${e.data} too large`),n=n.concat(t)}else{if(e.subtype!=S.MetaTypes.text&&e.subtype!=S.MetaTypes.copyright&&e.subtype!=S.MetaTypes.trackName&&e.subtype!=S.MetaTypes.endOfTrack)throw r.error(`Unknown Meta Event subtype ${e.subtype}`),`Unknown Meta Event subtype ${e.subtype}`;n.push(255),n.push(e.subtype),n=n.concat(x(e.data.length));for(let t=0;t<e.data.length;t++)n.push(e.data[t].charCodeAt(0))}return n}function A(e){let t="",n=e.header;t+="HEADER\n",t+=" ",n.pos&&(t+=` pos: ${n.pos}`),t+=` len:${n.len} format:${n.format} tracks:${n.tracks}\n`,n.ticksPerQuarterNote?t+=`  ticksPerQuarterNote:${n.ticksPerQuarterNote}\n`:(t+=`  smtpeTicksPerFrame: ${n.smtpeTicksPerFrame}`,t+=` smtpeFramesPerSec: ${n.smtpeFramesPerSec}\n`),t+="TRACKS\n";let r=e.tracks;for(let e=0;e<r.length;e++){let n=r[e];t+=` Track ${e}`,n.pos&&(t+=` pos: ${n.pos}`),n.len&&(t+=` len: ${n.len}`),t+="\n";let o=n.events;for(let e=0;e<o.length;e++){let n=o[e];t+=` ${String(n.deltaTime).padStart(5," ")} ${n.type_desc}`,n.subtype_desc&&(t+=` ${n.subtype_desc}`),n.len&&(t+=` ${n.len}`),t+=` data:${JSON.stringify(n.data,0,0)}\n`}}return t}function C(e){let t="",n=Math.floor(e.length/16)+1;for(let r=0;r<n;r++){r>0&&(t+="\r\n");let n=16*r,o=Math.min(16*(1+r)-1,e.length-1),i="",a="";for(j=n;j<=o;j++)i+=h(e[j])+" ",e[j]>20&&e[j]<127?a+=String.fromCharCode(e[j]):a+="?";t+=i+" | "+a}return t}let k={__test__:{byteToHex:h},Symbols:{EventTypes:a,EventCodes:s,MetaTypes:l,MetaCodes:c,MidiTypes:d,MidiCodes:u,ControllerTypes:p,ControllerCodes:f,ControllerValues:{OFF:0,ON:127},Instruments:{ACOUSTIC_GRAND:0},NoteEventDataIdx:{CHANNEL:0,KEY:1,VELOCITY:2}},Defaults:{CHANNEL:1,PROGRAM:0},getMidiKey:function(e,t){let n=24+12*(Number(e[1])-1)+{C:0,D:2,E:4,F:5,G:7,A:9,B:11}[e[0]]+t;return o(n>=21&&n<=108,`Note ${e} shifted by ${t} is out of range 21-108.`),n},getNote:function(e){let t=Math.floor(e/12)-1;return["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"][e%12]+t},writeArray2File:function(e,t){let n=new Uint8Array(t);fs.writeFileSync(e,n)},midi2MidiObj:function(e){let t=function(e){-1!=e.indexOf("base64,")&&(e=e.split(",")[1]);let t=i(e),n=t.length,r=[];for(let e=0;e<n;e++)r.push(t.charCodeAt(e));return r}(e);C(t);let n=0,p=[],h=[];for(;n<t.length-3;)if(77==t[n]&&84==t[n+1]&&104==t[n+2]&&100==t[n+3]){p.length>0&&r.error("More than one header chunk.");let e=m(t,n+4,n+7);6==e||r.error(`MThd length should always be 6. It is ${e}.`);let o=m(t,n+8,n+9);0!==o&&1!==o&&2!==o&&r.error(`MThd format should be 0, 1, or 2. It is ${o}.`);let i={pos:n,len:e,format:o,tracks:m(t,n+10,n+11)},a=256*(g=t)[b=n+12]+g[b+1];32768&a?(i.smtpeTicksPerFrame=255&a,i.smtpeFramesPerSec=32512&a):i.ticksPerQuarterNote=a,p.push(i),n+=8+e}else if(77==t[n]&&84==t[n+1]&&114==t[n+2]&&107==t[n+3]){let e=m(t,n+4,n+7),i=[],p=n+8,g=0;for(;g<e;){let e=w(t,p+g);g+=e.len;let n=t[p+g],h={deltaTime:e.val};if(n==a.META){g++,h.type=a.META,h.type_desc=s[h.type];let e=t[p+g];h.subtype=e,h.subtype_desc=c[h.subtype],g++;let n,r=w(t,p+g);if(h.len=r.val,g+=r.len,h.subtype==l.seqNum){o(2==h.len,`Sequence Number has wrong length ${h.len}.`);let e=p+g;n=m(t,e,e+h.len-1)}else if([l.text,l.copyright,l.trackName,l.instrumentName,l.lyric,l.mark,l.cue].indexOf(h.subtype)>-1)n=y(t,p+g,p+g+r.val-1);else if(e==l.chPrefix){o(1==h.len,`MIDI Channel Prefix has wrong length ${h.len}.`);let e=p+g;n=m(t,e,e+h.len-1)}else if(h.subtype==l.endOfTrack)o(0==h.len,`End of Track has wrong length ${h.len}.`),n=0;else if(h.subtype==l.tempo)n=m(t,p+g,p+g+h.len-1);else if(h.subtype==l.SMTPE){o(5==h.len,`SMTPE Offset has wrong length ${h.len}.`);let e=p+g;n=Array.from(t.slice(e,e+h.len))}else if(h.subtype==l.timeSig||h.subtype==l.keySig){let e=p+g;n=Array.from(t.slice(e,e+h.len))}else if(h.subtype==l.sequencerSpecific){let e=p+g;n=Array.from(t.slice(e,e+h.len))}else o(!1,`Unhandled META ${e.toString(16)}.`);h.data=n,g+=r.val}else if(n==a.F0SYSEX||n==a.F7SYSEX){h.desc=s[n],g++;let e=w(t,p+g);h.len=e.val;let r=y(t,p+g,p+g+e.len);h.data=r,g+=e.len}else if(u[240&n]){h.type=240&n;let e=15&n;if(h.type_desc=u[h.type],h.type==d.noteOff||h.type==d.noteOn)h.len=3,h.data=[e,t[p+g+1],t[p+g+2]],g+=h.len;else if(h.type==d.keyAftertouch)h.len=3,h.data=[e,t[p+g+1],t[p+g+2]],g+=h.len;else if(h.type==d.program)h.len=2,h.data=[e,t[p+g+1]],g+=h.len;else if(h.type==d.chAftertouch)h.len=2,h.data=[e,t[p+g+1]],g+=h.len;else if(h.type==d.bend)h.len=3,h.data=[e,t[p+g+1],t[p+g+2]],g+=h.len;else if(h.type==d.control){let n=t[p+g+1];h.subtype=n,h.subtype_desc=f[n],h.len=3,h.data=[e,t[p+g+1],t[p+g+2]],g+=h.len}}else r.warn(`UNKNOWN EVENT_TYPE ${n.toString(16)}.`);i.push(h)}let b={pos:n,len:e,events:i};h.push(b),n+=8+e}else n++;var g,b;o(1==p.length,`A MIDI file should have 1 header chunk. Have ${p.length}.`),o(p[0].tracks==h.length,`Header tracks (${p[0].tracks}) does not match number of track chunks (${h.length}).`),o(h.length>0,"No track chunks present!"),o(0!=p[0].format||1==h.length,`Format 0 files should have only one track. Have ${h.length}`);let v={header:p[0],tracks:h};return A(v),v},midiObj2MidiArray:function(e){let t=[];v(e.header.type,t),b(e.header.length,t),g(e.header.format,t),g(e.header.tracks,t),g(e.header.ticksPerQuarterNote,t);let n=0;for(let r of e.tracks){let e=[];for(let t=0;t<r.events.length;t++){let o=E(r.events[t],n);e=e.concat(o)}let o=[];v(r.type,o),b(e.length,o),t=t.concat(o),t=t.concat(e),n++}return C(t),t},dumpMidiObj:A,dumpHex:C};e.exports=k},369:(e,t,n)=>{const r=n(631).getLogger("audiolib"),o=n(943).assert,i=n(101),a=n(42),s=n(233),l=i.Symbols,c=l.NoteEventDataIdx.CHANNEL,d=l.NoteEventDataIdx.KEY,u=l.NoteEventDataIdx.VELOCITY;function p(e,t){let n;if(e.ticksPerQuarterNote){o(t,"Must supply microsecondsPerQuarterNote"),n=t/e.ticksPerQuarterNote/1e6}else o(e.smtpeTicksPerFrame&&e.smtpeFramesPerSec),n=1/(e.smtpeTicksPerFrame*e.smtpeFramesPerSec);return n}"undefined"==typeof window&&(n.g.window={});let f=null,h=null;class m{constructor(e){e?this.audioCtx=e:(this.audioCtx=function(){if(!f){let e=window.AudioContext||window.webkitAudioContext;if(!e)return r.error("audiolib.midi.getDefaultAudioContext. AudioContext not available."),null;f=new e}return f}(),this.audioCtx||r.error("audiolib.midi.PlayerContext. No default AudioContext available."),this.audioCtx=f),this.masterGainNode=this.audioCtx.createGain(),this.masterGainNode.gain.value=1,this.masterGainNode.connect(this.audioCtx.destination),this.instr={}}async loadInstrument(e,t,n){let r=new s.Instrument(this.audioCtx,e);this.instr[e]=r;let o="./sf";o=t?`${o}/${t}`:o,o=n?`${o}/${n}-mp3.json`:`${o}/${e}-mp3.json`,await r.load(o),await r.decode(this.masterGainNode)}setVolume(e){let t=e/100*2;this.masterGainNode.gain.setValueAtTime(t,this.audioCtx.currentTime)}}function y(e,t,n){let r=e.data[c],o=e.data[d],i=null;for(let e=0;e<n.trackedNodes.length;e++){let a=n.trackedNodes[e];if(null==a.untrackAt&&a.channel==r&&a.key==o){a.untrackAt=t,i=a.node;break}}i&&e.instr.stop(t,[i.id])}e.exports={PlayerContext:m,Player:class{constructor(e,t,n){e?this.context=e:(h=h||new m,this.context=h),this.audioCtx=this.context.audioCtx,this.animationCallback=t,this.onEndCallback=n,this.status="STOPPED",this.schedulerState={trackedNodes:[],channelInfo:{}}}setContext(e){this.context=e}setAnimationCallback(e){this.animationCallback=e}loadMidiObj(e,t=!1){this.soundEvents=function(e,t){r.info("audiolib.midi.replay()",e);const n={0:"acoustic_grand_piano",6:"harpsichord",73:"flute",115:"woodblock"};let a=[],s=e.header.tracks;for(let t=0;t<s;t++){let n=e.tracks[t].events,r=0;for(let e=0;e<n.length;e++){let o=n[e];o.midiIndex=e,r+=o.deltaTime,o.cumDeltaTime=r;let i={tick:r,track:t,midiIndex:e,type:o.type,data:o.data};o.subtype&&(i.subtype=o.subtype),a.push(i)}}a.sort((function(e,t){return e.tick<t.tick?-1:e.tick>t.tick?1:e.track<t.track?-1:e.track>t.track?1:e.midiIndex<t.midiIndex?-1:e.midiIndex>t.midiIndex?1:0}));let d=[];for(let e=0;e<16;e++)d.push({program:i.Defaults.PROGRAM});let f=0,h=null,m=p(e.header,5e5);for(;f<a.length;){let i=a[f];if(0==f?(h=i,h.time=0):h=a[f-1],i.time=h.time+(i.tick-h.tick)*m,i.type==l.EventTypes.META)if(i.subtype==l.MetaTypes.tempo){o(e.header.ticksPerQuarterNote,"Have a Set Tempo META event, but division is in SMPTE format??");let t=i.data;m=p(e.header,t)}else r.info(`Unhandled event ${l.EventCodes[i.type]} ${l.MetaCodes[i.subtype]}`,i.data);else if(i.type==l.EventTypes.F0SYSEX||i.type==l.EventTypes.F7SYSEX)r.info(`Unhandled event ${l.EventCodes[i.type]}`);else{let e=d[i.data[c]];i.type==l.MidiTypes.noteOn?(i.data[u]>127?r.warn(`noteOn velocity too high ${i.data[u]}`,i):0==i.data[u]&&r.warn("noteOn with velocity 0",i),i.instr=t[n[e.program]]):i.type==l.MidiTypes.noteOff?i.instr=t[n[e.program]]:i.type==l.MidiTypes.program?e.program=i.data[1]:i.type==l.MidiTypes.control&&i.data[1]==l.ControllerTypes.holdPedal||r.warn(`Unhandled event MIDI ${l.MidiCodes[i.type]}`,i)}f++}return a}(e,this.context.instr),this.duration=0;for(let e=this.soundEvents.length-1;e>-1;e--){let n=this.soundEvents[e];if(t&&0!=n.track&&n.subtype==l.MetaTypes.endOfTrack){this.duration=n.time;break}if(n.subtype==l.MetaTypes.endOfTrack){this.duration=n.time;break}this.duration=n.time;break}o(this.duration,"Duration is zero."),this.seek(0)}loadAbc(e){let t=a.abc2AbcObj(e),n=a.abcObj2MidiObj(t);this.loadMidiObj(n)}loadMidiB64(e){let t=i.midi2MidiObj(e);this.loadMidiObj(t,!0)}get progressPct(){return 100*(this.audioCtx.currentTime+this.timeProgressed-this.timeLastStarted)/this.duration}schedule2(e,t){let n=this.soundEvents;o(n);let a=Math.max(e.timeLastEvent,this.timeProgressed)+t;for(;e.nextEventIdx<n.length&&e.timeLastEvent<a;){let t=n[e.nextEventIdx];if(t.type==l.MidiTypes.noteOn){let n=t.data[c];0==t.data[u]&&r.warn("noteOn with velocity 0");let o=t.time,a=this.timeLastStarted+(o-this.timeProgressed),l=t.data[d],p=t.data[u],f=t.instr.start(i.getNote(l),a,{gain:(s=p,s/127)});e.trackedNodes.push({channel:n,key:l,node:f})}else if(t.type==l.MidiTypes.noteOff){let n=t.data[c];if(e.channelInfo[n]&&e.channelInfo[n].holdPedal){let r=e.channelInfo[n];r.delayedNoteOffEvents=r.delayedNoteOffEvents||[],r.delayedNoteOffEvents.push(t)}else{let n=t.time;y(t,this.timeLastStarted+(n-this.timeProgressed),e)}}else if(t.type==l.MidiTypes.control)if(t.data[1]==l.ControllerTypes.holdPedal){let n=t.data[c];e.channelInfo[n]=e.channelInfo[n]||{};let o=e.channelInfo[n];if(t.data[2]==l.ControllerValues.ON)o.holdPedal=!0;else if(o.holdPedal){let n=t.time;for(let t=0;t<o.delayedNoteOffEvents.length;t++){y(o.delayedNoteOffEvents[t],this.timeLastStarted+(n-this.timeProgressed),e)}o.holdPedal=!1,o.delayedNoteOffEvents=[]}else r.warn("Pedal OFF, but pedal not currently ON",t)}else{let e=t.data[1];r.info(`Unhandled ControllerType ${e} ${l.ControllerCodes[e]}`,t)}else t.type==l.EventTypes.META?r.info(`Unhandled event (type ${t.type.toString(16)}) ${l.EventCodes[t.type]} ${l.MetaCodes[t.subtype]}`,t):r.info(`Unhandled event (type ${t.type.toString(16)}) ${l.MidiCodes[t.type]}`,t);e.timeLastEvent=t.time,e.nextEventIdx++}var s;let p=[];for(let t=0;t<e.trackedNodes.length;t++){let n=this.audioCtx.currentTime,r=e.trackedNodes[t];null==r.untrackAt||r.untrackAt>n?p.push(r):(r.channel,r.key,r.node.id,r.untrackAt)}return e.trackedNodes=p,r.debug("DONE Player.schedule2()"),e.nextEventIdx<n.length}start(){if("STOPPED"!=this.status)return;this.seek(100*this.timeProgressed/this.duration),this.status="STARTED",this.timeLastStarted=this.audioCtx.currentTime;let e=this,t=this.schedulerState;!function n(r){e.schedule2(t,3)&&(t.timeoutID=setTimeout((function(){n(3)}),1e3*r))}(2.5),this.progressIntervalID=setInterval((function(){let t=100*(e.audioCtx.currentTime+e.timeProgressed-e.timeLastStarted)/e.duration;e.animationCallback&&e.animationCallback(t),t<100||(clearInterval(e.progressIntervalID),e.stop("END"))}),100)}stop(e){if("STARTED"!=this.status)return;this.status="STOPPED","END"==e&&this.onEndCallback&&this.onEndCallback(),clearTimeout(this.schedulerState.timeoutID),clearInterval(this.progressIntervalID),this.timeProgressed+=this.audioCtx.currentTime-this.timeLastStarted;let t=this.schedulerState;for(let e=0;e<t.trackedNodes.length;e++){t.trackedNodes[e].node.stop()}this.schedulerState.trackedNodes=[],this.schedulerState.channelInfo={}}seek(e,t=!1){"STARTED"==this.status&&this.stop(),this.timeProgressed=e/100*this.duration;for(let e=this.soundEvents.length-1;e>-1;e--){let t=this.soundEvents[e];if(e<1)this.schedulerState.nextEventIdx=0,this.schedulerState.timeLastEvent=0;else if(t.time<this.timeProgressed){let t=Math.min(e+1,this.soundEvents.length-1);this.schedulerState.nextEventIdx=t,this.schedulerState.timeLastEvent=this.soundEvents[t-1].time;break}}t&&this.start()}}}},943:e=>{function t(e,t){if(!e){throw new Error(t?"Assertion failure: "+t:"Assertion failure")}}function n(e){const t=new Array(e.length);for(let n=0;n<e.length;n++){let r,o=e.charCodeAt(n);r=o<32||o>127?o:(o+15)%94+32,t[n]=String.fromCharCode(r)}return t.join("")}t.ok=t;let r={assert:t,cloneRot:function e(t){let r;if("string"==typeof t||t instanceof String)r=n(t);else if("number"==typeof t||t instanceof Number)r=t;else if(Array.isArray(t)){r=new Array(t.length);for(let n=0;n<t.length;n++)r[n]=e(t[n])}else{r={};for(const[o,i]of Object.entries(t))r[n(o)]=e(i)}return r}};e.exports=r},244:(e,t,n)=>{"use strict";n.r(t),n.d(t,{decode:()=>s,encode:()=>a});for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o="undefined"==typeof Uint8Array?[]:new Uint8Array(256),i=0;i<64;i++)o[r.charCodeAt(i)]=i;var a=function(e){var t,n=new Uint8Array(e),o=n.length,i="";for(t=0;t<o;t+=3)i+=r[n[t]>>2],i+=r[(3&n[t])<<4|n[t+1]>>4],i+=r[(15&n[t+1])<<2|n[t+2]>>6],i+=r[63&n[t+2]];return o%3==2?i=i.substring(0,i.length-1)+"=":o%3==1&&(i=i.substring(0,i.length-2)+"=="),i},s=function(e){var t,n,r,i,a,s=.75*e.length,l=e.length,c=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var d=new ArrayBuffer(s),u=new Uint8Array(d);for(t=0;t<l;t+=4)n=o[e.charCodeAt(t)],r=o[e.charCodeAt(t+1)],i=o[e.charCodeAt(t+2)],a=o[e.charCodeAt(t+3)],u[c++]=n<<2|r>>4,u[c++]=(15&r)<<4|i>>2,u[c++]=(3&i)<<6|63&a;return d}},250:function(e,t,n){var r,o;!function(i,a){"use strict";r=function(){var e=function(){},t="undefined",n=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),r=["trace","debug","info","warn","error"];function o(e,t){var n=e[t];if("function"==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(t){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function i(){console.log&&(console.log.apply||Function.prototype.apply.apply(console.log,[console,arguments])),console.trace}function a(r){return"debug"===r&&(r="log"),typeof console!==t&&("trace"===r&&n?i:void 0!==console[r]?o(console,r):void 0!==console.log?o(console,"log"):e)}function s(t,n){for(var o=0;o<r.length;o++){var i=r[o];this[i]=o<t?e:this.methodFactory(i,t,n)}this.log=this.debug}function l(e,n,r){return function(){typeof console!==t&&(s.call(this,n,r),this[e].apply(this,arguments))}}function c(e,t,n){return a(e)||l.apply(this,arguments)}function d(e,n,o){var i,a=this;n=null==n?"WARN":n;var l="loglevel";function d(e){var n=(r[e]||"silent").toUpperCase();if(typeof window!==t&&l){try{return void(window.localStorage[l]=n)}catch(e){}try{window.document.cookie=encodeURIComponent(l)+"="+n+";"}catch(e){}}}function u(){var e;if(typeof window!==t&&l){try{e=window.localStorage[l]}catch(e){}if(typeof e===t)try{var n=window.document.cookie,r=n.indexOf(encodeURIComponent(l)+"=");-1!==r&&(e=/^([^;]+)/.exec(n.slice(r))[1])}catch(e){}return void 0===a.levels[e]&&(e=void 0),e}}function p(){if(typeof window!==t&&l){try{return void window.localStorage.removeItem(l)}catch(e){}try{window.document.cookie=encodeURIComponent(l)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}}"string"==typeof e?l+=":"+e:"symbol"==typeof e&&(l=void 0),a.name=e,a.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},a.methodFactory=o||c,a.getLevel=function(){return i},a.setLevel=function(n,r){if("string"==typeof n&&void 0!==a.levels[n.toUpperCase()]&&(n=a.levels[n.toUpperCase()]),!("number"==typeof n&&n>=0&&n<=a.levels.SILENT))throw"log.setLevel() called with invalid level: "+n;if(i=n,!1!==r&&d(n),s.call(a,n,e),typeof console===t&&n<a.levels.SILENT)return"No console available for logging"},a.setDefaultLevel=function(e){n=e,u()||a.setLevel(e,!1)},a.resetLevel=function(){a.setLevel(n,!1),p()},a.enableAll=function(e){a.setLevel(a.levels.TRACE,e)},a.disableAll=function(e){a.setLevel(a.levels.SILENT,e)};var f=u();null==f&&(f=n),a.setLevel(f,!1)}var u=new d,p={};u.getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=p[e];return t||(t=p[e]=new d(e,u.getLevel(),u.methodFactory)),t};var f=typeof window!==t?window.log:void 0;return u.noConflict=function(){return typeof window!==t&&window.log===u&&(window.log=f),u},u.getLoggers=function(){return p},u.default=u,u},void 0===(o="function"==typeof r?r.call(t,n,t,e):r)||(e.exports=o)}()},773:e=>{e.exports=function(e){var o=e.createGain(),i=o._voltage=function(e){var t=e.createBufferSource(),r=e.createBuffer(1,2,e.sampleRate);return r.getChannelData(0).set(n),t.buffer=r,t.loop=!0,t}(e),a=r(i),s=r(i),l=r(i);return o._startAmount=r(s),o._endAmount=r(l),o._multiplier=r(a),o._multiplier.connect(o),o._startAmount.connect(o),o._endAmount.connect(o),o.value=a.gain,o.startValue=s.gain,o.endValue=l.gain,o.startValue.value=0,o.endValue.value=0,Object.defineProperties(o,t),o};var t={attack:{value:0,writable:!0},decay:{value:0,writable:!0},sustain:{value:1,writable:!0},release:{value:0,writable:!0},getReleaseDuration:{value:function(){return this.release}},start:{value:function(e){var t=this._multiplier.gain,n=this._startAmount.gain,r=this._endAmount.gain;this._voltage.start(e),this._decayFrom=this._decayFrom=e+this.attack,this._startedAt=e;var i=this.sustain;t.cancelScheduledValues(e),n.cancelScheduledValues(e),r.cancelScheduledValues(e),r.setValueAtTime(0,e),this.attack?(t.setValueAtTime(0,e),t.linearRampToValueAtTime(1,e+this.attack),n.setValueAtTime(1,e),n.linearRampToValueAtTime(0,e+this.attack)):(t.setValueAtTime(1,e),n.setValueAtTime(0,e)),this.decay&&t.setTargetAtTime(i,this._decayFrom,o(this.decay))}},stop:{value:function(e,t){t&&(e-=this.release);var n=e+this.release;if(this.release){var r=this._multiplier.gain,i=this._startAmount.gain,a=this._endAmount.gain;r.cancelScheduledValues(e),i.cancelScheduledValues(e),a.cancelScheduledValues(e);var s=o(this.release);if(this.attack&&e<this._decayFrom){var l=function(e,t,n,r,o){var i=o-n,a=e+i/(r-n)*(t-e);a<=e&&(a=e);a>=t&&(a=t);return a}(0,1,this._startedAt,this._decayFrom,e);r.linearRampToValueAtTime(l,e),i.linearRampToValueAtTime(1-l,e),i.setTargetAtTime(0,e,s)}a.setTargetAtTime(1,e,s),r.setTargetAtTime(0,e,s)}return this._voltage.stop(n),n}},onended:{get:function(){return this._voltage.onended},set:function(e){this._voltage.onended=e}}},n=new Float32Array([1,1]);function r(e){var t=e.context.createGain();return e.connect(t),t}function o(e){return Math.log(e+1)/Math.log(100)}},233:(e,t,n)=>{const r=n(250).getLogger("instr");let o="WARN";try{o="WARN"}catch(e){}r.setLevel(o),r.info("instr index.js");const i=n(244),a=n(128).default,s=(n(846).SamplePlayer,n(846).SP);let l={};function c(e,t=!0){const n={A:"G",B:"A",C:"B",D:"C",E:"D",F:"E",G:"F"},r={A:"B",B:"C",C:"D",D:"E",E:"F",F:"G",G:"A"},o={A:!0,B:!0,C:!1,D:!0,E:!0,F:!1,G:!0};let i=t?1:-1,a=t?"B":"C",s=e[0];if("b"==e[1]){let r=parseInt(e[2]);return(t?s:n[s])+r}{let l=parseInt(e[1]);if(s==a&&(l+=i,8<l||l<1))return"";let c=t?r:n;if(t){let e=c[s];return o[e]?e+"b"+l:e+l}return o[s]?s+"b"+l:c[s]+l}}let d={Instrument:class{constructor(e,t){this.ac=e,this.audioBuffers={},this.name=t}async load(e){let t=await a.get(e);l[this.name]=t.data}async decode(e){this.name;let t=this,n=0,o=0;for(const[e,a]of Object.entries(l[this.name])){let s;try{s=a.indexOf(",")}catch(e){throw r.error(e),r.error(`${this.name} ${JSON.stringify(a)}`),e}let l,c=a.slice(s+1);c.length;try{l=i.decode(c),n+=l.byteLength}catch(e){throw r.error(`${this.name} ${JSON.stringify(a)}`,a),"Instrument decode"}await this.ac.decodeAudioData(l,(function(n){t.audioBuffers[e]=n,t.name,n.length,o+=n.length}))}let a={};for(const[e,t]of Object.entries(this.audioBuffers)){let n=e.split("v"),r=n[0];a[r]=a[r]||{};let o=a[r],i=n[1];i?o[i]=t:o[8]=t}this.audioBuffersLayers=a,this.audioBufferCache={},this.sp=new s(this.ac,{}),e?this.sp.connect(e):this.sp.connect(this.ac.destination),this.name}start(e,t,n){this.name,JSON.stringify(n);let o,i=0,a=(n=n||{}).gain||.5,s=`${Math.floor(16*a)+1}`,l=`${e}${s}`;if(this.audioBufferCache[l]){let e=this.audioBufferCache[l];o=e.buffer,i=e.cents}else{let t=null;if(this.audioBuffersLayers[e])t=e;else{let n=e,r=0,o=e,a=0;for(;o||n;){if(n&&(n=c(n,!1),r+=100,this.audioBuffersLayers[n])){t=n,i=r;break}if(o&&(o=c(o),a-=100,o&&this.audioBuffersLayers[o])){t=o,i=a;break}}}if(!t)return void r.error("Note "+e+" not found, and no lower/higher note found either.");let n=this.audioBuffersLayers[t];o=n[function(e,t){let n=parseInt(e),r=-1,o=100;for(let e of t){let t=parseInt(e),i=Math.abs(t-n);i<o&&(r=t,o=i)}return r}(s,Object.keys(n))],this.audioBufferCache[l]={buffer:o,cents:i}}return n.cents=i,this.sp.startBuffer(o,t,n)}stop(e,t){this.name,this.sp.stopNodes(e,t)}},log:r};e.exports=d},846:(e,t,n)=>{const r=n(250).getLogger("instr"),o=n(773);function i(e){return"number"==typeof e}var a=["attack","decay","sustain","release"];e.exports={SP:class{constructor(e,t){this.connected=!1,this.nextId=0,this.tracked={},this.opts=Object.assign({},{gain:1,attack:.01,decay:.1,sustain:.9,release:.3,loop:!1,cents:0,loopStart:0,loopEnd:0},t),this.context=e,this.out=e.createGain(),this.out.gain.value=1}track(e){e.id=this.nextId++,this.tracked[e.id]=e;let t=this;return e.source.onended=function(){let n=t.context.currentTime;e.source.disconnect(),e.env.disconnect(),e.disconnect(),delete t.tracked[e.id],e.id,t.tracked,t.emit("ended",n,e.id,e)},e.id}createNode(e,t){let n=this.context.createGain();var r;n.gain.value=0,n.connect(this.out),n.env=function(e,t,n){let r=o(e),s=t.adsr||n.adsr;return a.forEach((function(e,o){r[e]=s?s[o]:t[e]||n[e]})),r.value.value=i(t.gain)?t.gain:i(n.gain)?n.gain:1,r}(this.context,t,this.opts),n.env.connect(n.gain),n.source=this.context.createBufferSource(),n.source.buffer=e,n.source.connect(n),n.source.loop=t.loop||this.opts.loop,n.source.playbackRate.value=(r=t.cents||this.opts.cents)?Math.pow(2,r/1200):1,n.source.loopStart=t.loopStart||this.opts.loopStart,n.source.loopEnd=t.loopEnd||this.opts.loopEnd;let s=this;return n.stop=function(e){let t=e||s.context.currentTime;s.emit("stop",t,n);let r=n.env.stop(t);n.source.stop(r)},n}startBuffer(e,t,n){if(!this.connected)return void r.error("SamplePlayer not connected to any node.");let o=n||{};this.emit("start",t,o);let i=this.createNode(e,o);return this.track(i),i.env.start(t),i.source.start(t),this.emit("started",t,i.id,i),o.duration&&i.stop(t+o.duration),i}stopNodes(e,t){let n,r=this;return t.map((function(t){return n=r.tracked[t],n?(n.stop(e),n.id):null}))}stopAllNodes(e){this.stopNodes(e,Object.keys(this.tracked))}connect(e){return this.connected=!0,this.out.connect(e),this}emit(e,t,n,r){this.onevent&&this.onevent(e,t,n,r);var o=this["on"+e];o&&o(t,n,r)}}}},128:(e,t,n)=>{"use strict";function r(e,t){return function(){return e.apply(t,arguments)}}const{toString:o}=Object.prototype,{getPrototypeOf:i}=Object,a=(s=Object.create(null),e=>{const t=o.call(e);return s[t]||(s[t]=t.slice(8,-1).toLowerCase())});var s;const l=e=>(e=e.toLowerCase(),t=>a(t)===e),c=e=>t=>typeof t===e,{isArray:d}=Array,u=c("undefined");const p=l("ArrayBuffer");const f=c("string"),h=c("function"),m=c("number"),y=e=>null!==e&&"object"==typeof e,g=e=>{if("object"!==a(e))return!1;const t=i(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},b=l("Date"),v=l("File"),_=l("Blob"),x=l("FileList"),w=l("URLSearchParams");function E(e,t,{allOwnKeys:n=!1}={}){if(null==e)return;let r,o;if("object"!=typeof e&&(e=[e]),d(e))for(r=0,o=e.length;r<o;r++)t.call(null,e[r],r,e);else{const o=n?Object.getOwnPropertyNames(e):Object.keys(e),i=o.length;let a;for(r=0;r<i;r++)a=o[r],t.call(null,e[a],a,e)}}function A(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,o=n.length;for(;o-- >0;)if(r=n[o],t===r.toLowerCase())return r;return null}const C="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:n.g,S=e=>!u(e)&&e!==C;const k=(N="undefined"!=typeof Uint8Array&&i(Uint8Array),e=>N&&e instanceof N);var N;const O=l("HTMLFormElement"),D=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),M=l("RegExp"),T=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};E(n,((n,o)=>{let i;!1!==(i=t(n,o,e))&&(r[o]=i||n)})),Object.defineProperties(e,r)},I="abcdefghijklmnopqrstuvwxyz",L="0123456789",R={DIGIT:L,ALPHA:I,ALPHA_DIGIT:I+I.toUpperCase()+L};const F=l("AsyncFunction");var B={isArray:d,isArrayBuffer:p,isBuffer:function(e){return null!==e&&!u(e)&&null!==e.constructor&&!u(e.constructor)&&h(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||h(e.append)&&("formdata"===(t=a(e))||"object"===t&&h(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&p(e.buffer),t},isString:f,isNumber:m,isBoolean:e=>!0===e||!1===e,isObject:y,isPlainObject:g,isUndefined:u,isDate:b,isFile:v,isBlob:_,isRegExp:M,isFunction:h,isStream:e=>y(e)&&h(e.pipe),isURLSearchParams:w,isTypedArray:k,isFileList:x,forEach:E,merge:function e(){const{caseless:t}=S(this)&&this||{},n={},r=(r,o)=>{const i=t&&A(n,o)||o;g(n[i])&&g(r)?n[i]=e(n[i],r):g(r)?n[i]=e({},r):d(r)?n[i]=r.slice():n[i]=r};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&E(arguments[e],r);return n},extend:(e,t,n,{allOwnKeys:o}={})=>(E(t,((t,o)=>{n&&h(t)?e[o]=r(t,n):e[o]=t}),{allOwnKeys:o}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let o,a,s;const l={};if(t=t||{},null==e)return t;do{for(o=Object.getOwnPropertyNames(e),a=o.length;a-- >0;)s=o[a],r&&!r(s,e,t)||l[s]||(t[s]=e[s],l[s]=!0);e=!1!==n&&i(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:a,kindOfTest:l,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(d(e))return e;let t=e.length;if(!m(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:O,hasOwnProperty:D,hasOwnProp:D,reduceDescriptors:T,freezeMethods:e=>{T(e,((t,n)=>{if(h(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];h(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return d(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>(e=+e,Number.isFinite(e)?e:t),findKey:A,global:C,isContextDefined:S,ALPHABET:R,generateString:(e=16,t=R.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&h(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(y(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const o=d(e)?[]:{};return E(e,((e,t)=>{const i=n(e,r+1);!u(i)&&(o[t]=i)})),t[r]=void 0,o}}return e};return n(e,0)},isAsyncFn:F,isThenable:e=>e&&(y(e)||h(e))&&h(e.then)&&h(e.catch)};function $(e,t,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o)}B.inherits($,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:B.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const P=$.prototype,j={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{j[e]={value:e}})),Object.defineProperties($,j),Object.defineProperty(P,"isAxiosError",{value:!0}),$.from=(e,t,n,r,o,i)=>{const a=Object.create(P);return B.toFlatObject(e,a,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),$.call(a,e.message,t,n,r,o),a.cause=e,a.name=e.name,i&&Object.assign(a,i),a};function G(e){return B.isPlainObject(e)||B.isArray(e)}function U(e){return B.endsWith(e,"[]")?e.slice(0,-2):e}function z(e,t,n){return e?e.concat(t).map((function(e,t){return e=U(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const K=B.toFlatObject(B,{},null,(function(e){return/^is[A-Z]/.test(e)}));function V(e,t,n){if(!B.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=B.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!B.isUndefined(t[e])}))).metaTokens,o=n.visitor||c,i=n.dots,a=n.indexes,s=(n.Blob||"undefined"!=typeof Blob&&Blob)&&B.isSpecCompliantForm(t);if(!B.isFunction(o))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(B.isDate(e))return e.toISOString();if(!s&&B.isBlob(e))throw new $("Blob is not supported. Use a Buffer instead.");return B.isArrayBuffer(e)||B.isTypedArray(e)?s&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,o){let s=e;if(e&&!o&&"object"==typeof e)if(B.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(B.isArray(e)&&function(e){return B.isArray(e)&&!e.some(G)}(e)||(B.isFileList(e)||B.endsWith(n,"[]"))&&(s=B.toArray(e)))return n=U(n),s.forEach((function(e,r){!B.isUndefined(e)&&null!==e&&t.append(!0===a?z([n],r,i):null===a?n:n+"[]",l(e))})),!1;return!!G(e)||(t.append(z(o,n,i),l(e)),!1)}const d=[],u=Object.assign(K,{defaultVisitor:c,convertValue:l,isVisitable:G});if(!B.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!B.isUndefined(n)){if(-1!==d.indexOf(n))throw Error("Circular reference detected in "+r.join("."));d.push(n),B.forEach(n,(function(n,i){!0===(!(B.isUndefined(n)||null===n)&&o.call(t,n,B.isString(i)?i.trim():i,r,u))&&e(n,r?r.concat(i):[i])})),d.pop()}}(e),t}function H(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Q(e,t){this._pairs=[],e&&V(e,this,t)}const q=Q.prototype;function W(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function J(e,t,n){if(!t)return e;const r=n&&n.encode||W,o=n&&n.serialize;let i;if(i=o?o(t,n):B.isURLSearchParams(t)?t.toString():new Q(t,n).toString(r),i){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}q.append=function(e,t){this._pairs.push([e,t])},q.toString=function(e){const t=e?function(t){return e.call(this,t,H)}:H;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var Y=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){B.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},X={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};var Z={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:Q,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},isStandardBrowserEnv:(()=>{let e;return("undefined"==typeof navigator||"ReactNative"!==(e=navigator.product)&&"NativeScript"!==e&&"NS"!==e)&&("undefined"!=typeof window&&"undefined"!=typeof document)})(),isStandardBrowserWebWorkerEnv:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,protocols:["http","https","file","blob","url","data"]};function ee(e){function t(e,n,r,o){let i=e[o++];const a=Number.isFinite(+i),s=o>=e.length;if(i=!i&&B.isArray(r)?r.length:i,s)return B.hasOwnProp(r,i)?r[i]=[r[i],n]:r[i]=n,!a;r[i]&&B.isObject(r[i])||(r[i]=[]);return t(e,n,r[i],o)&&B.isArray(r[i])&&(r[i]=function(e){const t={},n=Object.keys(e);let r;const o=n.length;let i;for(r=0;r<o;r++)i=n[r],t[i]=e[i];return t}(r[i])),!a}if(B.isFormData(e)&&B.isFunction(e.entries)){const n={};return B.forEachEntry(e,((e,r)=>{t(function(e){return B.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null}const te={transitional:X,adapter:["xhr","http"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,o=B.isObject(e);o&&B.isHTMLForm(e)&&(e=new FormData(e));if(B.isFormData(e))return r&&r?JSON.stringify(ee(e)):e;if(B.isArrayBuffer(e)||B.isBuffer(e)||B.isStream(e)||B.isFile(e)||B.isBlob(e))return e;if(B.isArrayBufferView(e))return e.buffer;if(B.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let i;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return V(e,new Z.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return Z.isNode&&B.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((i=B.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return V(i?{"files[]":e}:e,t&&new t,this.formSerializer)}}return o||r?(t.setContentType("application/json",!1),function(e,t,n){if(B.isString(e))try{return(t||JSON.parse)(e),B.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||te.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&B.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(e){if(n){if("SyntaxError"===e.name)throw $.from(e,$.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Z.classes.FormData,Blob:Z.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};B.forEach(["delete","get","head","post","put","patch"],(e=>{te.headers[e]={}}));var ne=te;const re=B.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);const oe=Symbol("internals");function ie(e){return e&&String(e).trim().toLowerCase()}function ae(e){return!1===e||null==e?e:B.isArray(e)?e.map(ae):String(e)}function se(e,t,n,r,o){return B.isFunction(r)?r.call(this,t,n):(o&&(t=n),B.isString(t)?B.isString(r)?-1!==t.indexOf(r):B.isRegExp(r)?r.test(t):void 0:void 0)}class le{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function o(e,t,n){const o=ie(t);if(!o)throw new Error("header name must be a non-empty string");const i=B.findKey(r,o);(!i||void 0===r[i]||!0===n||void 0===n&&!1!==r[i])&&(r[i||t]=ae(e))}const i=(e,t)=>B.forEach(e,((e,n)=>o(e,n,t)));return B.isPlainObject(e)||e instanceof this.constructor?i(e,t):B.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?i((e=>{const t={};let n,r,o;return e&&e.split("\n").forEach((function(e){o=e.indexOf(":"),n=e.substring(0,o).trim().toLowerCase(),r=e.substring(o+1).trim(),!n||t[n]&&re[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t):null!=e&&o(t,e,n),this}get(e,t){if(e=ie(e)){const n=B.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(B.isFunction(t))return t.call(this,e,n);if(B.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=ie(e)){const n=B.findKey(this,e);return!(!n||void 0===this[n]||t&&!se(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function o(e){if(e=ie(e)){const o=B.findKey(n,e);!o||t&&!se(0,n[o],o,t)||(delete n[o],r=!0)}}return B.isArray(e)?e.forEach(o):o(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const o=t[n];e&&!se(0,this[o],o,e,!0)||(delete this[o],r=!0)}return r}normalize(e){const t=this,n={};return B.forEach(this,((r,o)=>{const i=B.findKey(n,o);if(i)return t[i]=ae(r),void delete t[o];const a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(o):String(o).trim();a!==o&&delete t[o],t[a]=ae(r),n[a]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return B.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&B.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach((e=>n.set(e))),n}static accessor(e){const t=(this[oe]=this[oe]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=ie(e);t[r]||(!function(e,t){const n=B.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,o){return this[r].call(this,t,e,n,o)},configurable:!0})}))}(n,e),t[r]=!0)}return B.isArray(e)?e.forEach(r):r(e),this}}le.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),B.reduceDescriptors(le.prototype,(({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[n]=e}}})),B.freezeMethods(le);var ce=le;function de(e,t){const n=this||ne,r=t||n,o=ce.from(r.headers);let i=r.data;return B.forEach(e,(function(e){i=e.call(n,i,o.normalize(),t?t.status:void 0)})),o.normalize(),i}function ue(e){return!(!e||!e.__CANCEL__)}function pe(e,t,n){$.call(this,null==e?"canceled":e,$.ERR_CANCELED,t,n),this.name="CanceledError"}B.inherits(pe,$,{__CANCEL__:!0});var fe=Z.isStandardBrowserEnv?{write:function(e,t,n,r,o,i){const a=[];a.push(e+"="+encodeURIComponent(t)),B.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),B.isString(r)&&a.push("path="+r),B.isString(o)&&a.push("domain="+o),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function he(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var me=Z.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let n;function r(n){let r=n;return e&&(t.setAttribute("href",r),r=t.href),t.setAttribute("href",r),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=r(window.location.href),function(e){const t=B.isString(e)?r(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return!0};function ye(e,t){let n=0;const r=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let o,i=0,a=0;return t=void 0!==t?t:1e3,function(s){const l=Date.now(),c=r[a];o||(o=l),n[i]=s,r[i]=l;let d=a,u=0;for(;d!==i;)u+=n[d++],d%=e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),l-o<t)return;const p=c&&l-c;return p?Math.round(1e3*u/p):void 0}}(50,250);return o=>{const i=o.loaded,a=o.lengthComputable?o.total:void 0,s=i-n,l=r(s);n=i;const c={loaded:i,total:a,progress:a?i/a:void 0,bytes:s,rate:l||void 0,estimated:l&&a&&i<=a?(a-i)/l:void 0,event:o};c[t?"download":"upload"]=!0,e(c)}}const ge={http:null,xhr:"undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){let r=e.data;const o=ce.from(e.headers).normalize(),i=e.responseType;let a,s;function l(){e.cancelToken&&e.cancelToken.unsubscribe(a),e.signal&&e.signal.removeEventListener("abort",a)}B.isFormData(r)&&(Z.isStandardBrowserEnv||Z.isStandardBrowserWebWorkerEnv?o.setContentType(!1):o.getContentType(/^\s*multipart\/form-data/)?B.isString(s=o.getContentType())&&o.setContentType(s.replace(/^\s*(multipart\/form-data);+/,"$1")):o.setContentType("multipart/form-data"));let c=new XMLHttpRequest;if(e.auth){const t=e.auth.username||"",n=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";o.set("Authorization","Basic "+btoa(t+":"+n))}const d=he(e.baseURL,e.url);function u(){if(!c)return;const r=ce.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders());!function(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new $("Request failed with status code "+n.status,[$.ERR_BAD_REQUEST,$.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),l()}),(function(e){n(e),l()}),{data:i&&"text"!==i&&"json"!==i?c.response:c.responseText,status:c.status,statusText:c.statusText,headers:r,config:e,request:c}),c=null}if(c.open(e.method.toUpperCase(),J(d,e.params,e.paramsSerializer),!0),c.timeout=e.timeout,"onloadend"in c?c.onloadend=u:c.onreadystatechange=function(){c&&4===c.readyState&&(0!==c.status||c.responseURL&&0===c.responseURL.indexOf("file:"))&&setTimeout(u)},c.onabort=function(){c&&(n(new $("Request aborted",$.ECONNABORTED,e,c)),c=null)},c.onerror=function(){n(new $("Network Error",$.ERR_NETWORK,e,c)),c=null},c.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const r=e.transitional||X;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new $(t,r.clarifyTimeoutError?$.ETIMEDOUT:$.ECONNABORTED,e,c)),c=null},Z.isStandardBrowserEnv){const t=(e.withCredentials||me(d))&&e.xsrfCookieName&&fe.read(e.xsrfCookieName);t&&o.set(e.xsrfHeaderName,t)}void 0===r&&o.setContentType(null),"setRequestHeader"in c&&B.forEach(o.toJSON(),(function(e,t){c.setRequestHeader(t,e)})),B.isUndefined(e.withCredentials)||(c.withCredentials=!!e.withCredentials),i&&"json"!==i&&(c.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&c.addEventListener("progress",ye(e.onDownloadProgress,!0)),"function"==typeof e.onUploadProgress&&c.upload&&c.upload.addEventListener("progress",ye(e.onUploadProgress)),(e.cancelToken||e.signal)&&(a=t=>{c&&(n(!t||t.type?new pe(null,e,c):t),c.abort(),c=null)},e.cancelToken&&e.cancelToken.subscribe(a),e.signal&&(e.signal.aborted?a():e.signal.addEventListener("abort",a)));const p=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(d);p&&-1===Z.protocols.indexOf(p)?n(new $("Unsupported protocol "+p+":",$.ERR_BAD_REQUEST,e)):c.send(r||null)}))}};B.forEach(ge,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}}));const be=e=>`- ${e}`,ve=e=>B.isFunction(e)||null===e||!1===e;var _e=e=>{e=B.isArray(e)?e:[e];const{length:t}=e;let n,r;const o={};for(let i=0;i<t;i++){let t;if(n=e[i],r=n,!ve(n)&&(r=ge[(t=String(n)).toLowerCase()],void 0===r))throw new $(`Unknown adapter '${t}'`);if(r)break;o[t||"#"+i]=r}if(!r){const e=Object.entries(o).map((([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build")));throw new $("There is no suitable adapter to dispatch the request "+(t?e.length>1?"since :\n"+e.map(be).join("\n"):" "+be(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return r};function xe(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new pe(null,e)}function we(e){xe(e),e.headers=ce.from(e.headers),e.data=de.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return _e(e.adapter||ne.adapter)(e).then((function(t){return xe(e),t.data=de.call(e,e.transformResponse,t),t.headers=ce.from(t.headers),t}),(function(t){return ue(t)||(xe(e),t&&t.response&&(t.response.data=de.call(e,e.transformResponse,t.response),t.response.headers=ce.from(t.response.headers))),Promise.reject(t)}))}const Ee=e=>e instanceof ce?e.toJSON():e;function Ae(e,t){t=t||{};const n={};function r(e,t,n){return B.isPlainObject(e)&&B.isPlainObject(t)?B.merge.call({caseless:n},e,t):B.isPlainObject(t)?B.merge({},t):B.isArray(t)?t.slice():t}function o(e,t,n){return B.isUndefined(t)?B.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function i(e,t){if(!B.isUndefined(t))return r(void 0,t)}function a(e,t){return B.isUndefined(t)?B.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,o,i){return i in t?r(n,o):i in e?r(void 0,n):void 0}const l={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:(e,t)=>o(Ee(e),Ee(t),!0)};return B.forEach(Object.keys(Object.assign({},e,t)),(function(r){const i=l[r]||o,a=i(e[r],t[r],r);B.isUndefined(a)&&i!==s||(n[r]=a)})),n}const Ce="1.5.1",Se={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{Se[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const ke={};Se.transitional=function(e,t,n){return(r,o,i)=>{if(!1===e)throw new $(function(e,t){return"[Axios v1.5.1] Transitional option '"+e+"'"+t+(n?". "+n:"")}(o," has been removed"+(t?" in "+t:"")),$.ERR_DEPRECATED);return t&&!ke[o]&&(ke[o]=!0),!e||e(r,o,i)}};var Ne={assertOptions:function(e,t,n){if("object"!=typeof e)throw new $("options must be an object",$.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let o=r.length;for(;o-- >0;){const i=r[o],a=t[i];if(a){const t=e[i],n=void 0===t||a(t,i,e);if(!0!==n)throw new $("option "+i+" must be "+n,$.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new $("Unknown option "+i,$.ERR_BAD_OPTION)}},validators:Se};const Oe=Ne.validators;class De{constructor(e){this.defaults=e,this.interceptors={request:new Y,response:new Y}}request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=Ae(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:o}=t;void 0!==n&&Ne.assertOptions(n,{silentJSONParsing:Oe.transitional(Oe.boolean),forcedJSONParsing:Oe.transitional(Oe.boolean),clarifyTimeoutError:Oe.transitional(Oe.boolean)},!1),null!=r&&(B.isFunction(r)?t.paramsSerializer={serialize:r}:Ne.assertOptions(r,{encode:Oe.function,serialize:Oe.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let i=o&&B.merge(o.common,o[t.method]);o&&B.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete o[e]})),t.headers=ce.concat(i,o);const a=[];let s=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,a.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let d,u=0;if(!s){const e=[we.bind(this),void 0];for(e.unshift.apply(e,a),e.push.apply(e,l),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=a.length;let p=t;for(u=0;u<d;){const e=a[u++],t=a[u++];try{p=e(p)}catch(e){t.call(this,e);break}}try{c=we.call(this,p)}catch(e){return Promise.reject(e)}for(u=0,d=l.length;u<d;)c=c.then(l[u++],l[u++]);return c}getUri(e){return J(he((e=Ae(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}B.forEach(["delete","get","head","options"],(function(e){De.prototype[e]=function(t,n){return this.request(Ae(n||{},{method:e,url:t,data:(n||{}).data}))}})),B.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,o){return this.request(Ae(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}De.prototype[e]=t(),De.prototype[e+"Form"]=t(!0)}));var Me=De;class Te{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,o){n.reason||(n.reason=new pe(e,r,o),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new Te((function(t){e=t})),cancel:e}}}var Ie=Te;const Le={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Le).forEach((([e,t])=>{Le[t]=e}));var Re=Le;const Fe=function e(t){const n=new Me(t),o=r(Me.prototype.request,n);return B.extend(o,Me.prototype,n,{allOwnKeys:!0}),B.extend(o,n,null,{allOwnKeys:!0}),o.create=function(n){return e(Ae(t,n))},o}(ne);Fe.Axios=Me,Fe.CanceledError=pe,Fe.CancelToken=Ie,Fe.isCancel=ue,Fe.VERSION=Ce,Fe.toFormData=V,Fe.AxiosError=$,Fe.Cancel=Fe.CanceledError,Fe.all=function(e){return Promise.all(e)},Fe.spread=function(e){return function(t){return e.apply(null,t)}},Fe.isAxiosError=function(e){return B.isObject(e)&&!0===e.isAxiosError},Fe.mergeConfig=Ae,Fe.AxiosHeaders=ce,Fe.formToJSON=e=>ee(B.isHTMLForm(e)?new FormData(e):e),Fe.getAdapter=_e,Fe.HttpStatusCode=Re,Fe.default=Fe,e.exports=Fe}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.nc=void 0,(()=>{"use strict";var e=n(72),t=n.n(e),r=n(825),o=n.n(r),i=n(659),a=n.n(i),s=n(56),l=n.n(s),c=n(540),d=n.n(c),u=n(113),p=n.n(u),f=n(275),h={};h.styleTagTransform=p(),h.setAttributes=l(),h.insert=a().bind(null,"head"),h.domAPI=o(),h.insertStyleElement=d();t()(f.A,h);f.A&&f.A.locals&&f.A.locals;var m,y,g,b,v=!1,_=!1,x=[],w=-1;function E(e){!function(e){x.includes(e)||x.push(e);_||v||(v=!0,queueMicrotask(C))}(e)}function A(e){let t=x.indexOf(e);-1!==t&&t>w&&x.splice(t,1)}function C(){v=!1,_=!0;for(let e=0;e<x.length;e++)x[e](),w=e;x.length=0,w=-1,_=!1}var S=!0;function k(e){y=e}function N(e,t){let n,r=!0,o=y((()=>{let o=e();JSON.stringify(o),r?n=o:queueMicrotask((()=>{t(o,n),n=o})),r=!1}));return()=>g(o)}var O=[],D=[],M=[];function T(e,t){"function"==typeof t?(e._x_cleanups||(e._x_cleanups=[]),e._x_cleanups.push(t)):(t=e,D.push(t))}function I(e){O.push(e)}function L(e,t,n){e._x_attributeCleanups||(e._x_attributeCleanups={}),e._x_attributeCleanups[t]||(e._x_attributeCleanups[t]=[]),e._x_attributeCleanups[t].push(n)}function R(e,t){e._x_attributeCleanups&&Object.entries(e._x_attributeCleanups).forEach((([n,r])=>{(void 0===t||t.includes(n))&&(r.forEach((e=>e())),delete e._x_attributeCleanups[n])}))}var F=new MutationObserver(K),B=!1;function $(){F.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),B=!0}function P(){!function(){let e=F.takeRecords();j.push((()=>e.length>0&&K(e)));let t=j.length;queueMicrotask((()=>{if(j.length===t)for(;j.length>0;)j.shift()()}))}(),F.disconnect(),B=!1}var j=[];function G(e){if(!B)return e();P();let t=e();return $(),t}var U=!1,z=[];function K(e){if(U)return void(z=z.concat(e));let t=new Set,n=new Set,r=new Map,o=new Map;for(let i=0;i<e.length;i++)if(!e[i].target._x_ignoreMutationObserver&&("childList"===e[i].type&&(e[i].addedNodes.forEach((e=>1===e.nodeType&&t.add(e))),e[i].removedNodes.forEach((e=>1===e.nodeType&&n.add(e)))),"attributes"===e[i].type)){let t=e[i].target,n=e[i].attributeName,a=e[i].oldValue,s=()=>{r.has(t)||r.set(t,[]),r.get(t).push({name:n,value:t.getAttribute(n)})},l=()=>{o.has(t)||o.set(t,[]),o.get(t).push(n)};t.hasAttribute(n)&&null===a?s():t.hasAttribute(n)?(l(),s()):l()}o.forEach(((e,t)=>{R(t,e)})),r.forEach(((e,t)=>{O.forEach((n=>n(t,e)))}));for(let e of n)t.has(e)||D.forEach((t=>t(e)));t.forEach((e=>{e._x_ignoreSelf=!0,e._x_ignore=!0}));for(let e of t)n.has(e)||e.isConnected&&(delete e._x_ignoreSelf,delete e._x_ignore,M.forEach((t=>t(e))),e._x_ignore=!0,e._x_ignoreSelf=!0);t.forEach((e=>{delete e._x_ignoreSelf,delete e._x_ignore})),t=null,n=null,r=null,o=null}function V(e){return q(Q(e))}function H(e,t,n){return e._x_dataStack=[t,...Q(n||e)],()=>{e._x_dataStack=e._x_dataStack.filter((e=>e!==t))}}function Q(e){return e._x_dataStack?e._x_dataStack:"function"==typeof ShadowRoot&&e instanceof ShadowRoot?Q(e.host):e.parentNode?Q(e.parentNode):[]}function q(e){return new Proxy({objects:e},W)}var W={ownKeys:({objects:e})=>Array.from(new Set(e.flatMap((e=>Object.keys(e))))),has:({objects:e},t)=>t!=Symbol.unscopables&&e.some((e=>Object.prototype.hasOwnProperty.call(e,t)||Reflect.has(e,t))),get:({objects:e},t,n)=>"toJSON"==t?J:Reflect.get(e.find((e=>Reflect.has(e,t)))||{},t,n),set({objects:e},t,n,r){const o=e.find((e=>Object.prototype.hasOwnProperty.call(e,t)))||e[e.length-1],i=Object.getOwnPropertyDescriptor(o,t);return i?.set&&i?.get?i.set.call(r,n)||!0:Reflect.set(o,t,n)}};function J(){return Reflect.ownKeys(this).reduce(((e,t)=>(e[t]=Reflect.get(this,t),e)),{})}function Y(e){let t=(n,r="")=>{Object.entries(Object.getOwnPropertyDescriptors(n)).forEach((([o,{value:i,enumerable:a}])=>{if(!1===a||void 0===i)return;if("object"==typeof i&&null!==i&&i.__v_skip)return;let s=""===r?o:`${r}.${o}`;var l;"object"==typeof i&&null!==i&&i._x_interceptor?n[o]=i.initialize(e,s,o):"object"!=typeof(l=i)||Array.isArray(l)||null===l||i===n||i instanceof Element||t(i,s)}))};return t(e)}function X(e,t=(()=>{})){let n={initialValue:void 0,_x_interceptor:!0,initialize(t,n,r){return e(this.initialValue,(()=>function(e,t){return t.split(".").reduce(((e,t)=>e[t]),e)}(t,n)),(e=>Z(t,n,e)),n,r)}};return t(n),e=>{if("object"==typeof e&&null!==e&&e._x_interceptor){let t=n.initialize.bind(n);n.initialize=(r,o,i)=>{let a=e.initialize(r,o,i);return n.initialValue=a,t(r,o,i)}}else n.initialValue=e;return n}}function Z(e,t,n){if("string"==typeof t&&(t=t.split(".")),1!==t.length){if(0===t.length)throw error;return e[t[0]]||(e[t[0]]={}),Z(e[t[0]],t.slice(1),n)}e[t[0]]=n}var ee={};function te(e,t){ee[e]=t}function ne(e,t){return Object.entries(ee).forEach((([n,r])=>{let o=null;Object.defineProperty(e,`$${n}`,{get:()=>r(t,function(){if(o)return o;{let[e,n]=we(t);return o={interceptor:X,...e},T(t,n),o}}()),enumerable:!1})})),e}function re(e,t,n,...r){try{return n(...r)}catch(n){oe(n,e,t)}}function oe(e,t,n=void 0){e=Object.assign(e??{message:"No error message given."},{el:t,expression:n}),setTimeout((()=>{throw e}),0)}var ie=!0;function ae(e){let t=ie;ie=!1;let n=e();return ie=t,n}function se(e,t,n={}){let r;return le(e,t)((e=>r=e),n),r}function le(...e){return ce(...e)}var ce=de;function de(e,t){let n={};ne(n,e);let r=[n,...Q(e)],o="function"==typeof t?function(e,t){return(n=(()=>{}),{scope:r={},params:o=[]}={})=>{pe(n,t.apply(q([r,...e]),o))}}(r,t):function(e,t,n){let r=function(e,t){if(ue[e])return ue[e];let n=Object.getPrototypeOf((async function(){})).constructor,r=/^[\n\s]*if.*\(.*\)/.test(e.trim())||/^(let|const)\s/.test(e.trim())?`(async()=>{ ${e} })()`:e;const o=()=>{try{let t=new n(["__self","scope"],`with (scope) { __self.result = ${r} }; __self.finished = true; return __self.result;`);return Object.defineProperty(t,"name",{value:`[Alpine] ${e}`}),t}catch(n){return oe(n,t,e),Promise.resolve()}};let i=o();return ue[e]=i,i}(t,n);return(o=(()=>{}),{scope:i={},params:a=[]}={})=>{r.result=void 0,r.finished=!1;let s=q([i,...e]);if("function"==typeof r){let e=r(r,s).catch((e=>oe(e,n,t)));r.finished?(pe(o,r.result,s,a,n),r.result=void 0):e.then((e=>{pe(o,e,s,a,n)})).catch((e=>oe(e,n,t))).finally((()=>r.result=void 0))}}}(r,t,e);return re.bind(null,e,t,o)}var ue={};function pe(e,t,n,r,o){if(ie&&"function"==typeof t){let i=t.apply(n,r);i instanceof Promise?i.then((t=>pe(e,t,n,r))).catch((e=>oe(e,o,t))):e(i)}else"object"==typeof t&&t instanceof Promise?t.then((t=>e(t))):e(t)}var fe="x-";function he(e=""){return fe+e}var me={};function ye(e,t){return me[e]=t,{before(t){if(!me[t])return;const n=De.indexOf(t);De.splice(n>=0?n:De.indexOf("DEFAULT"),0,e)}}}function ge(e,t,n){if(t=Array.from(t),e._x_virtualDirectives){let n=Object.entries(e._x_virtualDirectives).map((([e,t])=>({name:e,value:t}))),r=be(n);n=n.map((e=>r.find((t=>t.name===e.name))?{name:`x-bind:${e.name}`,value:`"${e.value}"`}:e)),t=t.concat(n)}let r={},o=t.map(Ae(((e,t)=>r[e]=t))).filter(ke).map(function(e,t){return({name:n,value:r})=>{let o=n.match(Ne()),i=n.match(/:([a-zA-Z0-9\-_:]+)/),a=n.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],s=t||e[n]||n;return{type:o?o[1]:null,value:i?i[1]:null,modifiers:a.map((e=>e.replace(".",""))),expression:r,original:s}}}(r,n)).sort(Me);return o.map((t=>function(e,t){let n=()=>{},r=me[t.type]||n,[o,i]=we(e);L(e,t.original,i);let a=()=>{e._x_ignore||e._x_ignoreSelf||(r.inline&&r.inline(e,t,o),r=r.bind(r,e,t,o),ve?_e.get(xe).push(r):r())};return a.runCleanups=i,a}(e,t)))}function be(e){return Array.from(e).map(Ae()).filter((e=>!ke(e)))}var ve=!1,_e=new Map,xe=Symbol();function we(e){let t=[],[n,r]=function(e){let t=()=>{};return[n=>{let r=y(n);return e._x_effects||(e._x_effects=new Set,e._x_runEffects=()=>{e._x_effects.forEach((e=>e()))}),e._x_effects.add(r),t=()=>{void 0!==r&&(e._x_effects.delete(r),g(r))},r},()=>{t()}]}(e);t.push(r);return[{Alpine:At,effect:n,cleanup:e=>t.push(e),evaluateLater:le.bind(le,e),evaluate:se.bind(se,e)},()=>t.forEach((e=>e()))]}var Ee=(e,t)=>({name:n,value:r})=>(n.startsWith(e)&&(n=n.replace(e,t)),{name:n,value:r});function Ae(e=(()=>{})){return({name:t,value:n})=>{let{name:r,value:o}=Ce.reduce(((e,t)=>t(e)),{name:t,value:n});return r!==t&&e(r,t),{name:r,value:o}}}var Ce=[];function Se(e){Ce.push(e)}function ke({name:e}){return Ne().test(e)}var Ne=()=>new RegExp(`^${fe}([^:^.]+)\\b`);var Oe="DEFAULT",De=["ignore","ref","data","id","anchor","bind","init","for","model","modelable","transition","show","if",Oe,"teleport"];function Me(e,t){let n=-1===De.indexOf(e.type)?Oe:e.type,r=-1===De.indexOf(t.type)?Oe:t.type;return De.indexOf(n)-De.indexOf(r)}function Te(e,t,n={}){e.dispatchEvent(new CustomEvent(t,{detail:n,bubbles:!0,composed:!0,cancelable:!0}))}function Ie(e,t){if("function"==typeof ShadowRoot&&e instanceof ShadowRoot)return void Array.from(e.children).forEach((e=>Ie(e,t)));let n=!1;if(t(e,(()=>n=!0)),n)return;let r=e.firstElementChild;for(;r;)Ie(r,t),r=r.nextElementSibling}var Le=[],Re=[];function Fe(){return Le.map((e=>e()))}function Be(){return Le.concat(Re).map((e=>e()))}function $e(e){Le.push(e)}function Pe(e){Re.push(e)}function je(e,t=!1){return Ge(e,(e=>{if((t?Be():Fe()).some((t=>e.matches(t))))return!0}))}function Ge(e,t){if(e){if(t(e))return e;if(e._x_teleportBack&&(e=e._x_teleportBack),e.parentElement)return Ge(e.parentElement,t)}}var Ue=[];function ze(e,t=Ie,n=(()=>{})){!function(e){ve=!0;let t=Symbol();xe=t,_e.set(t,[]);let n=()=>{for(;_e.get(t).length;)_e.get(t).shift()();_e.delete(t)};e(n),ve=!1,n()}((()=>{t(e,((e,t)=>{n(e,t),Ue.forEach((n=>n(e,t))),ge(e,e.attributes).forEach((e=>e())),e._x_ignore&&t()}))}))}function Ke(e,t=Ie){t(e,(e=>{R(e),function(e){if(e._x_cleanups)for(;e._x_cleanups.length;)e._x_cleanups.pop()()}(e)}))}var Ve=[],He=!1;function Qe(e=(()=>{})){return queueMicrotask((()=>{He||setTimeout((()=>{qe()}))})),new Promise((t=>{Ve.push((()=>{e(),t()}))}))}function qe(){for(He=!1;Ve.length;)Ve.shift()()}function We(e,t){return Array.isArray(t)?Je(e,t.join(" ")):"object"==typeof t&&null!==t?function(e,t){let n=e=>e.split(" ").filter(Boolean),r=Object.entries(t).flatMap((([e,t])=>!!t&&n(e))).filter(Boolean),o=Object.entries(t).flatMap((([e,t])=>!t&&n(e))).filter(Boolean),i=[],a=[];return o.forEach((t=>{e.classList.contains(t)&&(e.classList.remove(t),a.push(t))})),r.forEach((t=>{e.classList.contains(t)||(e.classList.add(t),i.push(t))})),()=>{a.forEach((t=>e.classList.add(t))),i.forEach((t=>e.classList.remove(t)))}}(e,t):"function"==typeof t?We(e,t()):Je(e,t)}function Je(e,t){return t=!0===t?t="":t||"",n=t.split(" ").filter((t=>!e.classList.contains(t))).filter(Boolean),e.classList.add(...n),()=>{e.classList.remove(...n)};var n}function Ye(e,t){return"object"==typeof t&&null!==t?function(e,t){let n={};return Object.entries(t).forEach((([t,r])=>{n[t]=e.style[t],t.startsWith("--")||(t=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()),e.style.setProperty(t,r)})),setTimeout((()=>{0===e.style.length&&e.removeAttribute("style")})),()=>{Ye(e,n)}}(e,t):function(e,t){let n=e.getAttribute("style",t);return e.setAttribute("style",t),()=>{e.setAttribute("style",n||"")}}(e,t)}function Xe(e,t=(()=>{})){let n=!1;return function(){n?t.apply(this,arguments):(n=!0,e.apply(this,arguments))}}function Ze(e,t,n={}){e._x_transition||(e._x_transition={enter:{during:n,start:n,end:n},leave:{during:n,start:n,end:n},in(n=(()=>{}),r=(()=>{})){tt(e,t,{during:this.enter.during,start:this.enter.start,end:this.enter.end},n,r)},out(n=(()=>{}),r=(()=>{})){tt(e,t,{during:this.leave.during,start:this.leave.start,end:this.leave.end},n,r)}})}function et(e){let t=e.parentNode;if(t)return t._x_hidePromise?t:et(t)}function tt(e,t,{during:n,start:r,end:o}={},i=(()=>{}),a=(()=>{})){if(e._x_transitioning&&e._x_transitioning.cancel(),0===Object.keys(n).length&&0===Object.keys(r).length&&0===Object.keys(o).length)return i(),void a();let s,l,c;!function(e,t){let n,r,o,i=Xe((()=>{G((()=>{n=!0,r||t.before(),o||(t.end(),qe()),t.after(),e.isConnected&&t.cleanup(),delete e._x_transitioning}))}));e._x_transitioning={beforeCancels:[],beforeCancel(e){this.beforeCancels.push(e)},cancel:Xe((function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();i()})),finish:i},G((()=>{t.start(),t.during()})),He=!0,requestAnimationFrame((()=>{if(n)return;let i=1e3*Number(getComputedStyle(e).transitionDuration.replace(/,.*/,"").replace("s","")),a=1e3*Number(getComputedStyle(e).transitionDelay.replace(/,.*/,"").replace("s",""));0===i&&(i=1e3*Number(getComputedStyle(e).animationDuration.replace("s",""))),G((()=>{t.before()})),r=!0,requestAnimationFrame((()=>{n||(G((()=>{t.end()})),qe(),setTimeout(e._x_transitioning.finish,i+a),o=!0)}))}))}(e,{start(){s=t(e,r)},during(){l=t(e,n)},before:i,end(){s(),c=t(e,o)},after:a,cleanup(){l(),c()}})}function nt(e,t,n){if(-1===e.indexOf(t))return n;const r=e[e.indexOf(t)+1];if(!r)return n;if("scale"===t&&isNaN(r))return n;if("duration"===t||"delay"===t){let e=r.match(/([0-9]+)ms/);if(e)return e[1]}return"origin"===t&&["top","right","left","center","bottom"].includes(e[e.indexOf(t)+2])?[r,e[e.indexOf(t)+2]].join(" "):r}ye("transition",((e,{value:t,modifiers:n,expression:r},{evaluate:o})=>{"function"==typeof r&&(r=o(r)),!1!==r&&(r&&"boolean"!=typeof r?function(e,t,n){Ze(e,We,"");let r={enter:t=>{e._x_transition.enter.during=t},"enter-start":t=>{e._x_transition.enter.start=t},"enter-end":t=>{e._x_transition.enter.end=t},leave:t=>{e._x_transition.leave.during=t},"leave-start":t=>{e._x_transition.leave.start=t},"leave-end":t=>{e._x_transition.leave.end=t}};r[n](t)}(e,r,t):function(e,t,n){Ze(e,Ye);let r=!t.includes("in")&&!t.includes("out")&&!n,o=r||t.includes("in")||["enter"].includes(n),i=r||t.includes("out")||["leave"].includes(n);t.includes("in")&&!r&&(t=t.filter(((e,n)=>n<t.indexOf("out"))));t.includes("out")&&!r&&(t=t.filter(((e,n)=>n>t.indexOf("out"))));let a=!t.includes("opacity")&&!t.includes("scale"),s=a||t.includes("opacity"),l=a||t.includes("scale"),c=s?0:1,d=l?nt(t,"scale",95)/100:1,u=nt(t,"delay",0)/1e3,p=nt(t,"origin","center"),f="opacity, transform",h=nt(t,"duration",150)/1e3,m=nt(t,"duration",75)/1e3,y="cubic-bezier(0.4, 0.0, 0.2, 1)";o&&(e._x_transition.enter.during={transformOrigin:p,transitionDelay:`${u}s`,transitionProperty:f,transitionDuration:`${h}s`,transitionTimingFunction:y},e._x_transition.enter.start={opacity:c,transform:`scale(${d})`},e._x_transition.enter.end={opacity:1,transform:"scale(1)"});i&&(e._x_transition.leave.during={transformOrigin:p,transitionDelay:`${u}s`,transitionProperty:f,transitionDuration:`${m}s`,transitionTimingFunction:y},e._x_transition.leave.start={opacity:1,transform:"scale(1)"},e._x_transition.leave.end={opacity:c,transform:`scale(${d})`})}(e,n,t))})),window.Element.prototype._x_toggleAndCascadeWithTransitions=function(e,t,n,r){const o="visible"===document.visibilityState?requestAnimationFrame:setTimeout;let i=()=>o(n);t?e._x_transition&&(e._x_transition.enter||e._x_transition.leave)?e._x_transition.enter&&(Object.entries(e._x_transition.enter.during).length||Object.entries(e._x_transition.enter.start).length||Object.entries(e._x_transition.enter.end).length)?e._x_transition.in(n):i():e._x_transition?e._x_transition.in(n):i():(e._x_hidePromise=e._x_transition?new Promise(((t,n)=>{e._x_transition.out((()=>{}),(()=>t(r))),e._x_transitioning&&e._x_transitioning.beforeCancel((()=>n({isFromCancelledTransition:!0})))})):Promise.resolve(r),queueMicrotask((()=>{let t=et(e);t?(t._x_hideChildren||(t._x_hideChildren=[]),t._x_hideChildren.push(e)):o((()=>{let t=e=>{let n=Promise.all([e._x_hidePromise,...(e._x_hideChildren||[]).map(t)]).then((([e])=>e?.()));return delete e._x_hidePromise,delete e._x_hideChildren,n};t(e).catch((e=>{if(!e.isFromCancelledTransition)throw e}))}))})))};var rt=!1;function ot(e,t=(()=>{})){return(...n)=>rt?t(...n):e(...n)}var it=[];function at(e){it.push(e)}var st=!1;function lt(e){let t=y;k(((e,n)=>{let r=t(e);return g(r),()=>{}})),e(),k(t)}function ct(e,t,n,r=[]){switch(e._x_bindings||(e._x_bindings=m({})),e._x_bindings[t]=n,t=r.includes("camel")?t.toLowerCase().replace(/-(\w)/g,((e,t)=>t.toUpperCase())):t){case"value":!function(e,t){if("radio"===e.type)void 0===e.attributes.value&&(e.value=t),window.fromModel&&(e.checked="boolean"==typeof t?pt(e.value)===t:ut(e.value,t));else if("checkbox"===e.type)Number.isInteger(t)?e.value=t:Array.isArray(t)||"boolean"==typeof t||[null,void 0].includes(t)?Array.isArray(t)?e.checked=t.some((t=>ut(t,e.value))):e.checked=!!t:e.value=String(t);else if("SELECT"===e.tagName)!function(e,t){const n=[].concat(t).map((e=>e+""));Array.from(e.options).forEach((e=>{e.selected=n.includes(e.value)}))}(e,t);else{if(e.value===t)return;e.value=void 0===t?"":t}}(e,n);break;case"style":!function(e,t){e._x_undoAddedStyles&&e._x_undoAddedStyles();e._x_undoAddedStyles=Ye(e,t)}(e,n);break;case"class":!function(e,t){e._x_undoAddedClasses&&e._x_undoAddedClasses();e._x_undoAddedClasses=We(e,t)}(e,n);break;case"selected":case"checked":!function(e,t,n){dt(e,t,n),function(e,t,n){e[t]!==n&&(e[t]=n)}(e,t,n)}(e,t,n);break;default:dt(e,t,n)}}function dt(e,t,n){[null,void 0,!1].includes(n)&&function(e){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(e)}(t)?e.removeAttribute(t):(ft(t)&&(n=t),function(e,t,n){e.getAttribute(t)!=n&&e.setAttribute(t,n)}(e,t,n))}function ut(e,t){return e==t}function pt(e){return!![1,"1","true","on","yes",!0].includes(e)||![0,"0","false","off","no",!1].includes(e)&&(e?Boolean(e):null)}function ft(e){return["disabled","checked","required","readonly","open","selected","autofocus","itemscope","multiple","novalidate","allowfullscreen","allowpaymentrequest","formnovalidate","autoplay","controls","loop","muted","playsinline","default","ismap","reversed","async","defer","nomodule"].includes(e)}function ht(e,t,n){let r=e.getAttribute(t);return null===r?"function"==typeof n?n():n:""===r||(ft(t)?!![t,"true"].includes(r):r)}function mt(e,t){var n;return function(){var r=this,o=arguments;clearTimeout(n),n=setTimeout((function(){n=null,e.apply(r,o)}),t)}}function yt(e,t){let n;return function(){let r=this,o=arguments;n||(e.apply(r,o),n=!0,setTimeout((()=>n=!1),t))}}function gt({get:e,set:t},{get:n,set:r}){let o,i,a=!0,s=y((()=>{let s=e(),l=n();if(a)r(bt(s)),a=!1;else{let e=JSON.stringify(s),n=JSON.stringify(l);e!==o?r(bt(s)):e!==n&&t(bt(l))}o=JSON.stringify(e()),i=JSON.stringify(n())}));return()=>{g(s)}}function bt(e){return"object"==typeof e?JSON.parse(JSON.stringify(e)):e}var vt={},_t=!1;var xt={};function wt(e,t,n){let r=[];for(;r.length;)r.pop()();let o=Object.entries(t).map((([e,t])=>({name:e,value:t}))),i=be(o);return o=o.map((e=>i.find((t=>t.name===e.name))?{name:`x-bind:${e.name}`,value:`"${e.value}"`}:e)),ge(e,o,n).map((e=>{r.push(e.runCleanups),e()})),()=>{for(;r.length;)r.pop()()}}var Et={};var At={get reactive(){return m},get release(){return g},get effect(){return y},get raw(){return b},version:"3.14.1",flushAndStopDeferringMutations:function(){U=!1,K(z),z=[]},dontAutoEvaluateFunctions:ae,disableEffectScheduling:function(e){S=!1,e(),S=!0},startObservingMutations:$,stopObservingMutations:P,setReactivityEngine:function(e){m=e.reactive,g=e.release,y=t=>e.effect(t,{scheduler:e=>{S?E(e):e()}}),b=e.raw},onAttributeRemoved:L,onAttributesAdded:I,closestDataStack:Q,skipDuringClone:ot,onlyDuringClone:function(e){return(...t)=>rt&&e(...t)},addRootSelector:$e,addInitSelector:Pe,interceptClone:at,addScopeToNode:H,deferMutations:function(){U=!0},mapAttributes:Se,evaluateLater:le,interceptInit:function(e){Ue.push(e)},setEvaluator:function(e){ce=e},mergeProxies:q,extractProp:function(e,t,n,r=!0){if(e._x_bindings&&void 0!==e._x_bindings[t])return e._x_bindings[t];if(e._x_inlineBindings&&void 0!==e._x_inlineBindings[t]){let n=e._x_inlineBindings[t];return n.extract=r,ae((()=>se(e,n.expression)))}return ht(e,t,n)},findClosest:Ge,onElRemoved:T,closestRoot:je,destroyTree:Ke,interceptor:X,transition:tt,setStyles:Ye,mutateDom:G,directive:ye,entangle:gt,throttle:yt,debounce:mt,evaluate:se,initTree:ze,nextTick:Qe,prefixed:he,prefix:function(e){fe=e},plugin:function(e){(Array.isArray(e)?e:[e]).forEach((e=>e(At)))},magic:te,store:function(e,t){if(_t||(vt=m(vt),_t=!0),void 0===t)return vt[e];vt[e]=t,"object"==typeof t&&null!==t&&t.hasOwnProperty("init")&&"function"==typeof t.init&&vt[e].init(),Y(vt[e])},start:function(){var e;document.body,Te(document,"alpine:init"),Te(document,"alpine:initializing"),$(),e=e=>ze(e,Ie),M.push(e),T((e=>Ke(e))),I(((e,t)=>{ge(e,t).forEach((e=>e()))})),Array.from(document.querySelectorAll(Be().join(","))).filter((e=>!je(e.parentElement,!0))).forEach((e=>{ze(e)})),Te(document,"alpine:initialized"),setTimeout((()=>{[["ui","dialog",["[x-dialog], [x-popover]"]],["anchor","anchor",["[x-anchor]"]],["sort","sort",["[x-sort]"]]].forEach((([e,t,n])=>{var r;r=t,Object.keys(me).includes(r)||n.some((e=>{if(document.querySelector(e))return!0}))}))}))},clone:function(e,t){t._x_dataStack||(t._x_dataStack=e._x_dataStack),rt=!0,st=!0,lt((()=>{!function(e){let t=!1;ze(e,((e,n)=>{Ie(e,((e,r)=>{if(t&&function(e){return Fe().some((t=>e.matches(t)))}(e))return r();t=!0,n(e,r)}))}))}(t)})),rt=!1,st=!1},cloneNode:function(e,t){it.forEach((n=>n(e,t))),rt=!0,lt((()=>{ze(t,((e,t)=>{t(e,(()=>{}))}))})),rt=!1},bound:function(e,t,n){return e._x_bindings&&void 0!==e._x_bindings[t]?e._x_bindings[t]:ht(e,t,n)},$data:V,watch:N,walk:Ie,data:function(e,t){Et[e]=t},bind:function(e,t){let n="function"!=typeof t?()=>t:t;return e instanceof Element?wt(e,n()):(xt[e]=n,()=>{})}};function Ct(e,t){const n=Object.create(null),r=e.split(",");for(let e=0;e<r.length;e++)n[r[e]]=!0;return t?e=>!!n[e.toLowerCase()]:e=>!!n[e]}var St,kt=Object.freeze({}),Nt=(Object.freeze([]),Object.prototype.hasOwnProperty),Ot=(e,t)=>Nt.call(e,t),Dt=Array.isArray,Mt=e=>"[object Map]"===Rt(e),Tt=e=>"symbol"==typeof e,It=e=>null!==e&&"object"==typeof e,Lt=Object.prototype.toString,Rt=e=>Lt.call(e),Ft=e=>Rt(e).slice(8,-1),Bt=e=>"string"==typeof e&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,$t=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Pt=/-(\w)/g,jt=($t((e=>e.replace(Pt,((e,t)=>t?t.toUpperCase():"")))),/\B([A-Z])/g),Gt=($t((e=>e.replace(jt,"-$1").toLowerCase())),$t((e=>e.charAt(0).toUpperCase()+e.slice(1)))),Ut=($t((e=>e?`on${Gt(e)}`:"")),(e,t)=>e!==t&&(e==e||t==t)),zt=new WeakMap,Kt=[],Vt=Symbol("iterate"),Ht=Symbol("Map key iterate");var Qt=0;function qt(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}var Wt=!0,Jt=[];function Yt(){const e=Jt.pop();Wt=void 0===e||e}function Xt(e,t,n){if(!Wt||void 0===St)return;let r=zt.get(e);r||zt.set(e,r=new Map);let o=r.get(n);o||r.set(n,o=new Set),o.has(St)||(o.add(St),St.deps.push(o),St.options.onTrack&&St.options.onTrack({effect:St,target:e,type:t,key:n}))}function Zt(e,t,n,r,o,i){const a=zt.get(e);if(!a)return;const s=new Set,l=e=>{e&&e.forEach((e=>{(e!==St||e.allowRecurse)&&s.add(e)}))};if("clear"===t)a.forEach(l);else if("length"===n&&Dt(e))a.forEach(((e,t)=>{("length"===t||t>=r)&&l(e)}));else switch(void 0!==n&&l(a.get(n)),t){case"add":Dt(e)?Bt(n)&&l(a.get("length")):(l(a.get(Vt)),Mt(e)&&l(a.get(Ht)));break;case"delete":Dt(e)||(l(a.get(Vt)),Mt(e)&&l(a.get(Ht)));break;case"set":Mt(e)&&l(a.get(Vt))}s.forEach((a=>{a.options.onTrigger&&a.options.onTrigger({effect:a,target:e,key:n,type:t,newValue:r,oldValue:o,oldTarget:i}),a.options.scheduler?a.options.scheduler(a):a()}))}var en=Ct("__proto__,__v_isRef,__isVue"),tn=new Set(Object.getOwnPropertyNames(Symbol).map((e=>Symbol[e])).filter(Tt)),nn=sn(),rn=sn(!0),on=an();function an(){const e={};return["includes","indexOf","lastIndexOf"].forEach((t=>{e[t]=function(...e){const n=Gn(this);for(let e=0,t=this.length;e<t;e++)Xt(n,"get",e+"");const r=n[t](...e);return-1===r||!1===r?n[t](...e.map(Gn)):r}})),["push","pop","shift","unshift","splice"].forEach((t=>{e[t]=function(...e){Jt.push(Wt),Wt=!1;const n=Gn(this)[t].apply(this,e);return Yt(),n}})),e}function sn(e=!1,t=!1){return function(n,r,o){if("__v_isReactive"===r)return!e;if("__v_isReadonly"===r)return e;if("__v_raw"===r&&o===(e?t?Bn:Fn:t?Rn:Ln).get(n))return n;const i=Dt(n);if(!e&&i&&Ot(on,r))return Reflect.get(on,r,o);const a=Reflect.get(n,r,o);if(Tt(r)?tn.has(r):en(r))return a;if(e||Xt(n,"get",r),t)return a;if(Un(a)){return!i||!Bt(r)?a.value:a}return It(a)?e?Pn(a):$n(a):a}}function ln(e=!1){return function(t,n,r,o){let i=t[n];if(!e&&(r=Gn(r),i=Gn(i),!Dt(t)&&Un(i)&&!Un(r)))return i.value=r,!0;const a=Dt(t)&&Bt(n)?Number(n)<t.length:Ot(t,n),s=Reflect.set(t,n,r,o);return t===Gn(o)&&(a?Ut(r,i)&&Zt(t,"set",n,r,i):Zt(t,"add",n,r)),s}}var cn={get:nn,set:ln(),deleteProperty:function(e,t){const n=Ot(e,t),r=e[t],o=Reflect.deleteProperty(e,t);return o&&n&&Zt(e,"delete",t,void 0,r),o},has:function(e,t){const n=Reflect.has(e,t);return Tt(t)&&tn.has(t)||Xt(e,"has",t),n},ownKeys:function(e){return Xt(e,"iterate",Dt(e)?"length":Vt),Reflect.ownKeys(e)}},dn={get:rn,set:(e,t)=>!0,deleteProperty:(e,t)=>!0},un=e=>It(e)?$n(e):e,pn=e=>It(e)?Pn(e):e,fn=e=>e,hn=e=>Reflect.getPrototypeOf(e);function mn(e,t,n=!1,r=!1){const o=Gn(e=e.__v_raw),i=Gn(t);t!==i&&!n&&Xt(o,"get",t),!n&&Xt(o,"get",i);const{has:a}=hn(o),s=r?fn:n?pn:un;return a.call(o,t)?s(e.get(t)):a.call(o,i)?s(e.get(i)):void(e!==o&&e.get(t))}function yn(e,t=!1){const n=this.__v_raw,r=Gn(n),o=Gn(e);return e!==o&&!t&&Xt(r,"has",e),!t&&Xt(r,"has",o),e===o?n.has(e):n.has(e)||n.has(o)}function gn(e,t=!1){return e=e.__v_raw,!t&&Xt(Gn(e),"iterate",Vt),Reflect.get(e,"size",e)}function bn(e){e=Gn(e);const t=Gn(this);return hn(t).has.call(t,e)||(t.add(e),Zt(t,"add",e,e)),this}function vn(e,t){t=Gn(t);const n=Gn(this),{has:r,get:o}=hn(n);let i=r.call(n,e);i?In(n,r,e):(e=Gn(e),i=r.call(n,e));const a=o.call(n,e);return n.set(e,t),i?Ut(t,a)&&Zt(n,"set",e,t,a):Zt(n,"add",e,t),this}function _n(e){const t=Gn(this),{has:n,get:r}=hn(t);let o=n.call(t,e);o?In(t,n,e):(e=Gn(e),o=n.call(t,e));const i=r?r.call(t,e):void 0,a=t.delete(e);return o&&Zt(t,"delete",e,void 0,i),a}function xn(){const e=Gn(this),t=0!==e.size,n=Mt(e)?new Map(e):new Set(e),r=e.clear();return t&&Zt(e,"clear",void 0,void 0,n),r}function wn(e,t){return function(n,r){const o=this,i=o.__v_raw,a=Gn(i),s=t?fn:e?pn:un;return!e&&Xt(a,"iterate",Vt),i.forEach(((e,t)=>n.call(r,s(e),s(t),o)))}}function En(e,t,n){return function(...r){const o=this.__v_raw,i=Gn(o),a=Mt(i),s="entries"===e||e===Symbol.iterator&&a,l="keys"===e&&a,c=o[e](...r),d=n?fn:t?pn:un;return!t&&Xt(i,"iterate",l?Ht:Vt),{next(){const{value:e,done:t}=c.next();return t?{value:e,done:t}:{value:s?[d(e[0]),d(e[1])]:d(e),done:t}},[Symbol.iterator](){return this}}}}function An(e){return function(...t){t[0]&&t[0];return"delete"!==e&&this}}function Cn(){const e={get(e){return mn(this,e)},get size(){return gn(this)},has:yn,add:bn,set:vn,delete:_n,clear:xn,forEach:wn(!1,!1)},t={get(e){return mn(this,e,!1,!0)},get size(){return gn(this)},has:yn,add:bn,set:vn,delete:_n,clear:xn,forEach:wn(!1,!0)},n={get(e){return mn(this,e,!0)},get size(){return gn(this,!0)},has(e){return yn.call(this,e,!0)},add:An("add"),set:An("set"),delete:An("delete"),clear:An("clear"),forEach:wn(!0,!1)},r={get(e){return mn(this,e,!0,!0)},get size(){return gn(this,!0)},has(e){return yn.call(this,e,!0)},add:An("add"),set:An("set"),delete:An("delete"),clear:An("clear"),forEach:wn(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach((o=>{e[o]=En(o,!1,!1),n[o]=En(o,!0,!1),t[o]=En(o,!1,!0),r[o]=En(o,!0,!0)})),[e,n,t,r]}var[Sn,kn,Nn,On]=Cn();function Dn(e,t){const n=t?e?On:Nn:e?kn:Sn;return(t,r,o)=>"__v_isReactive"===r?!e:"__v_isReadonly"===r?e:"__v_raw"===r?t:Reflect.get(Ot(n,r)&&r in t?n:t,r,o)}var Mn={get:Dn(!1,!1)},Tn={get:Dn(!0,!1)};function In(e,t,n){const r=Gn(n);if(r!==n&&t.call(e,r)){Ft(e)}}var Ln=new WeakMap,Rn=new WeakMap,Fn=new WeakMap,Bn=new WeakMap;function $n(e){return e&&e.__v_isReadonly?e:jn(e,!1,cn,Mn,Ln)}function Pn(e){return jn(e,!0,dn,Tn,Fn)}function jn(e,t,n,r,o){if(!It(e))return e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;const i=o.get(e);if(i)return i;const a=(s=e).__v_skip||!Object.isExtensible(s)?0:function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}(Ft(s));var s;if(0===a)return e;const l=new Proxy(e,2===a?r:n);return o.set(e,l),l}function Gn(e){return e&&Gn(e.__v_raw)||e}function Un(e){return Boolean(e&&!0===e.__v_isRef)}te("nextTick",(()=>Qe)),te("dispatch",(e=>Te.bind(Te,e))),te("watch",((e,{evaluateLater:t,cleanup:n})=>(e,r)=>{let o=t(e),i=N((()=>{let e;return o((t=>e=t)),e}),r);n(i)})),te("store",(function(){return vt})),te("data",(e=>V(e))),te("root",(e=>je(e))),te("refs",(e=>(e._x_refs_proxy||(e._x_refs_proxy=q(function(e){let t=[];return Ge(e,(e=>{e._x_refs&&t.push(e._x_refs)})),t}(e))),e._x_refs_proxy)));var zn={};function Kn(e){return zn[e]||(zn[e]=0),++zn[e]}function Vn(e,t,n){te(t,(e=>{}))}te("id",((e,{cleanup:t})=>(n,r=null)=>function(e,t,n,r){e._x_id||(e._x_id={});if(e._x_id[t])return e._x_id[t];let o=r();return e._x_id[t]=o,n((()=>{delete e._x_id[t]})),o}(e,`${n}${r?`-${r}`:""}`,t,(()=>{let t=function(e,t){return Ge(e,(e=>{if(e._x_ids&&e._x_ids[t])return!0}))}(e,n),o=t?t._x_ids[n]:Kn(n);return r?`${n}-${o}-${r}`:`${n}-${o}`})))),at(((e,t)=>{e._x_id&&(t._x_id=e._x_id)})),te("el",(e=>e)),Vn("Focus","focus","focus"),Vn("Persist","persist","persist"),ye("modelable",((e,{expression:t},{effect:n,evaluateLater:r,cleanup:o})=>{let i=r(t),a=()=>{let e;return i((t=>e=t)),e},s=r(`${t} = __placeholder`),l=e=>s((()=>{}),{scope:{__placeholder:e}}),c=a();l(c),queueMicrotask((()=>{if(!e._x_model)return;e._x_removeModelListeners.default();let t=e._x_model.get,n=e._x_model.set,r=gt({get:()=>t(),set(e){n(e)}},{get:()=>a(),set(e){l(e)}});o(r)}))})),ye("teleport",((e,{modifiers:t,expression:n},{cleanup:r})=>{e.tagName.toLowerCase();let o=Qn(n),i=e.content.cloneNode(!0).firstElementChild;e._x_teleport=i,i._x_teleportBack=e,e.setAttribute("data-teleport-template",!0),i.setAttribute("data-teleport-target",!0),e._x_forwardEvents&&e._x_forwardEvents.forEach((t=>{i.addEventListener(t,(t=>{t.stopPropagation(),e.dispatchEvent(new t.constructor(t.type,t))}))})),H(i,{},e);let a=(e,t,n)=>{n.includes("prepend")?t.parentNode.insertBefore(e,t):n.includes("append")?t.parentNode.insertBefore(e,t.nextSibling):t.appendChild(e)};G((()=>{a(i,o,t),ot((()=>{ze(i),i._x_ignore=!0}))()})),e._x_teleportPutBack=()=>{let r=Qn(n);G((()=>{a(e._x_teleport,r,t)}))},r((()=>i.remove()))}));var Hn=document.createElement("div");function Qn(e){let t=ot((()=>document.querySelector(e)),(()=>Hn))();return t}var qn=()=>{};function Wn(e,t,n,r){let o=e,i=e=>r(e),a={},s=(e,t)=>n=>t(e,n);if(n.includes("dot")&&(t=t.replace(/-/g,".")),n.includes("camel")&&(t=function(e){return e.toLowerCase().replace(/-(\w)/g,((e,t)=>t.toUpperCase()))}(t)),n.includes("passive")&&(a.passive=!0),n.includes("capture")&&(a.capture=!0),n.includes("window")&&(o=window),n.includes("document")&&(o=document),n.includes("debounce")){let e=n[n.indexOf("debounce")+1]||"invalid-wait",t=Jn(e.split("ms")[0])?Number(e.split("ms")[0]):250;i=mt(i,t)}if(n.includes("throttle")){let e=n[n.indexOf("throttle")+1]||"invalid-wait",t=Jn(e.split("ms")[0])?Number(e.split("ms")[0]):250;i=yt(i,t)}return n.includes("prevent")&&(i=s(i,((e,t)=>{t.preventDefault(),e(t)}))),n.includes("stop")&&(i=s(i,((e,t)=>{t.stopPropagation(),e(t)}))),n.includes("once")&&(i=s(i,((e,n)=>{e(n),o.removeEventListener(t,i,a)}))),(n.includes("away")||n.includes("outside"))&&(o=document,i=s(i,((t,n)=>{e.contains(n.target)||!1!==n.target.isConnected&&(e.offsetWidth<1&&e.offsetHeight<1||!1!==e._x_isShown&&t(n))}))),n.includes("self")&&(i=s(i,((t,n)=>{n.target===e&&t(n)}))),(function(e){return["keydown","keyup"].includes(e)}(t)||Yn(t))&&(i=s(i,((e,t)=>{(function(e,t){let n=t.filter((e=>!["window","document","prevent","stop","once","capture","self","away","outside","passive"].includes(e)));if(n.includes("debounce")){let e=n.indexOf("debounce");n.splice(e,Jn((n[e+1]||"invalid-wait").split("ms")[0])?2:1)}if(n.includes("throttle")){let e=n.indexOf("throttle");n.splice(e,Jn((n[e+1]||"invalid-wait").split("ms")[0])?2:1)}if(0===n.length)return!1;if(1===n.length&&Xn(e.key).includes(n[0]))return!1;const r=["ctrl","shift","alt","meta","cmd","super"].filter((e=>n.includes(e)));if(n=n.filter((e=>!r.includes(e))),r.length>0){if(r.filter((t=>("cmd"!==t&&"super"!==t||(t="meta"),e[`${t}Key`]))).length===r.length){if(Yn(e.type))return!1;if(Xn(e.key).includes(n[0]))return!1}}return!0})(t,n)||e(t)}))),o.addEventListener(t,i,a),()=>{o.removeEventListener(t,i,a)}}function Jn(e){return!Array.isArray(e)&&!isNaN(e)}function Yn(e){return["contextmenu","click","mouse"].some((t=>e.includes(t)))}function Xn(e){if(!e)return[];var t;e=[" ","_"].includes(t=e)?t:t.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase();let n={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",comma:",",equal:"=",minus:"-",underscore:"_"};return n[e]=e,Object.keys(n).map((t=>{if(n[t]===e)return t})).filter((e=>e))}function Zn(e,t,n,r){return G((()=>{if(n instanceof CustomEvent&&void 0!==n.detail)return null!==n.detail&&void 0!==n.detail?n.detail:n.target.value;if("checkbox"===e.type){if(Array.isArray(r)){let e=null;return e=t.includes("number")?er(n.target.value):t.includes("boolean")?pt(n.target.value):n.target.value,n.target.checked?r.includes(e)?r:r.concat([e]):r.filter((t=>!(t==e)))}return n.target.checked}if("select"===e.tagName.toLowerCase()&&e.multiple)return t.includes("number")?Array.from(n.target.selectedOptions).map((e=>er(e.value||e.text))):t.includes("boolean")?Array.from(n.target.selectedOptions).map((e=>pt(e.value||e.text))):Array.from(n.target.selectedOptions).map((e=>e.value||e.text));{let o;return o="radio"===e.type?n.target.checked?n.target.value:r:n.target.value,t.includes("number")?er(o):t.includes("boolean")?pt(o):t.includes("trim")?o.trim():o}}))}function er(e){let t=e?parseFloat(e):null;return n=t,Array.isArray(n)||isNaN(n)?e:t;var n}function tr(e){return null!==e&&"object"==typeof e&&"function"==typeof e.get&&"function"==typeof e.set}qn.inline=(e,{modifiers:t},{cleanup:n})=>{t.includes("self")?e._x_ignoreSelf=!0:e._x_ignore=!0,n((()=>{t.includes("self")?delete e._x_ignoreSelf:delete e._x_ignore}))},ye("ignore",qn),ye("effect",ot(((e,{expression:t},{effect:n})=>{n(le(e,t))}))),ye("model",((e,{modifiers:t,expression:n},{effect:r,cleanup:o})=>{let i=e;t.includes("parent")&&(i=e.parentNode);let a,s=le(i,n);a="string"==typeof n?le(i,`${n} = __placeholder`):"function"==typeof n&&"string"==typeof n()?le(i,`${n()} = __placeholder`):()=>{};let l=()=>{let e;return s((t=>e=t)),tr(e)?e.get():e},c=e=>{let t;s((e=>t=e)),tr(t)?t.set(e):a((()=>{}),{scope:{__placeholder:e}})};"string"==typeof n&&"radio"===e.type&&G((()=>{e.hasAttribute("name")||e.setAttribute("name",n)}));var d="select"===e.tagName.toLowerCase()||["checkbox","radio"].includes(e.type)||t.includes("lazy")?"change":"input";let u=rt?()=>{}:Wn(e,d,t,(n=>{c(Zn(e,t,n,l()))}));if(t.includes("fill")&&([void 0,null,""].includes(l())||"checkbox"===e.type&&Array.isArray(l())||"select"===e.tagName.toLowerCase()&&e.multiple)&&c(Zn(e,t,{target:e},l())),e._x_removeModelListeners||(e._x_removeModelListeners={}),e._x_removeModelListeners.default=u,o((()=>e._x_removeModelListeners.default())),e.form){let n=Wn(e.form,"reset",[],(n=>{Qe((()=>e._x_model&&e._x_model.set(Zn(e,t,{target:e},l()))))}));o((()=>n()))}e._x_model={get:()=>l(),set(e){c(e)}},e._x_forceModelUpdate=t=>{void 0===t&&"string"==typeof n&&n.match(/\./)&&(t=""),window.fromModel=!0,G((()=>ct(e,"value",t))),delete window.fromModel},r((()=>{let n=l();t.includes("unintrusive")&&document.activeElement.isSameNode(e)||e._x_forceModelUpdate(n)}))})),ye("cloak",(e=>queueMicrotask((()=>G((()=>e.removeAttribute(he("cloak")))))))),Pe((()=>`[${he("init")}]`)),ye("init",ot(((e,{expression:t},{evaluate:n})=>"string"==typeof t?!!t.trim()&&n(t,{},!1):n(t,{},!1)))),ye("text",((e,{expression:t},{effect:n,evaluateLater:r})=>{let o=r(t);n((()=>{o((t=>{G((()=>{e.textContent=t}))}))}))})),ye("html",((e,{expression:t},{effect:n,evaluateLater:r})=>{let o=r(t);n((()=>{o((t=>{G((()=>{e.innerHTML=t,e._x_ignoreSelf=!0,ze(e),delete e._x_ignoreSelf}))}))}))})),Se(Ee(":",he("bind:")));var nr=(e,{value:t,modifiers:n,expression:r,original:o},{effect:i,cleanup:a})=>{if(!t){let t={};return s=t,Object.entries(xt).forEach((([e,t])=>{Object.defineProperty(s,e,{get:()=>(...e)=>t(...e)})})),void le(e,r)((t=>{wt(e,t,o)}),{scope:t})}var s;if("key"===t)return function(e,t){e._x_keyExpression=t}(e,r);if(e._x_inlineBindings&&e._x_inlineBindings[t]&&e._x_inlineBindings[t].extract)return;let l=le(e,r);i((()=>l((o=>{void 0===o&&"string"==typeof r&&r.match(/\./)&&(o=""),G((()=>ct(e,t,o,n)))})))),a((()=>{e._x_undoAddedClasses&&e._x_undoAddedClasses(),e._x_undoAddedStyles&&e._x_undoAddedStyles()}))};function rr(e,t,n,r){let o={};if(/^\[.*\]$/.test(e.item)&&Array.isArray(t)){e.item.replace("[","").replace("]","").split(",").map((e=>e.trim())).forEach(((e,n)=>{o[e]=t[n]}))}else if(/^\{.*\}$/.test(e.item)&&!Array.isArray(t)&&"object"==typeof t){e.item.replace("{","").replace("}","").split(",").map((e=>e.trim())).forEach((e=>{o[e]=t[e]}))}else o[e.item]=t;return e.index&&(o[e.index]=n),e.collection&&(o[e.collection]=r),o}function or(){}function ir(e,t,n){ye(t,(e=>{}))}nr.inline=(e,{value:t,modifiers:n,expression:r})=>{t&&(e._x_inlineBindings||(e._x_inlineBindings={}),e._x_inlineBindings[t]={expression:r,extract:!1})},ye("bind",nr),$e((()=>`[${he("data")}]`)),ye("data",((e,{expression:t},{cleanup:n})=>{if(function(e){return!!rt&&(!!st||e.hasAttribute("data-has-alpine-state"))}(e))return;t=""===t?"{}":t;let r={};ne(r,e);let o={};var i,a;i=o,a=r,Object.entries(Et).forEach((([e,t])=>{Object.defineProperty(i,e,{get:()=>(...e)=>t.bind(a)(...e),enumerable:!1})}));let s=se(e,t,{scope:o});void 0!==s&&!0!==s||(s={}),ne(s,e);let l=m(s);Y(l);let c=H(e,l);l.init&&se(e,l.init),n((()=>{l.destroy&&se(e,l.destroy),c()}))})),at(((e,t)=>{e._x_dataStack&&(t._x_dataStack=e._x_dataStack,t.setAttribute("data-has-alpine-state",!0))})),ye("show",((e,{modifiers:t,expression:n},{effect:r})=>{let o=le(e,n);e._x_doHide||(e._x_doHide=()=>{G((()=>{e.style.setProperty("display","none",t.includes("important")?"important":void 0)}))}),e._x_doShow||(e._x_doShow=()=>{G((()=>{1===e.style.length&&"none"===e.style.display?e.removeAttribute("style"):e.style.removeProperty("display")}))});let i,a=()=>{e._x_doHide(),e._x_isShown=!1},s=()=>{e._x_doShow(),e._x_isShown=!0},l=()=>setTimeout(s),c=Xe((e=>e?s():a()),(t=>{"function"==typeof e._x_toggleAndCascadeWithTransitions?e._x_toggleAndCascadeWithTransitions(e,t,s,a):t?l():a()})),d=!0;r((()=>o((e=>{(d||e!==i)&&(t.includes("immediate")&&(e?l():a()),c(e),i=e,d=!1)}))))})),ye("for",((e,{expression:t},{effect:n,cleanup:r})=>{let o=function(e){let t=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,n=/^\s*\(|\)\s*$/g,r=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,o=e.match(r);if(!o)return;let i={};i.items=o[2].trim();let a=o[1].replace(n,"").trim(),s=a.match(t);s?(i.item=a.replace(t,"").trim(),i.index=s[1].trim(),s[2]&&(i.collection=s[2].trim())):i.item=a;return i}(t),i=le(e,o.items),a=le(e,e._x_keyExpression||"index");e._x_prevKeys=[],e._x_lookup={},n((()=>function(e,t,n,r){let o=e=>"object"==typeof e&&!Array.isArray(e),i=e;n((n=>{var a;a=n,!Array.isArray(a)&&!isNaN(a)&&n>=0&&(n=Array.from(Array(n).keys(),(e=>e+1))),void 0===n&&(n=[]);let s=e._x_lookup,l=e._x_prevKeys,c=[],d=[];if(o(n))n=Object.entries(n).map((([e,o])=>{let i=rr(t,o,e,n);r((e=>{d.includes(e),d.push(e)}),{scope:{index:e,...i}}),c.push(i)}));else for(let e=0;e<n.length;e++){let o=rr(t,n[e],e,n);r((e=>{d.includes(e),d.push(e)}),{scope:{index:e,...o}}),c.push(o)}let u=[],p=[],f=[],h=[];for(let e=0;e<l.length;e++){let t=l[e];-1===d.indexOf(t)&&f.push(t)}l=l.filter((e=>!f.includes(e)));let y="template";for(let e=0;e<d.length;e++){let t=d[e],n=l.indexOf(t);if(-1===n)l.splice(e,0,t),u.push([y,e]);else if(n!==e){let t=l.splice(e,1)[0],r=l.splice(n-1,1)[0];l.splice(e,0,r),l.splice(n,0,t),p.push([t,r])}else h.push(t);y=t}for(let e=0;e<f.length;e++){let t=f[e];s[t]._x_effects&&s[t]._x_effects.forEach(A),s[t].remove(),s[t]=null,delete s[t]}for(let e=0;e<p.length;e++){let[t,n]=p[e],r=s[t],o=s[n],i=document.createElement("div");G((()=>{o.after(i),r.after(o),o._x_currentIfEl&&o.after(o._x_currentIfEl),i.before(r),r._x_currentIfEl&&r.after(r._x_currentIfEl),i.remove()})),o._x_refreshXForScope(c[d.indexOf(n)])}for(let e=0;e<u.length;e++){let[t,n]=u[e],r="template"===t?i:s[t];r._x_currentIfEl&&(r=r._x_currentIfEl);let o=c[n],a=d[n],l=document.importNode(i.content,!0).firstElementChild,p=m(o);H(l,p,i),l._x_refreshXForScope=e=>{Object.entries(e).forEach((([e,t])=>{p[e]=t}))},G((()=>{r.after(l),ot((()=>ze(l)))()})),s[a]=l}for(let e=0;e<h.length;e++)s[h[e]]._x_refreshXForScope(c[d.indexOf(h[e])]);i._x_prevKeys=d}))}(e,o,i,a))),r((()=>{Object.values(e._x_lookup).forEach((e=>e.remove())),delete e._x_prevKeys,delete e._x_lookup}))})),or.inline=(e,{expression:t},{cleanup:n})=>{let r=je(e);r._x_refs||(r._x_refs={}),r._x_refs[t]=e,n((()=>delete r._x_refs[t]))},ye("ref",or),ye("if",((e,{expression:t},{effect:n,cleanup:r})=>{e.tagName.toLowerCase();let o=le(e,t);n((()=>o((t=>{t?(()=>{if(e._x_currentIfEl)return e._x_currentIfEl;let t=e.content.cloneNode(!0).firstElementChild;H(t,{},e),G((()=>{e.after(t),ot((()=>ze(t)))()})),e._x_currentIfEl=t,e._x_undoIf=()=>{Ie(t,(e=>{e._x_effects&&e._x_effects.forEach(A)})),t.remove(),delete e._x_currentIfEl}})():e._x_undoIf&&(e._x_undoIf(),delete e._x_undoIf)})))),r((()=>e._x_undoIf&&e._x_undoIf()))})),ye("id",((e,{expression:t},{evaluate:n})=>{n(t).forEach((t=>function(e,t){e._x_ids||(e._x_ids={}),e._x_ids[t]||(e._x_ids[t]=Kn(t))}(e,t)))})),at(((e,t)=>{e._x_ids&&(t._x_ids=e._x_ids)})),Se(Ee("@",he("on:"))),ye("on",ot(((e,{value:t,modifiers:n,expression:r},{cleanup:o})=>{let i=r?le(e,r):()=>{};"template"===e.tagName.toLowerCase()&&(e._x_forwardEvents||(e._x_forwardEvents=[]),e._x_forwardEvents.includes(t)||e._x_forwardEvents.push(t));let a=Wn(e,t,n,(e=>{i((()=>{}),{scope:{$event:e},params:[e]})}));o((()=>a()))}))),ir("Collapse","collapse","collapse"),ir("Intersect","intersect","intersect"),ir("Focus","trap","focus"),ir("Mask","mask","mask"),At.setEvaluator(de),At.setReactivityEngine({reactive:$n,effect:function(e,t=kt){(function(e){return e&&!0===e._isEffect})(e)&&(e=e.raw);const n=function(e,t){const n=function(){if(!n.active)return e();if(!Kt.includes(n)){qt(n);try{return Jt.push(Wt),Wt=!0,Kt.push(n),St=n,e()}finally{Kt.pop(),Yt(),St=Kt[Kt.length-1]}}};return n.id=Qt++,n.allowRecurse=!!t.allowRecurse,n._isEffect=!0,n.active=!0,n.raw=e,n.deps=[],n.options=t,n}(e,t);return t.lazy||n(),n},release:function(e){e.active&&(qt(e),e.options.onStop&&e.options.onStop(),e.active=!1)},raw:Gn});var ar=At,sr=n(958),lr=n.n(sr),cr=n(65),dr=n.n(cr);const ur=dr().getLogger("abrsm"),pr=(ur.log,["Initial","1","2","3","4","5","6","7","8"]),fr={ABRSM:{years:["2023-2024","2025-2026"],grades:pr},Trinity:{years:["2023"],grades:pr}};function hr(e){return`${{d:"𝅘𝅥  𝅭 ",c:"𝅘𝅥 ",m:"𝅗𝅥 "}[e[0]]} = ${e.slice(1)}`}function mr(e){return`${{p:"𝆏",mf:"𝆐𝆑",f:"𝆑","p-f-p":"𝆏 - 𝆑 - 𝆏"}[e]}`}const yr={type:{scale:{disp:"Scale",colour:"cyan"},scale_third_apart:{disp:"Scale Third Apart",colour:"red"},scale_sixth_apart:{disp:"Scale Sixth Apart",colour:"green"},scale_contrary:{disp:"Contrary Motion Scale",colour:"green"},scale_chromatic:{disp:"Chromatic Scale",colour:"red"},scale_chromatic_major_sixth_apart:{disp:"Chromatic Scale Major Sixth Apart",colour:"red"},scale_chromatic_minor_third_apart:{disp:"Chromatic Scale Minor Third Apart",colour:"red"},scale_chromatic_contrary:{disp:"Contrary Motion Chromatic Scale",colour:"green"},scale_whole_tone:{disp:"Whole Tone Scale",colour:"red"},scale_in_thirds:{disp:"Scale in Thirds",colour:"red"},scale_in_sixths:{disp:"Scale in Sixths",colour:"green"},scale_in_thirds_chromatic:{disp:"Chromatic Scale in Thirds",colour:"green"},broken_triad:{disp:"Broken Triad",colour:"red"},broken_chord:{disp:"Broken Chord",colour:"red"},broken_chord_threes:{disp:"Broken Chord",colour:"red"},arpeggio:{disp:"Arpeggio",colour:"green"},arpeggio_dominant_seventh:{disp:"Arpeggio Dominant Seventh",colour:"red"},arpeggio_dominant_seventh_tonic:{disp:"Arpeggio Dominant Seventh (end on tonic)",colour:"green"},arpeggio_diminished_seventh:{disp:"Arpeggio Diminished Seventh",colour:"green"},arpeggio_contrary:{disp:"Contrary Motion Arpeggio",colour:"indigo"},set_exercise:{disp:"Set Exercise",colour:"red"}},key:{A:{disp:"A",colour:"red"},Bb:{disp:"B♭",colour:"red"},B:{disp:"B",colour:"red"},C:{disp:"C",colour:"red"},"C#":{disp:"C♯",colour:"red"},Db:{disp:"D♭",colour:"red"},"Db/C#":{disp:"D♭/C♯",colour:"red"},"C#/Db":{disp:"C♯/D♭",colour:"red"},D:{disp:"D",colour:"red"},Eb:{disp:"E♭",colour:"red"},E:{disp:"E",colour:"red"},F:{disp:"F",colour:"red"},"F#":{disp:"F♯",colour:"red"},Gb:{disp:"G♭",colour:"red"},"Gb/F#":{disp:"G♭/F♯",colour:"red"},"F#/Gb":{disp:"F♯/G♭",colour:"red"},G:{disp:"G",colour:"red"},"G#":{disp:"G♯",colour:"red"},Ab:{disp:"A♭",colour:"red"},"Ab/G#":{disp:"A♭/G♯",colour:"red"},"G#/Ab":{disp:"G♯/A♭",colour:"red"}},start_note:{A:{disp:"A",colour:"red"},"A#":{disp:"A♯",colour:"red"},Bb:{disp:"B♭",colour:"red"},B:{disp:"B",colour:"red"},C:{disp:"C",colour:"red"},"C#":{disp:"C♯",colour:"red"},Db:{disp:"D♭",colour:"red"},D:{disp:"D",colour:"red"},Eb:{disp:"E♭",colour:"red"},E:{disp:"E",colour:"red"},F:{disp:"F",colour:"red"},"F#":{disp:"F♯",colour:"red"},Gb:{disp:"G♭",colour:"red"},G:{disp:"G",colour:"red"},"G#":{disp:"G♯",colour:"red"},Ab:{disp:"A♭",colour:"red"},"F#,A#":{disp:"LH F♯, RH A♯",colour:"red"},"C#,E":{disp:"LH C♯, RH E",colour:"red"},"Eb,C":{disp:"LH E♭, RH C",colour:"red"},"Ab,F":{disp:"LH A♭, RH F",colour:"red"},"C,Eb":{disp:"LH C, RH E♭",colour:"red"},"C,E":{disp:"LH C, RH E",colour:"red"},"D,D":{disp:"LH D, RH D",colour:"red"}},mode:{M:{disp:"Major",colour:"red"},m:{disp:"Minor",colour:"green"},mn:{disp:"Natural Minor",colour:"red"},mh:{disp:"Harmonic Minor",colour:"green"},mm:{disp:"Melodic Minor",colour:"red"},mnmhmm:{disp:"Choice: (a) Natural, (b) Harmonic, or (c) Melodic Minor",colour:"red"},mhmmmn:{disp:"Choice: (a) Harmonic, (b) Melodic, or (c) Natural Minor",colour:"red"},mhmm:{disp:"Choice: (a) Harmonic, or (b) Melodic Minor",colour:"red"},mn_short:{disp:"Natural",colour:"red"},mh_short:{disp:"Harmonic",colour:"green"},mm_short:{disp:"Melodic",colour:"red"}},inversion:{i0:{disp:"Root Position",colour:"green"},i1:{disp:"1st Inversion",colour:"red"},i2:{disp:"2nd Inversion",colour:"green"}},dynamic:{p:{disp:mr("p"),colour:"green"},mf:{disp:mr("mf"),colour:"red"},f:{disp:mr("f"),colour:"green"},"p-f-p":{disp:mr("p-f-p"),colour:"yellow"}},hands:{l:{disp:"Left Hand",colour:"green"},r:{disp:"Right Hand",colour:"red"},t:{disp:"Hands Together",colour:"green"}},articulation:{L:{disp:"Legato",colour:"red"},S:{disp:"Staccato",colour:"red"}},octaves:{"1o":{disp:"1 Octave",colour:"red"},"2o":{disp:"2 Octaves",colour:"red"},"3o":{disp:"3 Octaves",colour:"red"},"4o":{disp:"4 Octaves",colour:"red"},to5th:{disp:"To 5th",colour:"yellow"}},group:{g1:{disp:"Group 1",colour:"magenta"},g2:{disp:"Group 2",colour:"black"},g3:{disp:"Group 3",colour:"yellow"}},number:{ex1:{disp:"1",colour:"black"},ex2:{disp:"2",colour:"black"},ex3:{disp:"3",colour:"black"}},letter:{a:{disp:"(a)",colour:"black"},b:{disp:"(b)",colour:"black"},c:{disp:"(c)",colour:"black"}},speed:{d50:{disp:hr("d52"),note:"3/8",val:52,colour:"lime"},c50:{disp:hr("c50"),note:"1/4",val:50,colour:"lime"},c52:{disp:hr("c52"),note:"1/4",val:52,colour:"lime"},c54:{disp:hr("c54"),note:"1/4",val:54,colour:"lime"},c58:{disp:hr("c58"),note:"1/4",val:58,colour:"lime"},c60:{disp:hr("c60"),note:"1/4",val:60,colour:"lime"},c63:{disp:hr("c63"),note:"1/4",val:63,colour:"lime"},c66:{disp:hr("c66"),note:"1/4",val:66,colour:"lime"},c70:{disp:hr("c70"),note:"1/4",val:70,colour:"lime"},c72:{disp:hr("c72"),note:"1/4",val:72,colour:"lime"},c80:{disp:hr("c80"),note:"1/4",val:80,colour:"lime"},c88:{disp:hr("c88"),note:"1/4",val:88,colour:"lime"},c90:{disp:hr("c90"),note:"1/4",val:90,colour:"lime"},c100:{disp:hr("c100"),note:"1/4",val:100,colour:"lime"},c110:{disp:hr("c110"),note:"1/4",val:110,colour:"lime"},c120:{disp:hr("c120"),note:"1/4",val:120,colour:"lime"},c130:{disp:hr("c130"),note:"1/4",val:130,colour:"lime"},c140:{disp:hr("c140"),note:"1/4",val:140,colour:"lime"},m44:{disp:hr("m44"),note:"1/4",val:88,colour:"lime"},m46:{disp:hr("m46"),note:"1/4",val:92,colour:"lime"},m50:{disp:hr("m50"),note:"1/4",val:100,colour:"lime"},m52:{disp:hr("m50"),note:"1/4",val:104,colour:"lime"},m56:{disp:hr("m56"),note:"1/4",val:112,colour:"lime"},m60:{disp:hr("m60"),note:"1/4",val:120,colour:"lime"},m66:{disp:hr("m66"),note:"1/4",val:132,colour:"lime"},m77:{disp:hr("m77"),note:"1/4",val:144,colour:"lime"},m80:{disp:hr("m80"),note:"1/4",val:160,colour:"lime"},m88:{disp:hr("m88"),note:"1/4",val:176,colour:"lime"}}},gr={exPackABRSM2025Initial:[{type:["scale"],key:["C"],mode:["M"],octaves:["1o"],hands:["l","r"],speed:["c54"]},{type:["scale"],key:["D"],mode:["mnmhmm"],octaves:["1o"],hands:["l","r"],speed:["c54"]},{type:["scale_contrary"],key:["C"],mode:["M"],octaves:["to5th"],speed:["c54"]},{type:["arpeggio"],key:["C"],mode:["M"],octaves:["to5th"],hands:["l","r"],speed:["c52"]},{type:["arpeggio"],key:["D"],mode:["m"],octaves:["to5th"],hands:["l","r"],speed:["c52"]}],exPackABRSM20251:[{type:["scale"],key:["C"],mode:["M"],octaves:["1o"],hands:["t"],speed:["c60"]},{type:["scale"],key:["G","F"],mode:["M"],octaves:["2o"],hands:["l","r"],speed:["c60"]},{type:["scale"],key:["A","D"],mode:["mnmhmm"],octaves:["2o"],hands:["l","r"],speed:["c60"]},{type:["scale_contrary"],key:["C"],mode:["M"],octaves:["1o"],speed:["c60"]},{type:["arpeggio"],key:["G"],mode:["M"],octaves:["1o"],hands:["l","r"],speed:["c58"]},{type:["arpeggio"],key:["A"],mode:["m"],octaves:["1o"],hands:["l","r"],speed:["c58"]}],exPackABRSM20252:[{type:["scale"],key:["G","F"],mode:["M"],octaves:["2o"],hands:["t"],speed:["c66"]},{type:["scale"],key:["A","D"],mode:["mnmhmm"],octaves:["2o"],hands:["t"],speed:["c66"]},{type:["scale"],key:["D","A"],mode:["M"],octaves:["2o"],hands:["l","r"],speed:["c66"]},{type:["scale"],key:["E","G"],mode:["mnmhmm"],octaves:["2o"],hands:["l","r"],speed:["c66"]},{type:["scale_contrary"],key:["C"],mode:["M"],octaves:["2o"],speed:["c66"]},{type:["scale_chromatic"],start_note:["D"],octaves:["1o"],hands:["l","r"],speed:["c66"]},{type:["arpeggio"],key:["D","A"],mode:["M"],octaves:["2o"],hands:["l","r"],speed:["c63"]},{type:["arpeggio"],key:["E","G"],mode:["m"],octaves:["2o"],hands:["l","r"],speed:["c63"]}],exPackABRSM20253:[{type:["scale"],key:["D","A"],mode:["M"],octaves:["2o"],hands:["t"],speed:["c80"]},{type:["scale"],key:["E","G"],mode:["mhmm"],octaves:["2o"],hands:["t"],speed:["c80"]},{type:["scale"],key:["Bb","Eb"],mode:["M"],octaves:["2o"],hands:["l","r"],speed:["c80"]},{type:["scale"],key:["B","C"],mode:["mhmm"],octaves:["2o"],hands:["l","r"],speed:["c80"]},{type:["scale_contrary"],key:["E"],mode:["M"],octaves:["2o"],speed:["c80"]},{type:["scale_chromatic_contrary"],start_note:["D"],octaves:["1o"],speed:["c80"]},{type:["arpeggio"],key:["D","A"],mode:["M"],octaves:["2o"],hands:["t"],speed:["c72"]},{type:["arpeggio"],key:["E","G"],mode:["m"],octaves:["2o"],hands:["t"],speed:["c72"]},{type:["arpeggio"],key:["Bb","Eb"],mode:["M"],octaves:["2o"],hands:["l","r"],speed:["c72"]},{type:["arpeggio"],key:["B","C"],mode:["m"],octaves:["2o"],hands:["l","r"],speed:["c72"]}],exPackABRSM20254:[{type:["scale"],key:["Bb","Eb"],mode:["M"],octaves:["2o"],hands:["t"],speed:["c100"]},{type:["scale"],key:["B","C"],mode:["mhmm"],octaves:["2o"],hands:["t"],speed:["c100"]},{type:["scale"],key:["B","F#","Ab"],mode:["M"],octaves:["2o"],hands:["l","r"],speed:["c100"]},{type:["scale"],key:["F#","F"],mode:["mhmm"],octaves:["2o"],hands:["l","r"],speed:["c100"]},{type:["scale_contrary"],key:["Eb"],mode:["M"],octaves:["2o"],speed:["c100"]},{type:["scale_contrary"],key:["C"],mode:["mh"],octaves:["2o"],speed:["c100"]},{type:["scale_chromatic"],start_note:["F#"],octaves:["2o"],hands:["t"],speed:["c100"]},{type:["arpeggio"],key:["Bb","Eb"],mode:["M"],octaves:["2o"],hands:["t"],speed:["c80"]},{type:["arpeggio"],key:["B","C"],mode:["m"],octaves:["2o"],hands:["t"],speed:["c80"]},{type:["arpeggio"],key:["B","F#","Ab"],mode:["M"],octaves:["2o"],hands:["l","r"],speed:["c80"]},{type:["arpeggio"],key:["F#","F"],mode:["m"],octaves:["2o"],hands:["l","r"],speed:["c80"]}],exPackABRSM20255:[{type:["scale"],key:["A","E","B","F#","Db"],mode:["M"],octaves:["2o"],articulation:["L"],hands:["t"],speed:["m60"]},{type:["scale"],key:["F#","C#","G#","Eb","Bb"],mode:["mhmm"],octaves:["2o"],articulation:["L"],hands:["t"],speed:["m60"]},{type:["scale"],key:["Ab"],mode:["M"],octaves:["2o"],articulation:["S"],hands:["l","r"],speed:["m60"]},{type:["scale"],key:["F"],mode:["mhmm"],octaves:["2o"],articulation:["S"],hands:["l","r"],speed:["m60"]},{type:["scale_contrary"],key:["Db"],mode:["M"],octaves:["2o"],articulation:["L"],speed:["m60"]},{type:["scale_contrary"],key:["C#"],mode:["mh"],octaves:["2o"],articulation:["L"],speed:["m60"]},{type:["scale_chromatic_contrary"],start_note:["F#,A#"],octaves:["2o"],articulation:["L"],speed:["m60"]},{type:["arpeggio"],key:["A","E","B","F#","Ab","Db"],mode:["M"],octaves:["2o"],articulation:["L"],hands:["t"],speed:["m44"]},{type:["arpeggio"],key:["F#","C#","G#","Eb","F","Bb"],mode:["m"],octaves:["2o"],articulation:["L"],hands:["t"],speed:["m44"]},{type:["arpeggio_diminished_seventh"],start_note:["B"],octaves:["2o"],articulation:["L"],hands:["l","r"],speed:["m44"]}],exPackABRSM20256:[{type:["scale"],key:["D","F","Ab","B"],mode:["M"],octaves:["4o"],articulation:["L","S"],hands:["t"],speed:["m77"]},{type:["scale"],key:["D","F","G#","B"],mode:["mh","mm"],octaves:["4o"],articulation:["L","S"],hands:["t"],speed:["m77"]},{type:["scale_contrary"],key:["D","F","Ab","B"],mode:["M"],octaves:["2o"],articulation:["L"],speed:["m77"]},{type:["scale_contrary"],key:["D","F","G#","B"],mode:["mh"],octaves:["2o"],articulation:["L"],speed:["m77"]},{type:["scale_chromatic"],start_note:["G#","B"],octaves:["4o"],articulation:["L","S"],hands:["t"],speed:["m77"]},{type:["arpeggio"],key:["D","F","Ab","B"],mode:["M"],octaves:["4o"],articulation:["L"],hands:["t"],speed:["m50"]},{type:["arpeggio"],key:["D","F","G#","B"],mode:["m"],octaves:["4o"],articulation:["L"],hands:["t"],speed:["m50"]},{type:["arpeggio_dominant_seventh_tonic"],key:["D","F","Ab","B"],octaves:["4o"],articulation:["L"],hands:["t"],speed:["m50"]},{type:["arpeggio_diminished_seventh"],start_note:["G#","B"],octaves:["4o"],articulation:["L"],hands:["t"],speed:["m50"]}],exPackABRSM20257:[{type:["scale"],key:["Db","E","G","Bb"],mode:["M"],octaves:["4o"],articulation:["L","S"],hands:["t"],speed:["m80"]},{type:["scale"],key:["C#","E","G","Bb"],mode:["mh","mm"],octaves:["4o"],articulation:["L","S"],hands:["t"],speed:["m80"]},{type:["scale_third_apart"],key:["Db","E","G","Bb"],mode:["M"],octaves:["4o"],articulation:["L","S"],speed:["m60"]},{type:["scale_third_apart"],key:["C#","E","G","Bb"],mode:["mh"],octaves:["4o"],articulation:["L","S"],speed:["m60"]},{type:["scale_contrary"],key:["Db","E","G","Bb"],mode:["M"],octaves:["2o"],articulation:["L","S"],speed:["m80"]},{type:["scale_contrary"],key:["C#","E","G","Bb"],mode:["mh"],octaves:["2o"],articulation:["L","S"],speed:["m80"]},{type:["scale_in_thirds"],key:["G"],mode:["M"],octaves:["2o"],articulation:["L","S"],hands:["l","r"],speed:["m46"]},{type:["scale_chromatic_contrary"],start_note:["C#,E"],octaves:["2o"],articulation:["L","S"],speed:["m80"]},{type:["arpeggio"],key:["Db","E","G","Bb"],mode:["M"],octaves:["4o"],inversion:["i1"],articulation:["L"],hands:["t"],speed:["m56"]},{type:["arpeggio"],key:["C#","E","G","Bb"],mode:["m"],octaves:["4o"],inversion:["i1"],articulation:["L"],hands:["t"],speed:["m56"]},{type:["arpeggio_dominant_seventh_tonic"],key:["Db","E","G","Bb"],octaves:["4o"],articulation:["L"],hands:["t"],speed:["m56"]},{type:["arpeggio_diminished_seventh"],start_note:["Bb","E"],octaves:["4o"],articulation:["L"],hands:["t"],speed:["m56"]}],exPackABRSM20258:[{type:["scale"],key:["C","Eb","F#","A"],mode:["M","mh","mm"],octaves:["4o"],articulation:["L","S"],hands:["t"],speed:["m88"]},{type:["scale_sixth_apart"],key:["C","Eb","F#","A"],mode:["M","mh"],octaves:["4o"],articulation:["L","S"],hands:["t"],speed:["m60"]},{type:["scale_contrary"],key:["C","Eb","F#","A"],mode:["M","mh"],octaves:["2o"],articulation:["L","S"],speed:["m88"]},{type:["scale_in_thirds"],key:["Eb"],mode:["M"],octaves:["2o"],articulation:["L"],hands:["l","r"],speed:["m52"]},{type:["scale_in_sixths"],key:["C"],mode:["M"],octaves:["2o"],articulation:["S"],hands:["l","r"],speed:["m52"]},{type:["scale_chromatic_major_sixth_apart"],start_note:["Eb,C"],octaves:["4o"],articulation:["L","S"],hands:["t"],speed:["m60"]},{type:["scale_whole_tone"],start_note:["Eb","C"],octaves:["4o"],articulation:["L","S"],hands:["t"],speed:["m88"]},{type:["arpeggio"],key:["C","Eb","F#","A"],mode:["M","m"],octaves:["4o"],inversion:["i2"],articulation:["L"],hands:["t"],speed:["m66"]},{type:["arpeggio_dominant_seventh_tonic"],key:["C","Eb","F#","A"],octaves:["4o"],articulation:["L"],hands:["t"],speed:["m66"]},{type:["arpeggio_diminished_seventh"],start_note:["Eb","C"],octaves:["4o"],articulation:["L"],hands:["t"],speed:["m66"]}],exPackTrinity2023Initial:[{type:["scale"],key:["C"],mode:["M"],octaves:["1o"],articulation:["L"],dynamic:["mf"],hands:["l","r"],speed:["c60"]},{type:["scale"],key:["A"],mode:["mhmmmn"],octaves:["1o"],articulation:["L"],dynamic:["mf"],hands:["l","r"],speed:["c60"]},{type:["broken_triad"],key:["C"],mode:["M"],octaves:["to5th"],articulation:["L"],dynamic:["mf"],hands:["l","r"],speed:["c60"]},{type:["broken_triad"],key:["A"],mode:["m"],octaves:["to5th"],articulation:["L"],dynamic:["mf"],hands:["l","r"],speed:["c60"]},{type:["set_exercise"],group:["g1","g2","g3"]}],exPackTrinity20231:[{type:["scale"],key:["F","G"],mode:["M"],octaves:["1o"],articulation:["L"],dynamic:["mf"],hands:["l","r"],speed:["c70"]},{type:["scale"],key:["D","E"],mode:["mhmmmn"],octaves:["1o"],articulation:["L"],dynamic:["mf"],hands:["l","r"],speed:["c70"]},{type:["scale_contrary"],key:["C"],mode:["M"],octaves:["1o"],articulation:["L"],dynamic:["mf"],speed:["c70"]},{type:["scale_chromatic_contrary"],start_note:["D"],octaves:["1o"],articulation:["L"],dynamic:["mf"],speed:["c70"]},{type:["broken_chord_threes"],key:["F","G"],mode:["M"],octaves:["1o"],articulation:["L"],dynamic:["mf"],hands:["l","r"],speed:["d50"]},{type:["broken_chord_threes"],key:["D","E"],mode:["m"],octaves:["1o"],articulation:["L"],dynamic:["mf"],hands:["l","r"],speed:["d50"]},{type:["set_exercise"],group:["g1","g2","g3"]}],exPackTrinity20232:[{type:["scale"],key:["Bb","D"],mode:["M"],octaves:["2o"],articulation:["L"],dynamic:["f","p"],hands:["t"],speed:["c80"]},{type:["scale"],key:["G","B"],mode:["mhmm"],octaves:["2o"],articulation:["L"],dynamic:["f","p"],hands:["t"],speed:["c80"]},{type:["scale_contrary"],key:["C"],mode:["M"],octaves:["2o"],articulation:["L"],dynamic:["f","p"],speed:["c80"]},{type:["scale_chromatic"],start_note:["Bb"],octaves:["2o"],articulation:["L"],dynamic:["f","p"],hands:["t"],speed:["c80"]},{type:["arpeggio"],key:["Bb","D"],mode:["M"],octaves:["2o"],articulation:["L"],dynamic:["mf"],hands:["l","r"],speed:["c60"]},{type:["arpeggio"],key:["G","B"],mode:["m"],octaves:["2o"],articulation:["L"],dynamic:["mf"],hands:["l","r"],speed:["c60"]},{type:["set_exercise"],group:["g1","g2","g3"]}],exPackTrinity20233:[{type:["scale"],key:["Eb","A"],mode:["M"],octaves:["2o"],articulation:["L"],dynamic:["f","p"],hands:["t"],speed:["c90"]},{type:["scale"],key:["C","F#"],mode:["mhmm"],octaves:["2o"],articulation:["L"],dynamic:["f","p"],hands:["t"],speed:["c90"]},{type:["scale_contrary"],key:["Eb"],mode:["M"],octaves:["2o"],articulation:["L"],dynamic:["f","p"],speed:["c90"]},{type:["scale_chromatic"],start_note:["F#"],octaves:["2o"],articulation:["L"],dynamic:["f","p"],hands:["t"],speed:["c90"]},{type:["arpeggio"],key:["Eb","A"],mode:["M"],octaves:["2o"],articulation:["L"],dynamic:["mf"],hands:["l","r"],speed:["c70"]},{type:["arpeggio"],key:["C","F#"],mode:["m"],octaves:["2o"],articulation:["L"],dynamic:["mf"],hands:["l","r"],speed:["c70"]},{type:["set_exercise"],group:["g1","g2","g3"]}],exPackTrinity20234:[{type:["scale"],key:["Ab","E"],mode:["M"],octaves:["2o"],articulation:["L","S"],dynamic:["f","p"],hands:["t"],speed:["c100"]},{type:["scale"],key:["F","C#"],mode:["mhmm"],octaves:["2o"],articulation:["L","S"],dynamic:["f","p"],hands:["t"],speed:["c100"]},{type:["scale_contrary"],key:["E"],mode:["M"],octaves:["2o"],articulation:["L","S"],dynamic:["f","p"],speed:["c100"]},{type:["scale_chromatic"],start_note:["B"],octaves:["2o"],articulation:["L","S"],dynamic:["f","p"],hands:["t"],speed:["c100"]},{type:["scale_chromatic_contrary"],start_note:["Ab"],octaves:["1o"],articulation:["L"],dynamic:["f","p"],speed:["c100"]},{type:["arpeggio"],key:["Ab","E"],mode:["M"],octaves:["2o"],articulation:["L"],dynamic:["f","p"],hands:["l","r"],speed:["c80"]},{type:["arpeggio"],key:["F","C#"],mode:["m"],octaves:["2o"],articulation:["L"],dynamic:["f","p"],hands:["l","r"],speed:["c80"]},{type:["set_exercise"],group:["g1","g2","g3"]}],exPackTrinity20235:[{type:["scale"],key:["Db","B"],mode:["M"],octaves:["2o"],articulation:["L","S"],dynamic:["f","p"],hands:["t"],speed:["c110"]},{type:["scale"],key:["Bb","G#"],mode:["mhmm"],octaves:["2o"],articulation:["L","S"],dynamic:["f","p"],hands:["t"],speed:["c110"]},{type:["scale_contrary"],key:["G"],mode:["mh"],octaves:["2o"],articulation:["L","S"],dynamic:["f","p"],speed:["c110"]},{type:["scale_chromatic"],start_note:["Db"],octaves:["2o"],articulation:["L","S"],dynamic:["f","p"],hands:["t"],speed:["c110"]},{type:["scale_chromatic_contrary"],start_note:["C,E"],octaves:["2o"],articulation:["L"],dynamic:["f","p"],speed:["c110"]},{type:["arpeggio"],key:["Db","B"],mode:["M"],octaves:["2o"],articulation:["L","S"],dynamic:["f","p"],hands:["l","r"],speed:["c90"]},{type:["arpeggio"],key:["Bb","G#"],mode:["m"],octaves:["2o"],articulation:["L","S"],dynamic:["f","p"],hands:["l","r"],speed:["c90"]},{type:["arpeggio_diminished_seventh"],start_note:["B"],octaves:["2o"],articulation:["L","S"],dynamic:["f","p"],hands:["t"],speed:["c90"]},{type:["set_exercise"],group:["g1","g2","g3"]}],exPackTrinity20236:[{type:["scale"],key:["Bb","D"],mode:["M"],octaves:["4o"],articulation:["L","S"],dynamic:["f","mf","p"],hands:["t"],speed:["c120"]},{type:["scale"],key:["Bb","D"],mode:["mh","mm"],octaves:["4o"],articulation:["L","S"],dynamic:["f","mf","p"],hands:["t"],speed:["c120"]},{type:["scale_chromatic"],start_note:["Bb","D"],octaves:["4o"],articulation:["L","S"],dynamic:["f","mf","p"],hands:["t"],speed:["c120"]},{type:["scale_chromatic_contrary"],start_note:["Eb"],octaves:["2o"],articulation:["L","S"],dynamic:["f","mf","p"],speed:["c120"]},{type:["scale_in_thirds"],key:["C"],mode:["M"],octaves:["1o"],articulation:["L"],dynamic:["f","mf","p"],hands:["l","r"],speed:["c60"]},{type:["arpeggio"],key:["Bb","D"],mode:["M","m"],octaves:["4o"],articulation:["L","S"],dynamic:["f","mf","p"],hands:["t"],speed:["c100"]},{type:["arpeggio_diminished_seventh"],start_note:["Bb","D"],octaves:["4o"],articulation:["L","S"],dynamic:["f","mf","p"],hands:["t"],speed:["c100"]},{type:["arpeggio_dominant_seventh"],key:["Bb","D"],octaves:["4o"],articulation:["L","S"],dynamic:["f","mf","p"],hands:["t"],speed:["c100"]},{type:["set_exercise"],group:["g1","g2","g3"]}],exPackTrinity20237:[{type:["scale"],key:["Ab","E"],mode:["M"],octaves:["4o"],articulation:["L","S"],dynamic:["f","mf","p","p-f-p"],hands:["t"],speed:["c130"]},{type:["scale"],key:["G#","E"],mode:["mh","mm"],octaves:["4o"],articulation:["L","S"],dynamic:["f","mf","p","p-f-p"],hands:["t"],speed:["c130"]},{type:["scale_chromatic_minor_third_apart"],start_note:["C,Eb"],octaves:["4o"],articulation:["L","S"],dynamic:["f","mf","p","p-f-p"],speed:["c130"]},{type:["scale_in_thirds"],key:["E"],mode:["M"],octaves:["2o"],articulation:["L"],dynamic:["mf"],hands:["l","r"],speed:["c70"]},{type:["arpeggio"],key:["Ab","E"],mode:["M"],octaves:["4o"],articulation:["L","S"],dynamic:["f","mf","p","p-f-p"],hands:["t"],speed:["c110"]},{type:["arpeggio"],key:["G#","E"],mode:["m"],octaves:["4o"],articulation:["L","S"],dynamic:["f","mf","p","p-f-p"],hands:["t"],speed:["c110"]},{type:["arpeggio_diminished_seventh"],start_note:["Ab","E"],octaves:["4o"],articulation:["L","S"],dynamic:["f","mf","p","p-f-p"],hands:["t"],speed:["c110"]},{type:["arpeggio_dominant_seventh"],key:["Ab","E"],octaves:["4o"],articulation:["L","S"],dynamic:["f","mf","p","p-f-p"],hands:["t"],speed:["c110"]},{type:["arpeggio_contrary"],key:["E"],mode:["M"],octaves:["2o"],articulation:["L"],dynamic:["f","mf","p","p-f-p"],speed:["c110"]},{type:["set_exercise"],group:["g1","g2","g3"]}],exPackTrinity20238:[{type:["scale"],key:["F#","Eb","B"],mode:["M","mh","mm"],octaves:["4o"],articulation:["L","S"],dynamic:["f","mf","p","p-f-p"],hands:["t"],speed:["c140"]},{type:["scale_chromatic"],start_note:["F#","Eb","B"],octaves:["4o"],articulation:["L","S"],dynamic:["f","mf","p","p-f-p"],hands:["t"],speed:["c140"]},{type:["scale_in_thirds"],key:["B"],mode:["M"],octaves:["2o"],articulation:["L"],dynamic:["mf"],hands:["l","r"],speed:["c80"]},{type:["scale_in_thirds"],key:["C"],mode:["mh"],octaves:["2o"],articulation:["L"],dynamic:["mf"],hands:["l","r"],speed:["c80"]},{type:["arpeggio"],key:["F#","Eb","B"],mode:["M","m"],octaves:["4o"],articulation:["L","S"],dynamic:["f","mf","p","p-f-p"],hands:["t"],speed:["c120"]},{type:["arpeggio_diminished_seventh"],start_note:["F#","Eb","B"],octaves:["4o"],articulation:["L","S"],dynamic:["f","mf","p","p-f-p"],hands:["t"],speed:["c120"]},{type:["arpeggio_dominant_seventh"],key:["F#","Eb","B"],octaves:["4o"],articulation:["L","S"],dynamic:["f","mf","p","p-f-p"],hands:["t"],speed:["c120"]},{type:["arpeggio_contrary"],key:["Eb"],mode:["M"],octaves:["2o"],articulation:["L"],dynamic:["f","mf","p","p-f-p"],speed:["c120"]},{type:["arpeggio_contrary"],key:["F#"],mode:["m"],octaves:["2o"],articulation:["L"],dynamic:["f","mf","p","p-f-p"],speed:["c120"]},{type:["set_exercise"],group:["g1","g2","g3"]}]};function br(e){ur.trace("unpack",e);let t=[];for(let n of e){let e=[];for(let t of Object.keys(n))"perm"!=t&&e.push({key:t,value:n[t]});t.push(e)}return t}function vr(e,t,n,r){if(1==e.length)for(let o of e[0].value)r[t+o]={...n,[e[0].key]:o};else for(let o of e[0].value)vr(e.slice(1),t+o,{...n,[e[0].key]:o},r)}gr.exPackABRSM2023Initial=gr.exPackABRSM2025Initial,gr.exPackABRSM20231=gr.exPackABRSM20251,gr.exPackABRSM20232=gr.exPackABRSM20252,gr.exPackABRSM20233=gr.exPackABRSM20253,gr.exPackABRSM20234=gr.exPackABRSM20254,gr.exPackABRSM20235=gr.exPackABRSM20255,gr.exPackABRSM20236=gr.exPackABRSM20256,gr.exPackABRSM20237=gr.exPackABRSM20257,gr.exPackABRSM20238=gr.exPackABRSM20258;let _r={};for(let e of Object.keys(fr)){_r[e]={};for(let t of fr[e].years){_r[e][t]={};for(let n of fr[e].grades){let r=gr["exPack"+e+t.slice(0,4)+n],o={};if(r){let e=br(r);for(let t of e)vr(t,"",{},o)}_r[e][t][n]=o}}}const xr={ORGS:["ABRSM","Trinity"],ORG_DATA:fr,LOOKUP:yr,exercises:_r},wr=dr().getLogger("abrsm"),Er=wr.log;Er("LOADED abc-gen.js");const Ar=(e,t)=>t.every((t=>e.includes(t)));function Cr(e){let t=4+{C:0,D:0,E:0,F:-1,G:-1,A:-1,B:-1}[e[0]],n=e[0]+t;return 2==e.length&&(n+=e[1]),n}function Sr(e){Er("getMidiKey()",e);let t=e.length>2?{"#":1,b:-1}[e[2]]:0;return lr().midiUtils.getMidiKey(e,t)}function kr(e,t=1){const n=["C","D","E","F","G","A","B"];let r=e[0],o=n.indexOf(r),i=Number(e[1]),a=e.length>2?e[2]:"",s={};if("#"==a)if(1==t){const e={B:"#",E:"#"};s.accidental=e[r]||"=",o==n.length-1?s.name=n[0]+(i+1):s.name=n[o+1]+i}else s.accidental="=",s.name=n[o]+i;else if("b"==a)if(1==t){const e={C:"=",F:"="};s.accidental=e[r]||"=",s.name=r+i}else{const e={C:"b",F:"b"};s.accidental=e[r]||"=",s.name=0==o?n[n.length-1]+(i-1):n[o-1]+i}else 1==t?["E","B"].indexOf(r)>-1?(s.accidental="=",o==n.length-1?s.name=n[0]+(i+1):s.name=n[o+1]+i):(s.accidental=1==t?"#":"b",s.name=n[o]+i):["C","F"].indexOf(r)>-1?(s.accidental="=",s.name=0==o?n[n.length-1]+(i-1):n[o-1]+i):(s.accidental="b",s.name=n[o]+i);return s.name+s.accidental}function Nr(e,t,n,r=1){let o=t[0],i=Number(t[1]);const a={A:{nextNote:"C",deltaOctave:1},B:{nextNote:"D",deltaOctave:1},C:{nextNote:"E",deltaOctave:0},D:{nextNote:"F",deltaOctave:0},E:{nextNote:"G",deltaOctave:0},F:{nextNote:"A",deltaOctave:0},G:{nextNote:"B",deltaOctave:0}},s={A:{nextNote:"F",deltaOctave:0},B:{nextNote:"G",deltaOctave:0},C:{nextNote:"A",deltaOctave:1},D:{nextNote:"B",deltaOctave:1},E:{nextNote:"C",deltaOctave:0},F:{nextNote:"D",deltaOctave:0},G:{nextNote:"E",deltaOctave:0}},l={2:{1:a,3:a,5:{A:{nextNote:"D",deltaOctave:1},B:{nextNote:"E",deltaOctave:1},C:{nextNote:"F",deltaOctave:0},D:{nextNote:"G",deltaOctave:0},E:{nextNote:"A",deltaOctave:0},F:{nextNote:"B",deltaOctave:0},G:{nextNote:"C",deltaOctave:1}}},0:{1:{A:{nextNote:"E",deltaOctave:0},B:{nextNote:"F",deltaOctave:0},C:{nextNote:"G",deltaOctave:1},D:{nextNote:"A",deltaOctave:1},E:{nextNote:"B",deltaOctave:1},F:{nextNote:"C",deltaOctave:0},G:{nextNote:"D",deltaOctave:0}},3:s,5:s}},c={2:{5:a,7:a,2:a,4:{A:{nextNote:"B",deltaOctave:0},B:{nextNote:"C",deltaOctave:1},C:{nextNote:"D",deltaOctave:0},D:{nextNote:"E",deltaOctave:0},E:{nextNote:"F",deltaOctave:0},F:{nextNote:"G",deltaOctave:0},G:{nextNote:"A",deltaOctave:0}}},0:{5:{A:{nextNote:"G",deltaOctave:0},B:{nextNote:"A",deltaOctave:0},C:{nextNote:"B",deltaOctave:1},D:{nextNote:"C",deltaOctave:0},E:{nextNote:"D",deltaOctave:0},F:{nextNote:"E",deltaOctave:0},G:{nextNote:"F",deltaOctave:0}},7:s,2:s,4:s}};let d=(e.includes("dominant")?c:l)[r+1][n][o];return d.nextNote+(i+r*d.deltaOctave)}function Or(e,t,n,r,o=""){const i={C:0,D:0,E:0,F:-1,G:-1,A:-1,B:-1},a={C:0,D:0,E:0,F:0,G:0,A:1,B:1},s={C:"E",D:"F",E:"G",F:"A",G:"B",A:"C",B:"D"};let l="C4";if("scale"==e||"scale_in_thirds"==e||"scale_whole_tone"==e){let e=4+i[t[0]];"l"==n&&e--,4==r&&["C","D","E"].indexOf(t[0])>-1&&e--,l=t[0]+e,2==t.length&&(l+=t[1])}else if("scale_contrary"==e){let e=4+i[t[0]];l=t[0]+e}else if("scale_third_apart"==e){let e=t[0],o=s[e],c=4+i[o],d=c-a[e];4==r&&["C","D","E"].indexOf(o)>-1&&(c--,d--),l="r"==n?o+c:e+d}else if("scale_sixth_apart"==e){let e=t[0],o=s[e],c=4+i[e],d=c-1+a[e];4==r&&["C","D","E"].indexOf(e)>-1&&(c--,d--),l="r"==n?e+c:o+d}else if("scale_chromatic"==e||"scale_chromatic_major_sixth_apart"==e||"scale_chromatic_minor_third_apart"==e||"scale_chromatic_contrary"==e){let a=Sr(Cr(t)),s=Sr(Cr(o)),c=4+i[t[0]];"l"==n&&("scale_chromatic_contrary"==e?a>s&&c--:a>=s&&c--),4==r&&("r"==n?["C","D","E"].indexOf(t[0])>-1&&c--:["C","D","E"].indexOf(o[0])>-1&&c--),l=t[0]+c,2==t.length&&(l+=t[1])}else{if(!e.includes("arpeggio")&&!e.includes("broken"))throw"BAD type zxc"+e;{let o=4+i[t[0]];"l"!=n||e.includes("contrary")||o--,4==r&&["C","D","E"].indexOf(t[0])>-1&&o--,l=t[0]+o,2==t.length&&(l+=t[1])}}return wr.log("=>",l),l}function Dr(e,t){let n=e.charCodeAt(0)-t.charCodeAt(0);return n<0&&(n+=7),n++,n}function Mr(e,t,n,r){const o={"#":"^",b:"_","=":"="},i={Cm:{"6th":"=","7th":"="},"C#m":{"6th":"^","7th":"^"},Dm:{"6th":"=","7th":"^"},Ebm:{"6th":"=","7th":"="},Em:{"6th":"^","7th":"^"},Fm:{"6th":"=","7th":"="},"F#m":{"6th":"^","7th":"^"},Gm:{"6th":"=","7th":"^"},"G#m":{"6th":"^","7th":"^^"},Am:{"6th":"^","7th":"^"},Bbm:{"6th":"=","7th":"="},Bm:{"6th":"^","7th":"^"}};let a=lr().abcUtils.getAbcNote(e),s=a.abcLetter+a.octaveModifier;if(t){let o=Dr(e[0],t[0]);1==r?("mm"==n&&6==o&&(s=i[t]["6th"]+s),["mh","mm"].indexOf(n)>-1&&7==o&&(s=i[t]["7th"]+s)):"mh"==n&&7==o&&(s=i[t]["7th"]+s)}return 3==e.length&&(s=o[e[2]]+s),s}function Tr(e){Er("getScale()",e);const t=["type","key","mode","firstAbsNote","numNotes","groupCount","includeFirstNote","direction"];if(!Ar(Object.keys(e),t))throw"Incomplete params "+JSON.stringify(e,0,2)+JSON.stringify(t,0,2);let n={artic:"L",startDynamic:"",endDynamic:"",first:!1,last:!1,...e},r=n.groupCount,o="S"==n.artic?".":"",i="";n.first&&n.startDynamic&&(i+=`"${n.startDynamic}"`),n.endDynamic!=n.startDynamic&&(n.endDynamic[2]>n.startDynamic[2]?i+='"_cs"':i+='"_ds"');let a,s,l,c,d=n.firstAbsNote,u=d;for(let e=0;e<n.numNotes;e++)(0!=e||n.includeFirstNote)&&(4==r&&(i+=" ",r=0),a=Mr(d,n.key,n.mode,n.direction),"scale_in_thirds"==n.type?(s=lr().abcUtils.incAbsNote(d,2),l=Mr(s,n.key,n.mode,n.direction),i+=`${o}[${a}${l}]`,c=s):i+=`${o}${a}`,n.endDynamic!=n.startDynamic&&e==n.numNotes-2&&(n.endDynamic[2]>n.startDynamic[2]?i+='"_ce"':i+='"_de"',i+=`"${n.endDynamic}"`),r++),u=d,d=lr().abcUtils.incAbsNote(d,n.direction);if(n.last){let e="";e="scale_in_thirds"==n.type?`${o}[${Mr(u)}${Mr(c)}]`:`${o}${Mr(u)}`,i+=`-${e}3`}return i=lr().abcUtils.preProcess(i,"P"),{abc:i,lastAbsNote:u,groupCount:r}}function Ir(e){Er("getWholeToneScale()",e);const t=["firstAbsNote","numNotes","groupCount","includeFirstNote","direction"];if(!Ar(Object.keys(e),t))throw"Incomplete params "+JSON.stringify(e,0,2)+JSON.stringify(t,0,2);let n={artic:"L",startDynamic:"",endDynamic:"",first:!1,last:!1,...e},r=n.groupCount,o="S"==n.artic?".":"",i="";n.first&&n.startDynamic&&(i+=`"${n.startDynamic}"`),n.endDynamic!=n.startDynamic&&(n.endDynamic[2]>n.startDynamic[2]?i+='"_cs"':i+='"_ds"');let a=n.firstAbsNote,s=a,l=Mr(a);for(let e=0;e<n.numNotes;e++)(0!=e||n.includeFirstNote)&&(4==r&&(i+=" ",r=0),l=Mr(a,null,null,n.direction),i+=`${o}${l}`,n.endDynamic!=n.startDynamic&&e==n.numNotes-2&&(n.endDynamic[2]>n.startDynamic[2]?i+='"_ce"':i+='"_de"',i+=`"${n.endDynamic}"`),r++),s=a,a=kr(a,n.direction),a=kr(a,n.direction);if(n.last){let e="";e=`${o}${Mr(s)}`,i+=`-${e}3`}return i=lr().abcUtils.preProcess(i,"P"),{abc:i,lastAbsNote:s,groupCount:r}}function Lr(e){Er("getChromaticScale()",e);const t=["firstAbsNote","numNotes","groupCount","includeFirstNote","direction"];if(!Ar(Object.keys(e),t))throw"Incomplete params "+JSON.stringify(e,0,2)+JSON.stringify(t,0,2);let n={artic:"L",startDynamic:"",endDynamic:"",first:!1,last:!1,...e},r=n.groupCount,o="S"==n.artic?".":"",i="";n.first&&n.startDynamic&&(i=`"${n.startDynamic}"`),n.endDynamic!=n.startDynamic&&(n.endDynamic[2]>n.startDynamic[2]?i+='"_cs"':i+='"_ds"');let a=n.firstAbsNote,s=a;for(let e=0;e<n.numNotes;e++)(0!=e||n.includeFirstNote)&&(4==r&&(i+=" ",r=0),i+=`${o}${Mr(a)}`,e==n.numNotes-2&&n.endDynamic!=n.startDynamic&&(n.endDynamic[2]>n.startDynamic[2]?i+='"_ce"':i+='"_de"',i+=`"${n.endDynamic}"`),r++),s=a,a=kr(a,n.direction);if(n.last){i+=`-${`${o}${Mr(s)}`}3`}return i=lr().abcUtils.preProcess(i,"P"),{abc:i,lastAbsNote:s,groupCount:r}}function Rr(e){Er("getArpeggio()",e);const t=["type","firstAbsNote","numNotes","groupCount","inversion","includeFirstNote","direction"];if(!Ar(Object.keys(e),t))throw"Incomplete params "+JSON.stringify(e,0,2)+JSON.stringify(t,0,2);let n,r={artic:"L",startDynamic:"",endDynamic:"",first:!1,last:!1,...e},o=r.groupCount,i="S"==r.artic?".":"",a="";r.first&&r.startDynamic&&(a=`"${r.startDynamic}"`),r.endDynamic!=r.startDynamic&&(r.endDynamic[2]>r.startDynamic[2]?a+='"_cs"':a+='"_ds"'),n=r.type.includes("dominant")?5:{i0:1,i1:3,i2:5}[r.inversion];let s,l=r.firstAbsNote,c=l,d=[];for(let e=0;e<r.numNotes;e++)if((0!=e||r.includeFirstNote)&&(4==o&&(a+=" ",o=0),s=Mr(l),d.push(l),a+=`${i}${s}`,e==r.numNotes-2&&r.endDynamic!=r.startDynamic&&(r.endDynamic[2]>r.startDynamic[2]?a+='"_ce"':a+='"_de"',a+=`"${r.endDynamic}"`),o++),c=l,e<r.numNotes-1){if("arpeggio_diminished_seventh"==r.type)for(let e=0;e<3;e++)l=kr(l,r.direction);else if("arpeggio_dominant_seventh_tonic"==r.type&&-1==r.direction&&e==r.numNotes-2){if(7!=n)throw"arpeggio_dominant_seventh_tonic penultimate degree !=7 : "+n;l=lr().abcUtils.incAbsNote(l,1)}else l=Nr(r.type,l,n,r.direction);"arpeggio_diminished_seventh"==r.type||(n=-1==r.direction?r.type.includes("dominant")?{4:2,2:7,7:5,5:4}[n]:{1:5,5:3,3:1}[n]:r.type.includes("dominant")?{5:7,7:2,2:4,4:5}[n]:{1:3,3:5,5:1}[n])}if(r.last){a+=`-${`${i}${Mr(c)}`}3`}return a=lr().abcUtils.preProcess(a,"P"),{abc:a,lastAbsNote:c,groupCount:o,absNoteArray:d}}const Fr={getAbc:function(e,t){Er("getAbc()",e,t);let n=e.key;(e.type.indexOf("chromatic")>-1||e.type.indexOf("diminished")>-1||e.type.indexOf("whole_tone")>-1)&&(n="None"),e.mode&&e.mode.indexOf("m")>-1&&(n+="m");let r=e.octaves[0],o=xr.LOOKUP.speed[e.speed],i=e.mode||"";if(i.length>2){i=e.mode.split(/(.{2})/).filter((e=>e))[["a","b","c"].indexOf(t)]}let a=e.articulation||"L";const s="\n",l={r:"[V:1]",l:"[V:4]"};let c;c=e.hands?"t"==e.hands?["r","l"]:[e.hands]:["r","l"];const d="_D1",u="_D4",p="_D6",f={p:{startDynamic:d,midDynamic:d,endDynamic:d},mf:{startDynamic:u,midDynamic:u,endDynamic:u},f:{startDynamic:p,midDynamic:p,endDynamic:p},"p-f-p":{startDynamic:d,midDynamic:p,endDynamic:d}};let h=e.dynamic?f[e.dynamic]:f.mf,m=`X:1\nT:${e.type} ${n}\nM:None\nL:1/8\nQ:${o.note}=${o.val}\nK:${n}\nV:1 clef=treble\nV:4 clef=bass`;if(["scale","scale_contrary","scale_third_apart","scale_sixth_apart","scale_in_thirds"].indexOf(e.type)>-1)for(let t of c){let o=Or(e.type,n[0],t,r),c=1;"scale_contrary"==e.type&&"l"==t&&(c=-1);let d={type:e.type,key:n,mode:i,firstAbsNote:o,numNotes:"to5th"==e.octaves?5:7*e.octaves[0]+1,groupCount:0,direction:c,includeFirstNote:!0,artic:a,startDynamic:h.startDynamic,endDynamic:h.midDynamic,first:!0},u=Tr(d),p=u.abc;c=-c,d={type:e.type,key:n,mode:i,firstAbsNote:u.lastAbsNote,numNotes:"to5th"==e.octaves?5:7*e.octaves[0]+1,groupCount:u.groupCount,direction:c,includeFirstNote:!1,artic:a,startDynamic:h.midDynamic,endDynamic:h.endDynamic,last:!0},u=Tr(d),p+=u.abc,m+=`${s}${l[t]}${s}${p}`}else if(["scale_whole_tone"].indexOf(e.type)>-1)for(let t of c){let n=1,o={firstAbsNote:Or(e.type,e.start_note,t,r),numNotes:6*r+1,includeFirstNote:!0,direction:n,groupCount:0,startDynamic:h.startDynamic,endDynamic:h.midDynamic,artic:a,first:!0},i=Ir(o),c=i.abc;n=-n,o={firstAbsNote:i.lastAbsNote,numNotes:6*r+1,includeFirstNote:!1,direction:n,groupCount:i.groupCount,artic:a,startDynamic:h.midDynamic,endDynamic:h.endDynamic,last:!0},i=Ir(o),c+=i.abc,m+=`${s}${l[t]}${s}${c}`}else if(["scale_chromatic","scale_chromatic_contrary","scale_chromatic_major_sixth_apart","scale_chromatic_minor_third_apart"].indexOf(e.type)>-1){let t={l:e.start_note,r:e.start_note};if(e.start_note.indexOf(",")>-1){let n=e.start_note.split(",");t={l:n[0],r:n[1]}}const n={l:"r",r:"l"};for(let o of c){let i=Or(e.type,t[o],o,r,t[n[o]]),c=1;e.type.indexOf("contrary")>-1&&"l"==o&&(c=-1);let d={firstAbsNote:i,numNotes:12*r+1,direction:c,groupCount:1,includeFirstNote:!0,artic:a,first:!0,startDynamic:h.startDynamic,endDynamic:h.midDynamic},u=Lr(d),p=u.abc;c=e.type.indexOf("contrary")>-1&&"l"==o?1:-1,d={firstAbsNote:u.lastAbsNote,numNotes:12*r+1,direction:c,groupCount:u.groupCount,includeFirstNote:!1,artic:a,last:!0,startDynamic:h.midDynamic,endDynamic:h.endDynamic},u=Lr(d),p+=u.abc,m+=`${s}${l[o]}${s}${p}`}}else if(["arpeggio","arpeggio_contrary","arpeggio_dominant_seventh","arpeggio_dominant_seventh_tonic","broken_triad"].indexOf(e.type)>-1){let t=e.type.includes("dominant")?4:3,n="to5th"==e.octaves?3:Number(e.octaves[0])*t+1,o=e.inversion||"i0";const i={C:"E",D:"F",E:"G",F:"A",G:"B",A:"C",B:"D"},d={C:"G",D:"A",E:"B",F:"C",G:"D",A:"E",B:"F"};let u=e.key[0];e.type.includes("dominant")&&(u=d[u]);let p={i0:u,i1:i[u],i2:d[u]};const f={l:"r",r:"l"};for(let t of c){let i=Or(e.type,p[o],t,r,p[f[t][o]]),c=1;e.type.includes("contrary")&&"l"==t&&(c=-c);let d={type:e.type,firstAbsNote:i,numNotes:n,inversion:o,groupCount:0,direction:c,includeFirstNote:!0,artic:a,startDynamic:h.startDynamic,endDynamic:h.midDynamic,first:!0},u=Rr(d),y=u.abc;c=-c;let g="to5th"==e.octaves?"i2":o;d={type:e.type,firstAbsNote:u.lastAbsNote,numNotes:n,inversion:g,groupCount:u.groupCount,direction:c,includeFirstNote:!1,artic:a,startDynamic:h.midDynamic,endDynamic:h.endDynamic,last:!0},u=Rr(d),y+=u.abc,m+=`${s}${l[t]}${s}${y}`}}else if(["broken_chord_threes"].indexOf(e.type)>-1){let t=e.key[0];const n={i0:"i1",i1:"i2",i2:"i0"},o={i0:"i2",i2:"i1",i1:"i0"};for(let i of c){let c,d,u={type:"arpeggio",firstAbsNote:Or(e.type,t,i,r),inversion:"i0",numNotes:4,groupCount:0,direction:1,includeFirstNote:!0},p=Rr(u),f=p.absNoteArray,y="",g=1,b="i2";for(let e=0;e<f.length;e++){let t=f[e];b=n[b],u={type:"arpeggio",firstAbsNote:t,inversion:b,numNotes:3,direction:g,groupCount:0,includeFirstNote:!0,artic:a};let r=Rr(u);0==e&&(y=`"${h.startDynamic}"`,h.midDynamic[2]>h.startDynamic[2]?y+='"_cs"':h.midDynamic[2]<h.startDynamic[2]&&(y+='"_ds"')),e==f.length-1?(h.midDynamic[2]>h.startDynamic[2]?y+=`"_ce""${h.midDynamic}"`:h.midDynamic[2]<h.startDynamic[2]&&(y+=`"_de""${h.midDynamic}"`),y+=`${"S"==a?".":""}${Mr(r.absNoteArray[0])}3 `,c=r.absNoteArray[1]):y+=`${r.abc} `}u={type:"arpeggio",firstAbsNote:c,inversion:"i1",numNotes:4,direction:-1,groupCount:0,includeFirstNote:!0},p=Rr(u),f=p.absNoteArray,b="i2",g=-g;for(let e=0;e<f.length;e++){let t=f[e];b=o[b],u={type:"arpeggio",firstAbsNote:t,inversion:b,numNotes:3,direction:g,groupCount:0,includeFirstNote:!0,artic:a};let n=Rr(u);0==e&&(h.endDynamic[2]>h.midDynamic[2]?y+='"_cs"':h.endDynamic[2]<h.midDynamic[2]&&(y+='"_ds"')),e==f.length-1?(h.endDynamic[2]>h.midDynamic[2]?y+=`"_ce""${h.endDynamic}"`:h.endDynamic[2]<h.midDynamic[2]&&(y+=`"_de""${h.endDynamic}"`),y+=`${"S"==a?".":""}${Mr(d)}3 `):y+=`${n.abc} `,d=n.absNoteArray[0]}m+=`${s}${l[i]}${s}${y}`}m=lr().abcUtils.preProcess(m,"P")}else{if(!(["arpeggio_diminished_seventh"].indexOf(e.type)>-1))throw"Unknown exercise type: "+e.type;{let t=4*Number(e.octaves[0])+1;for(let n of c){let o=Or(e.type,e.start_note,n,r),i=1,c={type:e.type,firstAbsNote:o,inversion:null,numNotes:t,direction:i,groupCount:0,includeFirstNote:!0,startDynamic:h.startDynamic,endDynamic:h.midDynamic,artic:a,first:!0},d=Rr(c),u=d.abc;i=-i,c={type:e.type,firstAbsNote:d.lastAbsNote,inversion:null,numNotes:t,direction:i,groupCount:d.groupCount,includeFirstNote:!1,artic:a,startDynamic:h.midDynamic,endDynamic:h.endDynamic,last:!0},d=Rr(c),u+=d.abc,m+=`${s}${l[n]}${s}${u}`}}}return m},__test__:{getScale:Tr,getChromaticScale:Lr,getWholeToneScale:Ir,getArpeggio:Rr,getFirstAbsNote:Or,incAbsNoteSemitone:kr,incAbsArpeggio:Nr,getAbcNote:Mr,getDegree:Dr}},Br=dr().getLogger("abrsm").log;Br("app.js");let $r=new(lr().Player)(null,null,(function(){Br("onEndPlay()"),ar.store("state").playing=""})),Pr=$r.context.loadInstrument("acoustic_grand_piano","sm");Promise.all([Pr]).then((function(e){Br("DONE LOADING INSTRUMENTS");const t=new CustomEvent("sfLoaded");document.dispatchEvent(t)}));const jr=["org","year","grade"],Gr=xr.ORGS,Ur=xr.ORG_DATA,zr={init:function(e,t,n){this.setCurrKeys(e,t,n)},setCurrKeys(e,t,n){let r=this.org;r.currKey=e,r=r[e].year,r.currKey=t,r=r[t].grade,r.currKey=n},getCurrVals(){return{org:this.getCurrValue("org"),year:this.getCurrValue("year"),grade:this.getCurrValue("grade")}},getCurrValue(e){let t=this;for(let n of jr){if(t=t[n],n==e)return t.currKey;t=t[t.currKey]}},getNextValue(e,t){Br("getNextValue()",e);let n=this;for(let r of jr){if(n=n[r],r==e){let e=n.keyIndex.indexOf(n.currKey)+t;e<0?e=n.keyIndex.length-1:e>n.keyIndex.length-1&&(e=0);let r=n.keyIndex[e];return n.currKey=r,n.currKey}n=n[n.currKey]}},org:{keyIndex:Gr,currKey:Gr[0],[Gr[0]]:{year:{keyIndex:Ur[Gr[0]].years,currKey:Ur[Gr[0]].years[0],[Ur[Gr[0]].years[0]]:{grade:{keyIndex:Ur[Gr[0]].grades,currKey:Ur[Gr[0]].grades[0]}},[Ur[Gr[0]].years[1]]:{grade:{keyIndex:Ur[Gr[0]].grades,currKey:Ur[Gr[0]].grades[0]}}}},[Gr[1]]:{year:{keyIndex:Ur[Gr[1]].years,currKey:Ur[Gr[1]].years[0],[Ur[Gr[1]].years[0]]:{grade:{keyIndex:Ur[Gr[1]].grades,currKey:Ur[Gr[1]].grades[0]}}}}}},Kr={home:{menuItems:[{id:"about",disp:"About"},{id:"settings",disp:"Settings"}],heading:"Exercises"},settings:{menuItems:[],heading:"Settings"},about:{menuItems:[],heading:"About"}};let Vr=["home"];function Hr(){Br("stop()"),$r.stop(),ar.store("state").playing=""}ar.store("state",{init(){Br("Alpine.store('state') init()"),this.orgSettings=zr,this.volume=70;let e=localStorage.getItem("settings");if(e){let t={};try{t=JSON.parse(e)}catch(e){}let n=xr.exercises;n[t.org]&&n[t.org][t.year]&&n[t.org][t.year][t.grade]&&this.orgSettings.init(t.org,t.year,t.grade),t.hasOwnProperty("volume")&&(this.volume=t.volume)}this.history=[];let t=localStorage.getItem("history");if(t){let e=[];try{e=JSON.parse(t)}catch(e){}Array.isArray(e)&&(this.history=e)}let n=this.orgSettings.getCurrVals();this.org=n.org,this.year=n.year,this.grade=n.grade,this.saveSettings(),this.scores=this.loadScores(),this.avgScore=this.getAvgScore(),this.getNextEx(),this.playing=""},cp:"home",exKey:"",getScore(){return this.scores[this.org][this.year][this.grade][this.exKey]},setScore(e){Br("setScore()",e),this.scores[this.org][this.year][this.grade][this.exKey]=e;let t=`score${this.org}${this.year}${this.grade}${this.exKey}`;localStorage.setItem(t,e)},loadScores(){let e={};for(const[t,n]of Object.entries(xr.ORG_DATA)){e[t]={};for(let r of n.years){e[t][r]={};for(let o of n.grades){e[t][r][o]={};for(let n of Object.keys(xr.exercises[t][r][o])){let i=`score${t}${r}${o}${n}`,a=localStorage.getItem(i);e[t][r][o][n]=a?Number(a):0}}}}return e},getAvgScore(){let e=this.scores[this.org][this.year][this.grade],t=Object.entries(e),n=0;for(let e of t)n+=e[1];return t.length>0?n/t.length:0},getNextEx(){Br("getNextEx()",this.org,this.year,this.grade),Hr();let e=this.scores[this.org][this.year][this.grade],t=this.currEx?this.currEx.type:"dummy",n=Object.keys(e).length;this.exKey&&(this.history.unshift(`${this.org}${this.year}${this.grade}${this.exKey}`),this.history.length>n&&this.history.splice(n)),localStorage.setItem("history",JSON.stringify(this.history));let r=0,o="";for(let i of Object.entries(e)){let e=this.history.indexOf(`${this.org}${this.year}${this.grade}${i[0]}`);e<0&&(e=n-1);let a=Math.pow((e+1)/n,2),s=6-i[1],l=Math.random()*s*a;""==o?(r=l,o=i[0],Br("zxc1",o,r)):o.indexOf(t)>-1?i[0].indexOf(t)<0?(r=l,o=i[0],Br("zxc2",o,r)):l>r&&(r=l,o=i[0],Br("zxc3",o,r)):i[0].indexOf(t)>-1||l>r&&(r=l,o=i[0],Br("zxc4",o,r))}this.exKey=o;let i=xr.exercises[this.org][this.year][this.grade][this.exKey];return this.choices=function(e){Br("getChoices()",e);let t=["a"];e.mode&&(e.mode.length>4?t=["a","b","c"]:e.mode.length>2&&(t=["a","b"]));return Br("=>",t),t}(i),this.avgScore=this.getAvgScore(),this.currEx=i,Br("=>",i),i},getCurrPage(){return Kr[this.cp]},pushPage(e){Br("pushPage()",e),Vr.push(e),this.cp=e;let t=Kr[e];return Br("=>",e,t),t},popPage(){Br("popPage()"),Vr.pop(),this.cp=Vr[Vr.length-1];let e=Kr[this.cp];return Br("=>",this.cp,e),e},settingsOK(){let e=this.orgSettings.getCurrVals();return this.org=e.org,this.year=e.year,this.grade=e.grade,localStorage.setItem("settings",JSON.stringify(e)),this.saveSettings(),this.getNextEx(),this.popPage()},settingsCancel(){return this.orgSettings=Object.assign({},zr),this.orgSettings.init(this.org,this.year,this.grade),this.popPage()},setVolume(e){Br("setVolume()",e),this.volume=e,$r.context.setVolume(this.volume),this.saveSettings()},saveSettings(){let e={volume:this.volume,...this.orgSettings.getCurrVals()};localStorage.setItem("settings",JSON.stringify(e))}});const Qr={ORG_SETTING_KEYS:jr,pages:Kr,play:function(e,t,n){Br("play()",e,t,n),$r.stop(),ar.store("state").playing=t;let r=Fr.getAbc(e,t);Br(r),$r.loadAbc(r),$r.context.setVolume(n),$r.start()},stop:Hr,isPlayable:function(e){return"set_exercise"!=e.type},dispExElem:function(e,t){return xr.LOOKUP[e][t].disp},getExElemStyle:function(e,t){return"background:"+xr.LOOKUP[e][t].colour}},qr=dr().getLogger("abrsm");let Wr="WARN";try{Wr="WARN"}catch(e){}qr.setLevel(Wr),qr.info("index.js"),window.Alpine=ar,window.app=Qr,ar.start()})()})();